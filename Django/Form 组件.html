<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Form 组件 | Kevin-Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/kevin-blog/logo.png">
    <meta name="description" content="">
    <link rel="preload" href="/kevin-blog/assets/css/0.styles.267bc68b.css" as="style"><link rel="preload" href="/kevin-blog/assets/js/app.dd46475d.js" as="script"><link rel="preload" href="/kevin-blog/assets/js/2.97d04891.js" as="script"><link rel="preload" href="/kevin-blog/assets/js/52.8bb5ec6f.js" as="script"><link rel="prefetch" href="/kevin-blog/assets/js/10.2b686438.js"><link rel="prefetch" href="/kevin-blog/assets/js/100.cfc5acd5.js"><link rel="prefetch" href="/kevin-blog/assets/js/101.628bd39e.js"><link rel="prefetch" href="/kevin-blog/assets/js/102.41585307.js"><link rel="prefetch" href="/kevin-blog/assets/js/103.5d18350a.js"><link rel="prefetch" href="/kevin-blog/assets/js/104.85cd65cf.js"><link rel="prefetch" href="/kevin-blog/assets/js/105.9d303bac.js"><link rel="prefetch" href="/kevin-blog/assets/js/106.73f6a263.js"><link rel="prefetch" href="/kevin-blog/assets/js/107.9dfe114c.js"><link rel="prefetch" href="/kevin-blog/assets/js/108.315e8c63.js"><link rel="prefetch" href="/kevin-blog/assets/js/109.ef21ffa0.js"><link rel="prefetch" href="/kevin-blog/assets/js/11.2b0f6358.js"><link rel="prefetch" href="/kevin-blog/assets/js/110.dfe062a3.js"><link rel="prefetch" href="/kevin-blog/assets/js/111.08f0c3e7.js"><link rel="prefetch" href="/kevin-blog/assets/js/112.0e180f10.js"><link rel="prefetch" href="/kevin-blog/assets/js/113.295f1fca.js"><link rel="prefetch" href="/kevin-blog/assets/js/114.5645d09d.js"><link rel="prefetch" href="/kevin-blog/assets/js/115.ebe19212.js"><link rel="prefetch" href="/kevin-blog/assets/js/116.b3eb5cab.js"><link rel="prefetch" href="/kevin-blog/assets/js/117.076c6372.js"><link rel="prefetch" href="/kevin-blog/assets/js/118.226fb513.js"><link rel="prefetch" href="/kevin-blog/assets/js/119.298c0302.js"><link rel="prefetch" href="/kevin-blog/assets/js/12.01390043.js"><link rel="prefetch" href="/kevin-blog/assets/js/120.943d0d71.js"><link rel="prefetch" href="/kevin-blog/assets/js/121.2d1bd8ef.js"><link rel="prefetch" href="/kevin-blog/assets/js/122.84b9dff1.js"><link rel="prefetch" href="/kevin-blog/assets/js/123.85d93d87.js"><link rel="prefetch" href="/kevin-blog/assets/js/124.4913aefd.js"><link rel="prefetch" href="/kevin-blog/assets/js/125.cf667169.js"><link rel="prefetch" href="/kevin-blog/assets/js/126.eefd3250.js"><link rel="prefetch" href="/kevin-blog/assets/js/127.f9697daf.js"><link rel="prefetch" href="/kevin-blog/assets/js/128.aff6033d.js"><link rel="prefetch" href="/kevin-blog/assets/js/129.fa7ec9a8.js"><link rel="prefetch" href="/kevin-blog/assets/js/13.e55a4126.js"><link rel="prefetch" href="/kevin-blog/assets/js/130.9d50b78d.js"><link rel="prefetch" href="/kevin-blog/assets/js/131.f384aa34.js"><link rel="prefetch" href="/kevin-blog/assets/js/132.e60091dc.js"><link rel="prefetch" href="/kevin-blog/assets/js/133.09a9de16.js"><link rel="prefetch" href="/kevin-blog/assets/js/134.a7739a99.js"><link rel="prefetch" href="/kevin-blog/assets/js/135.bea491db.js"><link rel="prefetch" href="/kevin-blog/assets/js/136.92af3a82.js"><link rel="prefetch" href="/kevin-blog/assets/js/137.dbda7b02.js"><link rel="prefetch" href="/kevin-blog/assets/js/138.9fea4ca4.js"><link rel="prefetch" href="/kevin-blog/assets/js/139.0a81aff9.js"><link rel="prefetch" href="/kevin-blog/assets/js/14.efd69f3b.js"><link rel="prefetch" href="/kevin-blog/assets/js/140.3f048218.js"><link rel="prefetch" href="/kevin-blog/assets/js/141.002d7568.js"><link rel="prefetch" href="/kevin-blog/assets/js/142.aec10062.js"><link rel="prefetch" href="/kevin-blog/assets/js/143.2e682c5b.js"><link rel="prefetch" href="/kevin-blog/assets/js/144.d05092f0.js"><link rel="prefetch" href="/kevin-blog/assets/js/145.358437b8.js"><link rel="prefetch" href="/kevin-blog/assets/js/146.af219f24.js"><link rel="prefetch" href="/kevin-blog/assets/js/147.061cb5fe.js"><link rel="prefetch" href="/kevin-blog/assets/js/148.422d1f87.js"><link rel="prefetch" href="/kevin-blog/assets/js/149.c97f27f4.js"><link rel="prefetch" href="/kevin-blog/assets/js/15.271f58eb.js"><link rel="prefetch" href="/kevin-blog/assets/js/150.177533a9.js"><link rel="prefetch" href="/kevin-blog/assets/js/151.d70f314c.js"><link rel="prefetch" href="/kevin-blog/assets/js/152.ca40e6fc.js"><link rel="prefetch" href="/kevin-blog/assets/js/153.a2bca317.js"><link rel="prefetch" href="/kevin-blog/assets/js/154.22edbf9f.js"><link rel="prefetch" href="/kevin-blog/assets/js/155.e59b2d87.js"><link rel="prefetch" href="/kevin-blog/assets/js/156.d5a38de8.js"><link rel="prefetch" href="/kevin-blog/assets/js/157.cbe5199a.js"><link rel="prefetch" href="/kevin-blog/assets/js/158.31c5b8b2.js"><link rel="prefetch" href="/kevin-blog/assets/js/159.0763ed0c.js"><link rel="prefetch" href="/kevin-blog/assets/js/16.e92cdd55.js"><link rel="prefetch" href="/kevin-blog/assets/js/160.a05ced02.js"><link rel="prefetch" href="/kevin-blog/assets/js/161.7e52ed13.js"><link rel="prefetch" href="/kevin-blog/assets/js/162.f5df7208.js"><link rel="prefetch" href="/kevin-blog/assets/js/163.78a78de8.js"><link rel="prefetch" href="/kevin-blog/assets/js/164.54fd347c.js"><link rel="prefetch" href="/kevin-blog/assets/js/165.a0347ed3.js"><link rel="prefetch" href="/kevin-blog/assets/js/166.0702e96e.js"><link rel="prefetch" href="/kevin-blog/assets/js/167.69136cd0.js"><link rel="prefetch" href="/kevin-blog/assets/js/168.d0aa7e0d.js"><link rel="prefetch" href="/kevin-blog/assets/js/169.6229f0ca.js"><link rel="prefetch" href="/kevin-blog/assets/js/17.9a006e5d.js"><link rel="prefetch" href="/kevin-blog/assets/js/170.b6571721.js"><link rel="prefetch" href="/kevin-blog/assets/js/171.600f9683.js"><link rel="prefetch" href="/kevin-blog/assets/js/172.6e1792a7.js"><link rel="prefetch" href="/kevin-blog/assets/js/173.cef126b3.js"><link rel="prefetch" href="/kevin-blog/assets/js/174.97b3e897.js"><link rel="prefetch" href="/kevin-blog/assets/js/175.fcefca30.js"><link rel="prefetch" href="/kevin-blog/assets/js/176.31862a66.js"><link rel="prefetch" href="/kevin-blog/assets/js/177.089b09c0.js"><link rel="prefetch" href="/kevin-blog/assets/js/178.a5dcd25c.js"><link rel="prefetch" href="/kevin-blog/assets/js/179.a9d685f2.js"><link rel="prefetch" href="/kevin-blog/assets/js/18.a1c24192.js"><link rel="prefetch" href="/kevin-blog/assets/js/180.4ad69266.js"><link rel="prefetch" href="/kevin-blog/assets/js/181.691d48a2.js"><link rel="prefetch" href="/kevin-blog/assets/js/182.e77aa679.js"><link rel="prefetch" href="/kevin-blog/assets/js/183.2b4341f4.js"><link rel="prefetch" href="/kevin-blog/assets/js/184.b3610e8b.js"><link rel="prefetch" href="/kevin-blog/assets/js/185.08107897.js"><link rel="prefetch" href="/kevin-blog/assets/js/186.9f5a3f65.js"><link rel="prefetch" href="/kevin-blog/assets/js/187.ac2fe2c2.js"><link rel="prefetch" href="/kevin-blog/assets/js/188.09023a78.js"><link rel="prefetch" href="/kevin-blog/assets/js/189.409b4ed0.js"><link rel="prefetch" href="/kevin-blog/assets/js/19.c733cdfe.js"><link rel="prefetch" href="/kevin-blog/assets/js/190.ca5d775c.js"><link rel="prefetch" href="/kevin-blog/assets/js/191.8052fe42.js"><link rel="prefetch" href="/kevin-blog/assets/js/192.31ebe059.js"><link rel="prefetch" href="/kevin-blog/assets/js/193.9bf32e11.js"><link rel="prefetch" href="/kevin-blog/assets/js/194.0667554a.js"><link rel="prefetch" href="/kevin-blog/assets/js/195.ea249ba4.js"><link rel="prefetch" href="/kevin-blog/assets/js/196.6278ec5a.js"><link rel="prefetch" href="/kevin-blog/assets/js/197.90f6af7b.js"><link rel="prefetch" href="/kevin-blog/assets/js/198.2e358b6a.js"><link rel="prefetch" href="/kevin-blog/assets/js/199.a0bd0085.js"><link rel="prefetch" href="/kevin-blog/assets/js/20.890583ea.js"><link rel="prefetch" href="/kevin-blog/assets/js/200.bc1e237a.js"><link rel="prefetch" href="/kevin-blog/assets/js/201.767e166e.js"><link rel="prefetch" href="/kevin-blog/assets/js/202.a52f0e94.js"><link rel="prefetch" href="/kevin-blog/assets/js/203.06f0ebab.js"><link rel="prefetch" href="/kevin-blog/assets/js/204.7ae45191.js"><link rel="prefetch" href="/kevin-blog/assets/js/205.b8412fbc.js"><link rel="prefetch" href="/kevin-blog/assets/js/206.682f9a3e.js"><link rel="prefetch" href="/kevin-blog/assets/js/207.8978346c.js"><link rel="prefetch" href="/kevin-blog/assets/js/208.35db8c05.js"><link rel="prefetch" href="/kevin-blog/assets/js/209.1eebeab0.js"><link rel="prefetch" href="/kevin-blog/assets/js/21.48328b6a.js"><link rel="prefetch" href="/kevin-blog/assets/js/210.b56db64f.js"><link rel="prefetch" href="/kevin-blog/assets/js/211.31da36f5.js"><link rel="prefetch" href="/kevin-blog/assets/js/212.2f2d2d1f.js"><link rel="prefetch" href="/kevin-blog/assets/js/213.be55b8cc.js"><link rel="prefetch" href="/kevin-blog/assets/js/214.aeffc247.js"><link rel="prefetch" href="/kevin-blog/assets/js/215.137bae15.js"><link rel="prefetch" href="/kevin-blog/assets/js/216.2692c636.js"><link rel="prefetch" href="/kevin-blog/assets/js/217.a6a9cf62.js"><link rel="prefetch" href="/kevin-blog/assets/js/218.7353ed7a.js"><link rel="prefetch" href="/kevin-blog/assets/js/219.f1fdfe8e.js"><link rel="prefetch" href="/kevin-blog/assets/js/22.5fd865e7.js"><link rel="prefetch" href="/kevin-blog/assets/js/220.e20ab2b5.js"><link rel="prefetch" href="/kevin-blog/assets/js/221.0d06c8b0.js"><link rel="prefetch" href="/kevin-blog/assets/js/222.e39491a9.js"><link rel="prefetch" href="/kevin-blog/assets/js/223.ae98df72.js"><link rel="prefetch" href="/kevin-blog/assets/js/224.4ba5d334.js"><link rel="prefetch" href="/kevin-blog/assets/js/225.913ee059.js"><link rel="prefetch" href="/kevin-blog/assets/js/226.b8d730bd.js"><link rel="prefetch" href="/kevin-blog/assets/js/227.69ee92e2.js"><link rel="prefetch" href="/kevin-blog/assets/js/228.1cf17cff.js"><link rel="prefetch" href="/kevin-blog/assets/js/229.6ce44fac.js"><link rel="prefetch" href="/kevin-blog/assets/js/23.9ef4ab20.js"><link rel="prefetch" href="/kevin-blog/assets/js/230.30c28e05.js"><link rel="prefetch" href="/kevin-blog/assets/js/231.ef327150.js"><link rel="prefetch" href="/kevin-blog/assets/js/232.6cb791d8.js"><link rel="prefetch" href="/kevin-blog/assets/js/233.473fa94b.js"><link rel="prefetch" href="/kevin-blog/assets/js/234.848de787.js"><link rel="prefetch" href="/kevin-blog/assets/js/235.f5db4ed9.js"><link rel="prefetch" href="/kevin-blog/assets/js/236.5da3f87c.js"><link rel="prefetch" href="/kevin-blog/assets/js/237.018a543d.js"><link rel="prefetch" href="/kevin-blog/assets/js/238.74d22845.js"><link rel="prefetch" href="/kevin-blog/assets/js/239.fca187a6.js"><link rel="prefetch" href="/kevin-blog/assets/js/24.3dff5faa.js"><link rel="prefetch" href="/kevin-blog/assets/js/240.0dbbfe84.js"><link rel="prefetch" href="/kevin-blog/assets/js/241.8b1ccf29.js"><link rel="prefetch" href="/kevin-blog/assets/js/242.f5216a9f.js"><link rel="prefetch" href="/kevin-blog/assets/js/243.8e5c5e34.js"><link rel="prefetch" href="/kevin-blog/assets/js/244.8f78ae9a.js"><link rel="prefetch" href="/kevin-blog/assets/js/245.e0b2e7b9.js"><link rel="prefetch" href="/kevin-blog/assets/js/246.7700207e.js"><link rel="prefetch" href="/kevin-blog/assets/js/247.c1e13b57.js"><link rel="prefetch" href="/kevin-blog/assets/js/248.63d6adf8.js"><link rel="prefetch" href="/kevin-blog/assets/js/249.500fdd00.js"><link rel="prefetch" href="/kevin-blog/assets/js/25.0ebddc27.js"><link rel="prefetch" href="/kevin-blog/assets/js/250.ebbb5c92.js"><link rel="prefetch" href="/kevin-blog/assets/js/251.4e51605e.js"><link rel="prefetch" href="/kevin-blog/assets/js/252.2534bb33.js"><link rel="prefetch" href="/kevin-blog/assets/js/253.330d0073.js"><link rel="prefetch" href="/kevin-blog/assets/js/254.da99904b.js"><link rel="prefetch" href="/kevin-blog/assets/js/255.f9a1774e.js"><link rel="prefetch" href="/kevin-blog/assets/js/256.7ee8ac66.js"><link rel="prefetch" href="/kevin-blog/assets/js/257.41594669.js"><link rel="prefetch" href="/kevin-blog/assets/js/258.9d8beffc.js"><link rel="prefetch" href="/kevin-blog/assets/js/259.1539043a.js"><link rel="prefetch" href="/kevin-blog/assets/js/26.7e91ac9d.js"><link rel="prefetch" href="/kevin-blog/assets/js/260.034695f0.js"><link rel="prefetch" href="/kevin-blog/assets/js/261.953910a0.js"><link rel="prefetch" href="/kevin-blog/assets/js/262.e2b0764f.js"><link rel="prefetch" href="/kevin-blog/assets/js/263.fe9b0b70.js"><link rel="prefetch" href="/kevin-blog/assets/js/264.489e20f7.js"><link rel="prefetch" href="/kevin-blog/assets/js/265.43596b34.js"><link rel="prefetch" href="/kevin-blog/assets/js/266.07bb7008.js"><link rel="prefetch" href="/kevin-blog/assets/js/267.5caf5b93.js"><link rel="prefetch" href="/kevin-blog/assets/js/268.fc6e09e2.js"><link rel="prefetch" href="/kevin-blog/assets/js/269.764500c0.js"><link rel="prefetch" href="/kevin-blog/assets/js/27.55c7093f.js"><link rel="prefetch" href="/kevin-blog/assets/js/270.9760648a.js"><link rel="prefetch" href="/kevin-blog/assets/js/271.019b1f9a.js"><link rel="prefetch" href="/kevin-blog/assets/js/272.bce07ec6.js"><link rel="prefetch" href="/kevin-blog/assets/js/273.038ff1e3.js"><link rel="prefetch" href="/kevin-blog/assets/js/274.2cb7fd59.js"><link rel="prefetch" href="/kevin-blog/assets/js/275.3c831af6.js"><link rel="prefetch" href="/kevin-blog/assets/js/276.8d0732f8.js"><link rel="prefetch" href="/kevin-blog/assets/js/277.5aa0c664.js"><link rel="prefetch" href="/kevin-blog/assets/js/278.a3cdd3b8.js"><link rel="prefetch" href="/kevin-blog/assets/js/279.d049a479.js"><link rel="prefetch" href="/kevin-blog/assets/js/28.da28db4a.js"><link rel="prefetch" href="/kevin-blog/assets/js/280.6b7f68c4.js"><link rel="prefetch" href="/kevin-blog/assets/js/281.eff251cb.js"><link rel="prefetch" href="/kevin-blog/assets/js/282.f0dc7866.js"><link rel="prefetch" href="/kevin-blog/assets/js/283.36ca2fb9.js"><link rel="prefetch" href="/kevin-blog/assets/js/284.470e6db4.js"><link rel="prefetch" href="/kevin-blog/assets/js/285.a9c60b36.js"><link rel="prefetch" href="/kevin-blog/assets/js/286.3eff6f51.js"><link rel="prefetch" href="/kevin-blog/assets/js/287.f406cf63.js"><link rel="prefetch" href="/kevin-blog/assets/js/288.d6bb5731.js"><link rel="prefetch" href="/kevin-blog/assets/js/289.518409f3.js"><link rel="prefetch" href="/kevin-blog/assets/js/29.37ea8137.js"><link rel="prefetch" href="/kevin-blog/assets/js/290.e4795980.js"><link rel="prefetch" href="/kevin-blog/assets/js/291.6ca97e3d.js"><link rel="prefetch" href="/kevin-blog/assets/js/292.f434852f.js"><link rel="prefetch" href="/kevin-blog/assets/js/293.256f39e1.js"><link rel="prefetch" href="/kevin-blog/assets/js/294.0e051edc.js"><link rel="prefetch" href="/kevin-blog/assets/js/295.d6a1cfbb.js"><link rel="prefetch" href="/kevin-blog/assets/js/296.9a3f4bb2.js"><link rel="prefetch" href="/kevin-blog/assets/js/297.374bbc2d.js"><link rel="prefetch" href="/kevin-blog/assets/js/298.c37b0145.js"><link rel="prefetch" href="/kevin-blog/assets/js/299.008098d2.js"><link rel="prefetch" href="/kevin-blog/assets/js/3.0c6053de.js"><link rel="prefetch" href="/kevin-blog/assets/js/30.24e20f30.js"><link rel="prefetch" href="/kevin-blog/assets/js/300.ab07139a.js"><link rel="prefetch" href="/kevin-blog/assets/js/301.69ee5ffa.js"><link rel="prefetch" href="/kevin-blog/assets/js/302.05af46d8.js"><link rel="prefetch" href="/kevin-blog/assets/js/303.cec1cf65.js"><link rel="prefetch" href="/kevin-blog/assets/js/304.7c82ba6c.js"><link rel="prefetch" href="/kevin-blog/assets/js/305.7ac25f4a.js"><link rel="prefetch" href="/kevin-blog/assets/js/306.82149841.js"><link rel="prefetch" href="/kevin-blog/assets/js/307.f56afc9c.js"><link rel="prefetch" href="/kevin-blog/assets/js/308.7c084ed0.js"><link rel="prefetch" href="/kevin-blog/assets/js/309.feb89623.js"><link rel="prefetch" href="/kevin-blog/assets/js/31.19d1e3af.js"><link rel="prefetch" href="/kevin-blog/assets/js/310.1e33889a.js"><link rel="prefetch" href="/kevin-blog/assets/js/311.416e7d20.js"><link rel="prefetch" href="/kevin-blog/assets/js/312.ee11dbec.js"><link rel="prefetch" href="/kevin-blog/assets/js/313.f58bb112.js"><link rel="prefetch" href="/kevin-blog/assets/js/314.543b2b1c.js"><link rel="prefetch" href="/kevin-blog/assets/js/315.18b9a70e.js"><link rel="prefetch" href="/kevin-blog/assets/js/316.6dfba854.js"><link rel="prefetch" href="/kevin-blog/assets/js/317.19590777.js"><link rel="prefetch" href="/kevin-blog/assets/js/318.a3ec0c19.js"><link rel="prefetch" href="/kevin-blog/assets/js/319.f990a61a.js"><link rel="prefetch" href="/kevin-blog/assets/js/32.07887ecb.js"><link rel="prefetch" href="/kevin-blog/assets/js/320.a3c5cbbf.js"><link rel="prefetch" href="/kevin-blog/assets/js/321.1f58e49c.js"><link rel="prefetch" href="/kevin-blog/assets/js/322.032ff5a2.js"><link rel="prefetch" href="/kevin-blog/assets/js/323.cdd3ba68.js"><link rel="prefetch" href="/kevin-blog/assets/js/324.5238a4e1.js"><link rel="prefetch" href="/kevin-blog/assets/js/325.df06c071.js"><link rel="prefetch" href="/kevin-blog/assets/js/33.9539a78e.js"><link rel="prefetch" href="/kevin-blog/assets/js/34.fa08dd12.js"><link rel="prefetch" href="/kevin-blog/assets/js/35.d6823664.js"><link rel="prefetch" href="/kevin-blog/assets/js/36.5e074071.js"><link rel="prefetch" href="/kevin-blog/assets/js/37.f4a65a95.js"><link rel="prefetch" href="/kevin-blog/assets/js/38.4f127420.js"><link rel="prefetch" href="/kevin-blog/assets/js/39.a5427f94.js"><link rel="prefetch" href="/kevin-blog/assets/js/4.a60d4c06.js"><link rel="prefetch" href="/kevin-blog/assets/js/40.859a530c.js"><link rel="prefetch" href="/kevin-blog/assets/js/41.b61d8247.js"><link rel="prefetch" href="/kevin-blog/assets/js/42.cd204014.js"><link rel="prefetch" href="/kevin-blog/assets/js/43.8076c8fc.js"><link rel="prefetch" href="/kevin-blog/assets/js/44.8a85cf72.js"><link rel="prefetch" href="/kevin-blog/assets/js/45.f46f354b.js"><link rel="prefetch" href="/kevin-blog/assets/js/46.5990e5be.js"><link rel="prefetch" href="/kevin-blog/assets/js/47.9381b746.js"><link rel="prefetch" href="/kevin-blog/assets/js/48.77d95473.js"><link rel="prefetch" href="/kevin-blog/assets/js/49.fc6dff0d.js"><link rel="prefetch" href="/kevin-blog/assets/js/5.6b8c7ebc.js"><link rel="prefetch" href="/kevin-blog/assets/js/50.297dac6d.js"><link rel="prefetch" href="/kevin-blog/assets/js/51.c6ed15a6.js"><link rel="prefetch" href="/kevin-blog/assets/js/53.32ab5818.js"><link rel="prefetch" href="/kevin-blog/assets/js/54.1fe541f9.js"><link rel="prefetch" href="/kevin-blog/assets/js/55.6084b23b.js"><link rel="prefetch" href="/kevin-blog/assets/js/56.242cd75a.js"><link rel="prefetch" href="/kevin-blog/assets/js/57.a3aa61b8.js"><link rel="prefetch" href="/kevin-blog/assets/js/58.5dc813ec.js"><link rel="prefetch" href="/kevin-blog/assets/js/59.0649b9f5.js"><link rel="prefetch" href="/kevin-blog/assets/js/6.8f60ce79.js"><link rel="prefetch" href="/kevin-blog/assets/js/60.e912e60f.js"><link rel="prefetch" href="/kevin-blog/assets/js/61.2348484b.js"><link rel="prefetch" href="/kevin-blog/assets/js/62.43b03d30.js"><link rel="prefetch" href="/kevin-blog/assets/js/63.6e56096d.js"><link rel="prefetch" href="/kevin-blog/assets/js/64.c45908b4.js"><link rel="prefetch" href="/kevin-blog/assets/js/65.aab0a20e.js"><link rel="prefetch" href="/kevin-blog/assets/js/66.2555ebea.js"><link rel="prefetch" href="/kevin-blog/assets/js/67.80828b1b.js"><link rel="prefetch" href="/kevin-blog/assets/js/68.5b1b38ff.js"><link rel="prefetch" href="/kevin-blog/assets/js/69.d735686b.js"><link rel="prefetch" href="/kevin-blog/assets/js/7.8fc0c0e7.js"><link rel="prefetch" href="/kevin-blog/assets/js/70.fd567fdf.js"><link rel="prefetch" href="/kevin-blog/assets/js/71.3dc39cbd.js"><link rel="prefetch" href="/kevin-blog/assets/js/72.6fe3454c.js"><link rel="prefetch" href="/kevin-blog/assets/js/73.80c96fab.js"><link rel="prefetch" href="/kevin-blog/assets/js/74.7b652913.js"><link rel="prefetch" href="/kevin-blog/assets/js/75.a9cc5506.js"><link rel="prefetch" href="/kevin-blog/assets/js/76.81bca567.js"><link rel="prefetch" href="/kevin-blog/assets/js/77.1851c464.js"><link rel="prefetch" href="/kevin-blog/assets/js/78.06a9be2e.js"><link rel="prefetch" href="/kevin-blog/assets/js/79.89ac9186.js"><link rel="prefetch" href="/kevin-blog/assets/js/8.d7f3575e.js"><link rel="prefetch" href="/kevin-blog/assets/js/80.76b8cfc2.js"><link rel="prefetch" href="/kevin-blog/assets/js/81.7c87b7a7.js"><link rel="prefetch" href="/kevin-blog/assets/js/82.1995f469.js"><link rel="prefetch" href="/kevin-blog/assets/js/83.dd77915d.js"><link rel="prefetch" href="/kevin-blog/assets/js/84.d167dd7d.js"><link rel="prefetch" href="/kevin-blog/assets/js/85.b858e7d4.js"><link rel="prefetch" href="/kevin-blog/assets/js/86.c4508e18.js"><link rel="prefetch" href="/kevin-blog/assets/js/87.e5015ac2.js"><link rel="prefetch" href="/kevin-blog/assets/js/88.03ea7184.js"><link rel="prefetch" href="/kevin-blog/assets/js/89.6c4aecd6.js"><link rel="prefetch" href="/kevin-blog/assets/js/9.541bf307.js"><link rel="prefetch" href="/kevin-blog/assets/js/90.e64c083e.js"><link rel="prefetch" href="/kevin-blog/assets/js/91.208ff0cf.js"><link rel="prefetch" href="/kevin-blog/assets/js/92.0247f769.js"><link rel="prefetch" href="/kevin-blog/assets/js/93.1d51e9e8.js"><link rel="prefetch" href="/kevin-blog/assets/js/94.52fd5e59.js"><link rel="prefetch" href="/kevin-blog/assets/js/95.3641a4fe.js"><link rel="prefetch" href="/kevin-blog/assets/js/96.a96da06a.js"><link rel="prefetch" href="/kevin-blog/assets/js/97.877152bf.js"><link rel="prefetch" href="/kevin-blog/assets/js/98.4fe249c2.js"><link rel="prefetch" href="/kevin-blog/assets/js/99.400d0dc4.js">
    <link rel="stylesheet" href="/kevin-blog/assets/css/0.styles.267bc68b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kevin-blog/" class="home-link router-link-active"><!----> <span class="site-name">Kevin-Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/ES6/Map 数据结构.html" class="nav-link">
  ES6
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Python/DBUtils 数据库连接池模块.html" class="nav-link">
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Django" class="dropdown-title"><span class="title">Django</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/Django/Ajax.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django ORM/ORM-ContentType.html" class="nav-link">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django Rest-Framework/JWT - JSON Web Tokens.html" class="nav-link">
  Rest-Framework
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Flask/Flask 文件上传.html" class="nav-link">
  Flask
</a></div><div class="nav-item"><a href="/kevin-blog/Git GitHub/Git.html" class="nav-link">
  Git GitHub
</a></div><div class="nav-item"><a href="/kevin-blog/Linux/CentOS 下载和安装.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/kevin-blog/MySQL/distinct 去重.html" class="nav-link">
  MySQL
</a></div><div class="nav-item"><a href="/kevin-blog/爬虫/Anaconda环境.html" class="nav-link">
  爬虫
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/ES6/Map 数据结构.html" class="nav-link">
  ES6
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Python/DBUtils 数据库连接池模块.html" class="nav-link">
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Django" class="dropdown-title"><span class="title">Django</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/Django/Ajax.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django ORM/ORM-ContentType.html" class="nav-link">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django Rest-Framework/JWT - JSON Web Tokens.html" class="nav-link">
  Rest-Framework
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Flask/Flask 文件上传.html" class="nav-link">
  Flask
</a></div><div class="nav-item"><a href="/kevin-blog/Git GitHub/Git.html" class="nav-link">
  Git GitHub
</a></div><div class="nav-item"><a href="/kevin-blog/Linux/CentOS 下载和安装.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/kevin-blog/MySQL/distinct 去重.html" class="nav-link">
  MySQL
</a></div><div class="nav-item"><a href="/kevin-blog/爬虫/Anaconda环境.html" class="nav-link">
  爬虫
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Django</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kevin-blog/Django/Ajax.html" class="sidebar-link">Ajax</a></li><li><a href="/kevin-blog/Django/App 概念.html" class="sidebar-link">App 概念</a></li><li><a href="/kevin-blog/Django/Cookie.html" class="sidebar-link">Cookie</a></li><li><a href="/kevin-blog/Django/Django 文件上传.html" class="sidebar-link">Django 文件上传</a></li><li><a href="/kevin-blog/Django/Django 日志配置.html" class="sidebar-link">Django 日志配置</a></li><li><a href="/kevin-blog/Django/Django使用Redis.html" class="sidebar-link">Django使用Redis</a></li><li><a href="/kevin-blog/Django/Django的时间问题.html" class="sidebar-link">Django的时间问题</a></li><li><a href="/kevin-blog/Django/Form 组件.html" class="active sidebar-link">Form 组件</a></li><li><a href="/kevin-blog/Django/HTML协议.html" class="sidebar-link">HTML协议</a></li><li><a href="/kevin-blog/Django/HTML模板.html" class="sidebar-link">HTML模板</a></li><li><a href="/kevin-blog/Django/JWT - JSON Web Tokens.html" class="sidebar-link">JWT - JSON Web Tokens</a></li><li><a href="/kevin-blog/Django/MVC框架和MTV框架（了解即可）.html" class="sidebar-link">MVC框架和MTV框架（了解即可）</a></li><li><a href="/kevin-blog/Django/ModelForm 组件.html" class="sidebar-link">ModelForm 组件</a></li><li><a href="/kevin-blog/Django/RESTful 规范.html" class="sidebar-link">RESTful 规范</a></li><li><a href="/kevin-blog/Django/Session.html" class="sidebar-link">Session</a></li><li><a href="/kevin-blog/Django/Web框架的本质（重要+理解）.html" class="sidebar-link">Web框架的本质（重要+理解）</a></li><li><a href="/kevin-blog/Django/admin 的使用.html" class="sidebar-link">admin 的使用</a></li><li><a href="/kevin-blog/Django/auth 认证模块.html" class="sidebar-link">auth 认证模块</a></li><li><a href="/kevin-blog/Django/cache 缓存系统.html" class="sidebar-link">cache 缓存系统</a></li><li><a href="/kevin-blog/Django/csrf token.html" class="sidebar-link">csrf token</a></li><li><a href="/kevin-blog/Django/media 多媒体文件的配置.html" class="sidebar-link">media 多媒体文件的配置</a></li><li><a href="/kevin-blog/Django/rest-framework token认证.html" class="sidebar-link">rest-framework token认证</a></li><li><a href="/kevin-blog/Django/rest-framework 框架.html" class="sidebar-link">rest-framework 框架</a></li><li><a href="/kevin-blog/Django/中间件.html" class="sidebar-link">中间件</a></li><li><a href="/kevin-blog/Django/使用Django的注意事项.html" class="sidebar-link">使用Django的注意事项</a></li><li><a href="/kevin-blog/Django/使用Python脚本调用Django环境.html" class="sidebar-link">使用Python脚本调用Django环境</a></li><li><a href="/kevin-blog/Django/内置分页（了解）.html" class="sidebar-link">内置分页（了解）</a></li><li><a href="/kevin-blog/Django/安装和启动.html" class="sidebar-link">安装和启动</a></li><li><a href="/kevin-blog/Django/自定义分页.html" class="sidebar-link">自定义分页</a></li><li><a href="/kevin-blog/Django/视图系统.html" class="sidebar-link">视图系统</a></li><li><a href="/kevin-blog/Django/跨域.html" class="sidebar-link">跨域</a></li><li><a href="/kevin-blog/Django/路由系统.html" class="sidebar-link">路由系统</a></li><li><a href="/kevin-blog/Django/配置文件.html" class="sidebar-link">配置文件</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><span><div><div><div><div><div><div><div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">介绍</span></h2><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;">通过Form类自动生成form表单中所需要的HTML</span></div><div><font style="font-size:14pt;"><br></font></div><div><span style="font-size:14pt;">创建Form类时，主要涉及到 【字段】 和 【插件（小部件）】，字段用于对用户请求数据的验证，插件用于自动生成HTML</span></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:18.6667px;">Form组件的功能:</span></div><div><span style="font-size:18.6667px;"><br></span></div><ul><li><div><span style="font-size:14pt;">通过Form类自动生成form表单中所需要的HTML</span></div></li><li><div><span style="font-size:14pt;">对提交的数据进行验证，并且返回错误信息</span></div></li><li><div><span style="font-size:14pt;">保留上次的输入内容</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:18.6667px;"><span style="font-size:18.6667px;color:rgb(255, 0, 0);">Form组件的注意事项</span>:</span></div><div><span style="font-size:18.6667px;"><br></span></div><ul><li><div><span style="font-size:14pt;">Form组件只能渲染出form表单中所需要的HTML，不能将对</span><span style="font-size:14pt;">应的数据自动填充到表单中（即：无法</span><span style="letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;">实现修改页面的自动填充数据效果</span><span style="font-size:14pt;">）</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><ul><ul><li><div>解决办法:</div></li><ul><li><div>不使用form组件渲染form表单，自己编写form表单，form组件只用于验证</div></li><li><div>不使用form组件，改为使用 modelForm</div></li></ul></ul></ul><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:18.6667px;">不要认为用了Form组件就一定要用它的自动渲染form表单功能，Form组件只用于验证，不做form表单渲染也是可以的，因为最后都是从 request.POST 中获取数据进行验证，前提是 form表单中的 name 需要和 form类中的字段名一致</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">创建对应的表单所需的HTML</span></h2><div><br></div><ul><li><div>通过 widgets 插件创建表单所需的HTML</div></li></ul><div><br></div><ul><li><div>写法一 -&gt; 常用 -&gt; 三种写法效果都是一样的</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class <font color="#FA7A00">Form的类名</font>(forms.Form):</div><div><font color="#41AD1C">'''</font></div><div><font color="#41AD1C">        字段名 -&gt; 对应着 html 中 name='xxx'</font></div><div><font color="#41AD1C">        字段类 -&gt; 对应着 html 中  type='xxx'</font></div><div><font color="#41AD1C">    '''</font></div><div><font color="#FA7A00">字段名</font> = forms.<font color="#FA7A00">字段类名</font>(</div><div><font color="#FA7A00">字段的参数</font>=<font color="#FA7A00">xxx</font>,</div><div><font color="#FA7A00">字段的参数</font>=<font color="#FA7A00">xxx</font>,</div><div>        widget=widgets.<font color="#FA7A00">xxx</font>()</div><div>    )</div></div><div><br></div><ul><li><div>写法二 -&gt; 三种写法效果都是一样的</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import fields</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><span style="color:rgb(65, 173, 28);"># 创建表单类</span></div><div>class <span style="color:rgb(250, 122, 0);">Form的类名</span>(forms.Form):</div><div><span style="color:rgb(65, 173, 28);">'''</span></div><div><span style="color:rgb(65, 173, 28);">        字段名 -&gt; 对应着 html 中 name='xxx'</span></div><div><span style="color:rgb(65, 173, 28);">        字段类 -&gt; 对应着 html 中  type='xxx'</span></div><div><span style="color:rgb(65, 173, 28);">    '''</span></div><div><span style="color:rgb(250, 122, 0);">字段名</span> = fields.<span style="color:rgb(250, 122, 0);">字段类名</span>(</div><div><span style="color:rgb(250, 122, 0);">字段的参数</span>=<span style="color:rgb(250, 122, 0);">xxx</span>,</div><div><span style="color:rgb(250, 122, 0);">字段的参数</span>=<span style="color:rgb(250, 122, 0);">xxx</span>,</div><div>        widget=widgets.<span style="color:rgb(250, 122, 0);">xxx</span>()</div><div>    )</div></div><div><br></div><ul><li><div>写法三 -&gt; 三种写法效果都是一样的</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><span style="color:rgb(65, 173, 28);"># 创建表单类</span></div><div>class <span style="color:rgb(250, 122, 0);">Form的类名</span>(forms.Form):</div><div><span style="color:rgb(65, 173, 28);">'''</span></div><div><span style="color:rgb(65, 173, 28);">        字段名 -&gt; 对应着 html 中 name='xxx'</span></div><div><span style="color:rgb(65, 173, 28);">        字段类 -&gt; 对应着 html 中  type='xxx'</span></div><div><span style="color:rgb(65, 173, 28);">    '''</span></div><div><span style="color:rgb(250, 122, 0);">字段名</span> = forms.fields.<span style="color:rgb(250, 122, 0);">字段类名</span>(</div><div><span style="color:rgb(250, 122, 0);">字段的参数</span>=<span style="color:rgb(250, 122, 0);">xxx</span>,</div><div><span style="color:rgb(250, 122, 0);">字段的参数</span>=<span style="color:rgb(250, 122, 0);">xxx</span>,</div><div>        widget=widgets.<span style="color:rgb(250, 122, 0);">xxx</span>()</div><div>    )</div></div><div><br></div><ul><li><div><span style="font-size:12pt;">input -&gt; 普通输入框</span></div></li></ul><div><br></div><ul><ul><li><div>写法一</div></li></ul></ul><div><br></div></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size:9pt;">from django import forms</font></div><div><font style="font-size:9pt;">from django.forms import widgets</font></div><div><font style="font-size:9pt;"><br></font></div><div><font style="font-size:9pt;"><br></font></div><div><font color="#41AD1C" style="font-size:9pt;"># 创建表单类</font></div><div><font style="font-size:9pt;">class RegFrom(forms.Form):</font></div><div><font style="font-size:9pt;"></font> username <font style="font-size:9pt;">= forms.CharField(</font></div><div><font style="font-size:9pt;">        max_length=16,</font></div><div><font style="font-size:9pt;">        label='用户名',</font></div><div><font style="font-size:9pt;">    )</font></div></div><div><br></div><ul><ul><li><div>写法二</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        max_length=16,</div><div>        label='用户名',</div><div>        widget=widgets.TextInput()</div><div>    )</div></div><div><br></div><ul><li><div>password -&gt; 密码输入框</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    password = forms.CharField(</div><div>        max_length=16,</div><div>        label='密码',</div><div>        widget=widgets.PasswordInput()  <font style="color:rgb(65, 173, 28);"># 使用 widgets 插件生成密码输入框</font></div><div>    )</div></div><div><br></div><ul><li><div>textarea -&gt; 文本域</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><font color="#41AD1C"><br></font></div><div><font style="color:rgb(65, 173, 28);"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    article = forms.CharField(</div><div>        widget=widgets.Textarea(attrs={'id': 'article', 'cols': '50', 'rows': '30'})  <font color="#41AD1C"># 如果 cols 和 rows 不传，默认为 {'cols': '40', 'rows': '10'}</font></div><div>    )</div></div><div><br></div><ul><li><div>file -&gt; 选择文件</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    img = forms.CharField(</div><div>        widget=widgets.FileInput()</div><div>    )</div></div><div><br></div><ul><li><div>radio -&gt; 单选按钮</div></li></ul><div><br></div><ul><ul><li><div>radio的值必须为字符串</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    city = forms.ChoiceField(</div><div>        choices=[[1, '东莞'], [2, '广州'], [3, '深圳']],</div><div>        label='城市',</div><div>        initial=3,  <font color="#41AD1C"># 默认选中第3个</font></div><div>        widget=widgets.RadioSelect()  <font color="#41AD1C"># 使用 widgets 插件生成单选按钮</font></div><div>    )</div></div><div><br></div><ul><li><div>select -&gt; 下拉选框</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    city = forms.ChoiceField(</div><div>        choices=[[1, '东莞'], [2, '广州'], [3, '深圳']],</div><div>        label='城市',</div><div>        initial=3,  <font color="#41AD1C"># 默认选中第3个</font></div><div>        widget=widgets.Select()  <font color="#41AD1C"># 使用 widgets 插件生成下拉选框</font></div><div>    )</div></div><div><br></div><ul><li><div>select -&gt; 多选的下拉选框</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    city = forms.ChoiceField(</div><div>        choices=[[1, '东莞'], [2, '广州'], [3, '深圳']],</div><div>        label='城市',</div><div>        initial=[1, 3],  <font color="#41AD1C"># 默认选中第1, 3个</font></div><div>        widget=widgets.SelectMultiple()  <font color="#41AD1C"># 使用 widgets 插件生成多选下拉选框</font></div><div>    )</div></div><div><br></div><ul><li><div>checkbox -&gt; 单选框</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    city = forms.ChoiceField(</div><div>        label='是否记住密码',</div><div>        initial='checked',  <font color="#41AD1C"># 默认选中</font></div><div>        widget=widgets.CheckboxInput()  <font color="#41AD1C"># 使用 widgets 插件生成单选框</font></div><div>    )</div></div><div><br></div><ul><li><div>checkbox -&gt; 复选框</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    city = forms.ChoiceField(</div><div>        choices=[[1, '东莞'], [2, '广州'], [3, '深圳']],</div><div>        label='城市',</div><div>        initial=[1, 3], <font color="#41AD1C"> # 默认选中第1, 3个</font></div><div>        widget=widgets.CheckboxSelectMultiple()  <font color="#41AD1C"># 使用 widgets 插件生成复选框</font></div><div>    )</div></div><div><br></div><ul><li><div><span style="color:rgb(227, 0, 0);">ChoiceField字段的注意事项 -&gt; 选择性标签实时更新问题</span></div></li></ul><div><br></div><ul><ul><li><div>在使用选择性标签时，需要注意choices的值可以是从数据库中获取到的值，但是由于是静态字段，获取的值无法实时更新，需要重写构造方法从而实现choice实时更新</div></li></ul></ul><div><br></div><ul><ul><li><div>方法一</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from .models import *</div><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div>    city = forms.ChoiceField(</div><div><font style="color:rgb(65, 173, 28);"># choices=[[1, '东莞'], [2, '广州'], [3, '深圳']],</font></div><div>        label='城市',</div><div>        initial=3,  <font color="#41AD1C"># 默认选中第3个</font></div><div>        widget=widgets.Select()  <font color="#41AD1C"># 使用 widgets 插件生成下拉选框</font></div><div>    )</div><div><br></div><div>    def __init__(self, *args, **kwargs):</div><div>        super().__init__(*args, **kwargs)</div><div><font color="#41AD1C"># </font><font color="#41AD1C">self.fields['city'].choices = [[1, '东莞'], [2, '广州'], [3, '深圳'], [4, '茂名']]</font></div><div><font color="#41AD1C">        # 或</font></div><div>        self.fields['city'].choices = Employee.objects.all().values_list('id', 'province')  <font color="#41AD1C"># 从数据库中获取数据，然后更新静态属性中的数据</font></div></div><div><br></div></div><ul><ul><li><div>方法二</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from .models import *</div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.forms import models as form_models</div><div><br></div><div><br></div><div><font color="#41AD1C"># 创建表单类</font></div><div>class RegFrom(forms.Form):</div><div><font color="#41AD1C"># </font><font color="#41AD1C">ChoiceField 方法接收一个列表或元祖</font></div><div>    city1 = forms.ChoiceField(choices=City.objects.all().values_list('pk', 'name'))  <font color="#41AD1C"># 下拉选框</font></div></div><div><br></div><ul><ul><li><div>方法二</div></li></ul></ul><div><br></div><ul><ul><ul><li><div>如果使用 ModelChoiceField 或 ModelMultipleChoiceField 方法最终显示的结果是 City Object，那么是因为 City 表没有配置 __str__ 方法</div></li></ul></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from .models import *</div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.forms import models as form_models</div><div><br></div><div><br></div><div><span style="color:rgb(65, 173, 28);"># 创建表单类</span></div><div>class RegFrom(forms.Form):</div><div><span style="color:rgb(65, 173, 28);">    # </span><span style="color:rgb(65, 173, 28);">ModelChoiceField 和 ModelMultipleChoiceField 方法接收一个 QuerySet 对象</span></div><div>    city2 = forms.ModelChoiceField(queryset=City.objects.all().values_list('province'))  <span style="color:rgb(65, 173, 28);"># 下拉选框</span></div><div>    city3 = forms.ModelMultipleChoiceField(queryset=City.objects.all().values_list('province'))  <span style="color:rgb(65, 173, 28);"># 多选下拉选框</span></div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">常用的字段参数</span></h2><div><br></div><ul><li><div>required</div></li></ul><div><br></div><ul><ul><li><div>是否不允许为空</div></li></ul></ul><div><br></div><ul><ul><li><div>默认值: True</div></li></ul></ul><div><br></div><ul><ul><li><div>如果不设置该参数，该字段默认不能为空</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    name = forms.CharField(</div><div>        required=False</div><div>    )</div></div><div><br></div><ul><li><div>widget -&gt; 插件</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    name = forms.CharField(</div><div>        widget=widgets.PasswordInput()</div><div>    )</div></div><div><br></div><ul><li><div>label -&gt; 用于生成Label标签或显示内容</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    name = forms.CharField(</div><div>        label='用户名',</div><div>    )</div></div><div><br></div><ul><li><div>initial -&gt; 初始值</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    name = forms.CharField(</div><div>        initial='初始值'</div><div>    )</div></div><div><br></div><ul><li><div>error_messages -&gt; 错误信息</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    name = forms.CharField(</div><div>        required=False,</div><div>        min_length=5,</div><div>        error_messages={</div><div>            'required': '不能为空',</div><div>            'min_length': '长度不能小于5'</div><div>        }</div><div>    )</div></div><div><br></div><ul><li><div>validators -&gt; 自定义验证规则</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.validators import RegexValidator  <font color="#41AD1C"># 导入 RegexValidator 验证器</font></div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    phone = forms.CharField(</div><div>        validators=[RegexValidator(r'^[0-9]+$', '请输入数字'), RegexValidator(r'^159[0-9]+$', '数字必须以159开头')],</div><div>    )</div></div><div><br></div><ul><li><div>disabled -&gt; 是否可以编辑</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    name = forms.CharField(</div><div>        disabled=True</div><div>    )</div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">所有内置字段参数</span></h2><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Field</div><div>    required=True,                <font color="#41AD1C">是否允许为空</font></div><div>    widget=None,                  <font color="#4DCE1D">HTML插件</font></div><div>    label=None,                   <font color="#41AD1C">用于生成Label标签或显示内容</font></div><div>    initial=None,                 <font color="#41AD1C">初始值</font></div><div>    help_text='',                 <font color="#41AD1C">帮助信息(在标签旁边显示)</font></div><div>    error_messages=None,          <font style="color:rgb(65, 173, 28);">错误信息 {'required': '不能为空', 'invalid': '格式错误'}</font></div><div>    validators=[],                <font color="#41AD1C">自定义验证规则</font></div><div>    localize=False,               <font color="#41AD1C">是否支持本地化</font></div><div>    disabled=False,               <font color="#41AD1C">是否可以编辑</font></div><div>    label_suffix=None             <font color="#41AD1C">Label内容后缀</font></div><div><br></div><div><br></div><div>CharField(Field)</div><div>    max_length=None,              <font color="#41AD1C">最大长度</font></div><div>    min_length=None,              <font color="#41AD1C">最小长度</font></div><div>    strip=True                    <font color="#41AD1C">是否移除用户输入空白</font></div><div><br></div><div><br></div><div>IntegerField(Field)</div><div>    max_value=None,               <font color="#41AD1C">最大值</font></div><div>    min_value=None,               <font color="#41AD1C">最小值</font></div><div><br></div><div><br></div><div>FloatField(IntegerField)</div><div><font color="#41AD1C">...</font></div><div><br></div><div><br></div><div>DecimalField(IntegerField)</div><div>    max_value=None,               <font color="#41AD1C">最大值</font></div><div>    min_value=None,               <font color="#41AD1C">最小值</font></div><div>    max_digits=None,              <font color="#41AD1C">总长度</font></div><div>    decimal_places=None,          <font color="#41AD1C">小数位长度</font></div><div><br></div><div><br></div><div>BaseTemporalField(Field)</div><div>    input_formats=None         <font color="#41AD1C">  时间格式化  </font></div><div><br></div><div><br></div><div>DateField(BaseTemporalField)     <font color="#41AD1C">格式：2015-09-01</font></div><div>TimeField(BaseTemporalField)     <font color="#41AD1C">格式：11:12</font></div><div>DateTimeField(BaseTemporalField) <font color="#41AD1C">格式：2015-09-01 11:12</font></div><div><br></div><div><br></div><div>DurationField(Field)           <font color="#41AD1C">  时间间隔：%d %H:%M:%S.%f</font></div><div><font color="#41AD1C">...</font></div><div><br></div><div><br></div><div>RegexField(CharField)</div><div>    regex,                       <font color="#41AD1C">自定制正则表达式</font></div><div>    max_length=None,             <font color="#41AD1C">最大长度</font></div><div>    min_length=None,             <font color="#41AD1C">最小长度</font></div><div>    error_message=None,          <font color="#41AD1C">忽略，错误信息使用 error_messages={'invalid': '...'}</font></div><div><br></div><div><br></div><div>EmailField(CharField)      </div><div><font color="#41AD1C">...</font></div><div><br></div><div><br></div><div>FileField(Field)</div><div>    allow_empty_file=False      <font color="#41AD1C">是否允许空文件</font></div><div><br></div><div><br></div><div>ImageField(FileField)      </div><div><font color="#41AD1C">...</font></div><div><font color="#41AD1C">    注：需要PIL模块，pip3 install Pillow</font></div><div><font color="#41AD1C">    以上两个字典使用时，需要注意两点：</font></div><div><font color="#41AD1C">        - form表单中 enctype=&quot;multipart/form-data&quot;</font></div><div><font color="#41AD1C">        - view函数中 obj = MyForm(request.POST, request.FILES)</font></div><div><br></div><div><br></div><div>URLField(Field)</div><div><font color="#41AD1C">...</font></div><div><br></div><div><br></div><div>BooleanField(Field)  </div><div><font color="#41AD1C"> ...</font></div><div><br></div><div><br></div><div>NullBooleanField(BooleanField)</div><div><font color="#41AD1C"> ...</font></div><div><br></div><div><br></div><div>ChoiceField(Field)</div><div><font color="#41AD1C"> ...</font></div><div>    choices=(),                 <font color="#41AD1C">选项，如：choices = ((0,'上海'),(1,'北京'),)</font></div><div>    required=True,              <font color="#41AD1C">是否必填</font></div><div>    widget=None,                <font color="#41AD1C">插件，默认select插件</font></div><div>    label=None,                 <font color="#41AD1C">Label内容</font></div><div>    initial=None,               <font color="#41AD1C">初始值</font></div><div>    help_text='',               <font color="#41AD1C">帮助提示</font></div><div><br></div><div><br></div><div>ModelChoiceField(ChoiceField)</div><div><font color="#41AD1C">    ...                         django.forms.models.ModelChoiceField</font></div><div>    queryset,                   <font color="#41AD1C">查询数据库中的数据</font></div><div>    empty_label=&quot;---------&quot;,    <font color="#41AD1C">默认空显示内容</font></div><div>    to_field_name=None,         <font color="#41AD1C">HTML中value的值对应的字段</font></div><div>    limit_choices_to=None     <font color="#41AD1C">  ModelForm中对queryset二次筛选</font></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;"><br></span></div><div><br></div><div>ModelMultipleChoiceField(ModelChoiceField)</div><div><font color="#41AD1C">...                         django.forms.models.ModelMultipleChoiceField</font></div><div><br></div><div><br></div><div>TypedChoiceField(ChoiceField)</div><div>    coerce = lambda val: val    <font color="#41AD1C">对选中的值进行一次转换</font></div><div>    empty_value= ''             <font color="#41AD1C">空值的默认值</font></div><div><br></div><div><br></div><div>MultipleChoiceField(ChoiceField)</div><div><font color="#41AD1C">...</font></div><div><br></div><div><br></div><div>TypedMultipleChoiceField(MultipleChoiceField)</div><div>    coerce = lambda val: val    <font color="#41AD1C">对选中的每一个值进行一次转换</font></div><div>    empty_value= ''             <font color="#41AD1C">空值的默认值</font></div><div><br></div><div><br></div><div>ComboField(Field)</div><div>    fields=()                   <font color="#41AD1C">使用多个验证，如下：即验证最大长度20，又验证邮箱格式</font></div><div><font color="#41AD1C">                                fields.ComboField(fields=[fields.CharField(max_length=20), fields.EmailField(),])</font></div><div><br></div><div><br></div><div>MultiValueField(Field)</div><div><font color="#41AD1C">    PS: 抽象类，子类中可以实现聚合多个字典去匹配一个值，要配合MultiWidget使用</font></div><div><br></div><div><br></div><div>SplitDateTimeField(MultiValueField)</div><div>    input_date_formats=None,    <font color="#41AD1C">格式列表：['%Y--%m--%d', '%m%d/%Y', '%m/%d/%y']</font></div><div>    input_time_formats=None     <font color="#41AD1C">格式列表：['%H:%M:%S', '%H:%M:%S.%f', '%H:%M']</font></div><div><br></div><div><br></div><div>FilePathField(ChoiceField)      <font color="#41AD1C">文件选项，目录下文件显示在页面中</font></div><div>    path,                     <font color="#41AD1C">  文件夹路径</font></div><div>    match=None,                 <font color="#41AD1C">正则匹配</font></div><div>    recursive=False,            <font color="#41AD1C">递归下面的文件夹</font></div><div>    allow_files=True,           <font color="#41AD1C">允许文件</font></div><div>    allow_folders=False,        <font color="#41AD1C">允许文件夹</font></div><div>    required=True,</div><div>    widget=None,</div><div>    label=None,</div><div>    initial=None,</div><div>    help_text=''</div><div><br></div><div><br></div><div>GenericIPAddressField</div><div>    protocol='both',            <font color="#41AD1C">both,ipv4,ipv6支持的IP格式</font></div><div>    unpack_ipv4=False           <font color="#41AD1C">解析ipv4地址，如果是::ffff:192.0.2.1时候，可解析为192.0.2.1， PS：protocol必须为both才能启用</font></div><div><br></div><div><br></div><div>SlugField(CharField)            <font color="#41AD1C">数字，字母，下划线，减号（连字符）</font></div><div>    ...</div><div><br></div><div><br></div><div>UUIDField(CharField)          <font color="#41AD1C">  uuid类型</font></div></div><div><br></div></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">插件的相关参数</span></h2><div><br></div><ul><li><div>attrs -&gt; 用于定义相关的id class 或 html 中的自定义属性</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        widget=widgets.TextInput(attrs={'id': 'user', 'class': 'username red'})</div><div>    )</div><div>    password = forms.CharField(</div><div>        widget=widgets.PasswordInput(attrs={'id': 'password'})</div><div>    )</div></div><div><br></div><ul><li><div>render_value -&gt; 只作用于PasswordInput下，当验证失败时刷新页面后，是否将原本的值填写回去，其他widgets下的方法都会把值自动填写回去</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    password = forms.CharField(</div><div>        widget=widgets.PasswordInput(render_value=True)</div><div>    )</div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">批量添加样式</span></h2><div><br></div><ul><li><div>批量添加样式就是Form类下的所有字段都会拥有该样式</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        label='用户名',</div><div>        max_length=16,</div><div>        widget=widgets.TextInput()</div><div>    )</div><div>    password = forms.CharField(</div><div>        label='密码',</div><div>        widget=widgets.PasswordInput(render_value=True),</div><div>    )</div><div>    confirm_password = forms.CharField(</div><div>        label='确认密码',</div><div>        widget=widgets.PasswordInput(render_value=True),</div><div>    )</div><div>    city = forms.CharField(</div><div>        label='城市',</div><div>        initial=1,</div><div>        widget=widgets.Select()</div><div>    )</div><div><br></div><div><font color="#41AD1C"># 通过重写form类的init方法实现批量添加样式</font></div><div>    def __init__(self, *args, **kwargs):</div><div>        super().__init__(*args, **kwargs)</div><div><br></div><div>        for field in iter(self.fields):</div><div>            self.fields[field].widget.attrs.update({</div><div>                'class': 'form-control'</div><div>            })</div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">自定义校验</span></h2><div><br></div><ul><li><div>在字段参数中的 required、max_length、min_length 等，它会在一定层度上可以帮我们完成一些简单的校验，但是如果是一些复杂的验证如:身份证验证/电话号码，那么就需要通过正则来进行验证</div></li></ul><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">1.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">RegexValidator验证器</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># RegexValidator('正则表达式', '错误信息')</font></div><div><br></div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.validators import RegexValidator  <font color="#41AD1C"># 导入 RegexValidator 验证器</font></div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    phone = forms.CharField(</div><div>        validators=[RegexValidator(r'^[0-9]+$', '请输入数字'), RegexValidator(r'^159[0-9]+$', '数字必须以159开头')],</div><div>    )</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">2.</span><span style="font-size:14pt;font-weight:bold;"></span><font style="font-size:14pt;"><span style="letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">自定义验证函数</span></font></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>import re</div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div><font color="#41AD1C"># 自定义验证规则</font></div><div>def mobile_validate(value):</div><div>    mobile_re = re.compile(r'^(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$')</div><div>    if not mobile_re.match(value):</div><div>        raise ValidationError('手机号码格式错误')  <font color="#41AD1C"># 一定要使用 raise 抛出异常，且一定要使用 ValidationError 方法指定错误信息</font></div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    phone = forms.CharField(</div><div>        validators=[mobile_validate],</div><div>    )</div></div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">cleaned_data  和 errors</span></h2><div><br></div><ul><li><div><span style="font-size:14pt;">.cleaned_data 存放着所有验证通过字段数据</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:14pt;">.errors 存放着所有</span><span style="font-size:14pt;">字段错误信息，有时候打印出来的是一段HTML代码，但是如果将 .errors 发送给前端，那么前端所接受到的是一个form字段错误信息的数组</span></div></li></ul><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">Hook方法（钩子函数）</span></h2><div><br></div><ul><li><div>什么是钩子函数: Django源码通过反射找到指定前缀的函数并且执行该函数，即: 该指定前缀的函数就是钩子函数</div></li></ul><div><br></div><ul><li><div>什么时候使用钩子函数: 当Form组件所提供的校验规则无法满足你的校验，那么可以使用钩子函数自定义校验规则</div></li></ul><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">1.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">局部钩子函数</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div>使用场景: 对某一个字段进行校验，如: 在注册的时候判断用户名字段是否已经被注册过了</div></li></ul><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:12pt;color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;">在Form类中定义 clean_字段名() 方法，就能够实现对特定字段进行校验</span></span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        min_length=8,</div><div>        label=&quot;用户名&quot;,</div><div>        initial=&quot;张三&quot;,</div><div>        error_messages={</div><div>            &quot;required&quot;: &quot;不能为空&quot;,</div><div>            &quot;invalid&quot;: &quot;格式错误&quot;,</div><div>            &quot;min_length&quot;: &quot;用户名最短8位&quot;</div><div>        },</div><div>        widget=forms.widgets.TextInput(attrs={&quot;class&quot;: &quot;form-control&quot;})</div><div>    )</div><div><br></div><div><font color="#41AD1C"># 定义局部钩子（clean_字段名() 方法），用来校验username字段</font></div><div>    def clean_username(self):</div><div><font color="#41AD1C"># 此时 通过检验的字段的数据都保存在 self.cleaned_data</font></div><div>        value = self.cleaned_data.get(&quot;username&quot;)</div><div>        if &quot;666&quot; in value:</div><div>            raise ValidationError(&quot;光喊666是不行的&quot;)</div><div>        else:</div><div>            return value</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">2.</span><span style="font-size:14pt;font-weight:bold;"> 全局</span><span style="font-size:14pt;font-weight:bold;">钩子函数</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">使用场景: 获取所有已经通过验证的字段，然后取某几个字段进行二次判断，如: 校验两次密码是否一致</span></div></li></ul><div><br></div><ul><li><div>全局钩子的说明: 当全部校验通过后才会执行clean()方法，且在clean()方法中一定可以获取到所有已经通过验证的数据</div></li></ul><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">在Form类中定义 clean() 方法，就能够实现对字段进行全局校验</span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div><font color="#41AD1C"># 密码</font></div><div>    password = forms.CharField(</div><div>        min_length=6,</div><div>        label=&quot;密码&quot;,</div><div>        widget=forms.widgets.PasswordInput(attrs={'class': 'form-control'}, render_value=True)</div><div>    )</div><div><br></div><div><font color="#41AD1C"># 确认密码</font></div><div>    re_password = forms.CharField(</div><div>        min_length=6,</div><div>        label=&quot;确认密码&quot;,</div><div>        widget=forms.widgets.PasswordInput(attrs={'class': 'form-control'}, render_value=True)</div><div>    )</div><div><br></div><div><font color="#41AD1C"># 定义全局的钩子，用来校验密码和确认密码字段是否相同</font></div><div>    def clean(self):</div><div><font color="#41AD1C"># 此时 通过检验的字段的数据都保存在 self.cleaned_data</font></div><div>        password_value = self.cleaned_data.get('password')</div><div>        re_password_value = self.cleaned_data.get('re_password')</div><div>        if password_value == re_password_value:</div><div>            return self.cleaned_data</div><div>        else:</div><div>            self.add_error('re_password', '两次密码不一致')  <font color="#41AD1C"># 定义在哪一个字段显示该条错误信息</font></div><div>            raise ValidationError('两次密码不一致')</div></div><div><span style="font-size:14pt;"><br></span></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">form对象的常用属性</span></h2><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">1.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">该栏目所用到的表</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from django import forms</div><div>from django.forms import widgets</div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        label='用户名',</div><div>        max_length=16,</div><div>        initial='初始值',</div><div>        widget=widgets.TextInput(),</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>        }</div><div>    )</div><div>    password = forms.CharField(</div><div>        label='密码',</div><div>        widget=widgets.PasswordInput(render_value=True),</div><div>        error_messages={</div><div>            'required': '密码不能为空',</div><div>        }</div><div>    )</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">2.</span><span style="font-size:14pt;font-weight:bold;"></span><font style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">BoundField对象</span></font><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">（form对象）</span></span></div><div><br></div><ul><li><div>BoundField对象的说明:</div></li></ul><div><br></div><ul><ul><li><div>form组件类所实例化出来的对象下的xxx对象（即: RegFrom类所实例化出来的对象下的 username 对象或 password 对象）</div></li><li><div>通俗理解: form组件类所实例化出来的对象存储着一个个的form对象，即: BoundField对象</div></li><li><div>在模板中循环form组件类所实例化出来的对象所得到的就是BoundField对象</div></li><li><div>BoundField对象不要和Field对象（字段对象）还有Form类所实例化出来的对象搞混了</div></li></ul></ul><div><br></div><ul><li><div>获取BoundField对象（form对象）的方法</div></li></ul><div><br></div><ul><ul><li><div>方法一 -&gt; 获取指定的BoundField对象（form对象）</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># form组件类所实例化出来的对象['xxx']</font></div><div><br></div><div>form = RegFrom()</div><div>boundField_obj = form['username']</div><div><br></div><div>print(boundField_obj)  <font color="#41AD1C"># &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;初始值&quot; maxlength=&quot;16&quot; required id=&quot;id_username&quot; /&gt; -&gt; 因为 BoundField 类设置了 __str__</font></div><div>print(type(boundField_obj)) <font color="#41AD1C"> # &lt;class 'django.forms.boundfield.BoundField'&gt;</font></div></div><div><br></div><ul><ul><li><div>方法二 -&gt; 循环form组件类所实例化出来的对象</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>form = RegFrom()</div><div><br></div><div>for form_obj in form:</div><div>    print(form_obj)  <font color="#41AD1C"># &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;初始值&quot; maxlength=&quot;16&quot; required id=&quot;id_username&quot; /&gt; -&gt; 因为 BoundField 类设置了 __str__</font></div><div>    print(type(form_obj)) <font color="#41AD1C"> # &lt;class 'django.forms.boundfield.BoundField'&gt;</font></div></div><div><br></div><ul><li><div><span style="font-size:medium;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;">BoundField对象</span>（form对象）<span style="font-size:medium;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;">的常用属性和方法</span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>form = RegFrom()</div><div>for boundField_obj in form:</div><div>    print(boundField_obj)  <font color="#41AD1C"># 直接打印当前form对象（即：boundField对象）会获取到当前对象所对应的表单标签，因为 BoundField 类设置了 __str__ -&gt; &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;初始值&quot; id=&quot;id_username&quot; maxlength=&quot;16&quot; required /&gt;</font></div><div>    print(boundField_obj.<font color="#FA7A00">form</font>)  <font color="#41AD1C"># form表单的html -&gt; &lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_username&quot;&gt;用户名:&lt;/label&gt; …… &lt;/tr&gt;</font></div><div>    print(boundField_obj.<font color="#FA7A00">field</font>)  <font color="#41AD1C"># 字段对象（即: form组件的字段类所实例化出来的对象） -&gt; &lt;django.forms.fields.CharField object at 0x000001F469D8E358&gt;</font></div><div>    print(boundField_obj.<font color="#FA7A00">name</font>)  <font color="#41AD1C"># form对象（即：boundField对象）所对应的名字 -&gt; username</font></div><div>    print(boundField_obj.<font color="#FA7A00">html_name</font>)  <font color="#41AD1C"># form对象（即：boundField对象）所对应的表单标签中 name 的名字 -&gt; username</font></div><div>    print(boundField_obj.<font color="#FA7A00">label</font>)  <font color="#41AD1C"># label的名字 -&gt; 用户名</font></div><div>    print(boundField_obj.<font color="#FA7A00">id_for_label</font>)  <font color="#41AD1C"># 获取label应该设置的对应input的id -&gt; id_username</font></div><div>    print(boundField_obj.<font color="#FA7A00">label_tag()</font>)  <font color="#41AD1C"># 获取label的html标签 -&gt; &lt;label for=&quot;id_username&quot;&gt;用户名:&lt;/label&gt;</font></div><div>    print(boundField_obj.<font color="#FA7A00">value()</font>)  <font color="#41AD1C"># 返回当前form对象（即：boundField对象）所对应的表单标签所填写的值，如果没有就返回 initial='xxx' 所设置的初始值，如果没有设置就返回 None -&gt; 初始值</font></div><div>    print(boundField_obj.<font color="#FA7A00">data</font>)  <font color="#41AD1C"># 返回当前form对象（即：boundField对象）所对应的表单标签所填写的值，如果没有就返回 None</font></div><div>    print(boundField_obj.<font color="#FA7A00">errors</font>)  <font color="#41AD1C"># 验证过后，form对象（即：boundField对象）所对应的错误信息</font></div><div>    print(boundField_obj.<font color="#FA7A00">is_hidden</font>)  <font color="#41AD1C"># 判断当前form对象（即：boundField对象）所对应的表单标签是否是隐藏标签</font></div></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div>BoundField对象（form对象）的所有属性与方法</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 在 BoundField 中有form对象的所有属性与方法</span></div><div><br></div><div>from django.forms.boundfield import BoundField</div></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">3.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">Field对象 -&gt; 字段对象</span></div><div><br></div><ul><li><div>Field对象（字段对象） -&gt; form组件下的字段类所实例化出来的字段对象</div></li></ul><div><br></div><ul><li><div>获取Field对象（字段对象）的方法</div></li></ul><div><br></div><ul><ul><li><div>方法一: 获取指定的Field对象（字段对象）</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># form组件类所实例化出来的对象.fields['xxx']</font></div><div><br></div><div>form = RegFrom()</div><div><br></div><div>print(form.fields['username'])  <font color="#41AD1C"># &lt;django.forms.fields.CharField object at 0x00000241BA6BE320&gt;</font></div><div>print(form.fields['password']) <font color="#41AD1C"> # &lt;django.forms.fields.CharField object at 0x000001CDFA64E358&gt;</font></div></div><div><span style="font-size:14pt;"><br></span></div><ul><ul><li><div><span style="font-size:12pt;">方法二: </span>获取指定的Field对象（字段对象）</div></li></ul></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># form组件类所实例化出来的对象['xxx'].field</font></div><div><br></div><div>form = RegFrom()</div><div><br></div><div>print(form['username'].field)  <font color="#41AD1C"># &lt;django.forms.fields.CharField object at 0x00000241BA6BE320&gt;</font></div><div>print(form['password'].field)  <font style="color:rgb(65, 173, 28);"># &lt;django.forms.fields.CharField object at 0x000001CDFA64E358&gt;</font></div></div><div><span style="font-size:14pt;"><br></span></div><ul><ul><li><div><span style="font-size:12pt;">方法三: 循环获取所有的Field对象</span>（字段对象）</div></li></ul></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>form = RegFrom()</div><div><br></div><div>for boundField_obj in form:</div><div>    print(boundField_obj.field)</div></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">通过字段对象可以获取该字段所设置的相关参数</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>form = RegFrom()</div><div><br></div><div>print(form.fields['username'].label)  <font color="#41AD1C"># 用户名</font></div><div>print(form.fields['username'].max_length) <font color="#41AD1C"> # 16</font></div><div>print(form.fields['username'].initial)  <font color="#41AD1C"># 初始值</font></div></div><div><span style="font-size:14pt;"><br></span></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">模板相关</span></h2><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">1.</span><span style="font-size:14pt;font-weight:bold;"> 将Form类所生成的HTML发送到模板中</span></div><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        label='用户名',</div><div>        min_length=3,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'min_length': '用户名长度不能小于3',</div><div>        }</div><div>    )</div><div><br></div><div><br></div><div>def registered(request):</div><div>    form_obj = RegFrom()  <font color="#41AD1C"># 实例化一个表单对象</font></div><div>    if request.method == 'POST':</div><div>        form_obj = RegFrom(request.POST)  <font color="#41AD1C"># 将post过来的数据再次传入Form类中，然后对数据进行验证，如果数据有误，所实例化出来的form_obj就会拿到该条数据有误的相关信息（即：错误信息 error_messages）</font></div><div><font color="#41AD1C"></font>print(form_obj.errors)  <font color="#41AD1C"># 存放着所有form字段错误信息，虽然打印出来的是段HTML代码，但是如果将 .errors 发送给前端，那么前端所接受到的是一个form字段错误信息的数组</font></div><div>        if form_obj.is_valid():  <font color="#41AD1C"># 判断post过来的数据是否有误</font></div><div>            print(form_obj.cleaned_data)  <font color="#41AD1C"># {'username': 'Aimer'} 所有经过验证的字段都保存在 .cleaned_data 里</font></div><div>            del form_obj.cleaned_data['confirm_password']  <font color="#41AD1C"># 删除 form_obj.cleaned_data 中数据库表不需要的数据</font></div><div>            Student.objects.create(**form_obj.cleaned_data)  <font color="#41AD1C"># 将数据保存到数据库中</font></div><div>            return HttpResponse('注册成功')</div><div>    return render(request, 'registered.html', {'form_obj': form_obj})</div></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">2.</span><span style="font-size:14pt;font-weight:bold;"> as_p </span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">将Form类生成的表单所需的HTML渲染到p标签中</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size:9pt;">&lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</font></div><div><font style="font-size:9pt;">    {% csrf_token %}</font></div><div><font style="font-size:9pt;">    {{ form_obj.as_p }}</font></div><div><font style="font-size:9pt;">    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</font></div><div><font style="font-size:9pt;">&lt;/form&gt;</font></div></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">3.</span><span style="font-size:14pt;font-weight:bold;"> as_ul</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">将Form类生成的表单所需的HTML渲染到li标签中</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</div><div>    {% csrf_token %}</div><div>    &lt;ul&gt;</div><div>        {{ form_obj.as_ul }}</div><div>    &lt;/ul&gt;</div><div>    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</div><div>&lt;/form&gt;</div></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">4.</span><span style="font-size:14pt;font-weight:bold;"> as_table</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">将Form类生成的表单所需的HTML渲染到table标签中</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</div><div>    {% csrf_token %}</div><div>    &lt;table&gt;</div><div>        {{ form_obj.as_table }}</div><div>    &lt;/table&gt;</div><div>    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</div><div>&lt;/form&gt;</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">5.</span><span style="font-size:14pt;font-weight:bold;"> 自定义</span></div><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</div><div>    {% csrf_token %}</div><div>    &lt;div class=&quot;form-group&quot;&gt;</div><div><font color="#41AD1C"> &lt;!-- 获取label的名称，不同的Django版本返回不同的结果，结果一: 返回带label标签的label内容，结果二: 直接返回label内容，不带label标签 --&gt;</font></div><div><font color="#41AD1C">        &lt;!-- id_for_label 的意思: 将form_obj.username所生成的html中的id放在该label中for标签属性中 --&gt;</font></div><div>        &lt;lable for=&quot;{{ form_obj.username.id_for_label }}&quot;&gt;{{ form_obj.username.label }}&lt;/lable&gt;</div><div><font color="#41AD1C">&lt;!-- 获取相关的表单标签 --&gt;</font></div><div>        {{ form_obj.username }}</div><div><font color="#41AD1C">&lt;!-- 获取第一条验证过后的错误信息 --&gt;</font></div><div>        &lt;span class=&quot;help-block&quot;&gt;{{ form_obj.username.errors.0 }}&lt;/span&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</div><div>&lt;/form&gt;</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">6.</span><span style="font-size:14pt;font-weight:bold;"> 循环</span><font style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">生成生成表单所需的HTML</span></font></div><div><font style="font-size:14pt;"><br></font></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size:9pt;">&lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</font></div><div><font style="font-size:9pt;">    {% csrf_token %}</font></div><div><font style="font-size:9pt;"><br></font></div><div><font style="font-size:9pt;"><font color="#41AD1C"> &lt;!-- 直接对返回的form对象进行循环 --&gt;</font></font></div><div><font style="font-size:9pt;">    {% for field in form_obj %}</font></div><div><font style="font-size:9pt;">        &lt;div class=&quot;form-group {% if field.errors.0 %}has-error{% endif %}&quot;&gt;</font></div><div><font style="font-size:9pt;">            &lt;lable for=&quot;{{ field.id_for_label }}&quot;&gt;{{ field.label }}&lt;/lable&gt;</font></div><div><font style="font-size:9pt;">            {{ field }}</font></div><div><font style="font-size:9pt;">            &lt;span class=&quot;help-block&quot;&gt;{{ field.errors.0 }}&lt;/span&gt;</font></div><div><font style="font-size:9pt;">        &lt;/div&gt;</font></div><div><font style="font-size:9pt;">    {% endfor %}</font></div><div><font style="font-size:9pt;"></font></div><div><font style="font-size:9pt;">    &lt;div class=&quot;form-group&quot;&gt;</font></div><div><font style="font-size:9pt;">        &lt;input type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;</font></div><div><font style="font-size:9pt;">    &lt;/div&gt;</font></div><div><font style="font-size:9pt;">&lt;/form&gt;</font></div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">只用Form组件进行验证，不做渲染</span></h2><div><br></div><ul><li><div><span style="font-size:12pt;">不要认为用了Form组件就一定要用它的自动渲染form表单功能，Form组件只用于验证，不做form表单渲染也是可以的，因为最后都是从 request.POST 中获取数据进行验证，前提是 form表单中的 name 需要和 form类中的字段名一致</span></div></li></ul><div><br></div><ul><li><div>只用Form组件进行验证，不做渲染（即: 自己编写form表单） -&gt; 使用 form 表单提交数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size:9pt;font-family:Monaco;"><font color="#41AD1C"># views.py</font></span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;"><br></span></div><div>from django.shortcuts import render, HttpResponse, redirect</div><div><br></div><div>from .models import *</div><div><br></div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.fields.CharField(</div><div>        label='用户名',</div><div>        min_length=3,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'min_length': '用户名长度不能小于3',</div><div>        }</div><div>    )</div><div>    password = forms.CharField(</div><div>        label='密码',</div><div>        min_length=3,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'min_length': '用户名长度不能小于3',</div><div>        }</div><div>    )</div><div><br></div><div><br></div><div>def registered(request):</div><div>    form_obj = RegFrom()  <font color="#41AD1C"># 实例化一个表单对象</font></div><div>    if request.method == 'POST':</div><div>        form_obj = RegFrom(request.POST)  <font color="#41AD1C"># 将post过来的数据再次传入Form类中，然后对数据进行验证，如果数据有误，所实例化出来的form_obj就会拿到该条数据有误的相关信息（即：错误信息 error_messages）</font></div><div><br></div><div>        if form_obj.is_valid():  <font color="#41AD1C"># 判断post过来的数据是否有误</font></div><div>            print(form_obj.cleaned_data)  <font style="color:rgb(65, 173, 28);"># {'username': 'Aimer', 'password': '123'} 所有经过验证的字段都保存在 .cleaned_data 里</font></div><div>            Student.objects.create(**form_obj.cleaned_data)  <font color="#41AD1C"># 将数据保存到数据库中</font></div><div>            return HttpResponse('注册成功')</div><div>        else:</div><div>            return HttpResponse('注册失败')</div><div>    return render(request, 'registered.html')</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># models.py</font></div><div><br></div><div>class Student(models.Model):</div><div>    username = models.CharField(max_length=10)</div><div>    password = models.CharField(max_length=16)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># xxx.html</font></div><div><font color="#41AD1C"><br></font></div><div>&lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</div><div>    {% csrf_token %}</div><div>    &lt;div class=&quot;form-group&quot;&gt;</div><div>        &lt;lable for=&quot;username&quot;&gt;用户名&lt;/lable&gt;</div><div>        &lt;input type=&quot;text&quot; id=&quot;username&quot; class=&quot;form-control&quot; name=&quot;username&quot;&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;div class=&quot;form-group&quot;&gt;</div><div>        &lt;lable for=&quot;password&quot;&gt;密码&lt;/lable&gt;</div><div>        &lt;input type=&quot;password&quot; id=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot;&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;input type=&quot;submit&quot; class=&quot;btn btn-default&quot; value=&quot;提交&quot;&gt;</div><div>&lt;/form&gt;</div></div><div><br></div><ul><li><div>只用Form组件进行验证，不做渲染（即: 自己编写form表单） -&gt; 使用ajax提交数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>from django.shortcuts import render, HttpResponse, redirect</div><div>from django.http import JsonResponse</div><div><br></div><div>from .models import *</div><div><br></div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.fields.CharField(</div><div>        label='用户名',</div><div>        min_length=3,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'min_length': '用户名长度不能小于3',</div><div>        }</div><div>    )</div><div>    password = forms.CharField(</div><div>        label='密码',</div><div>        min_length=3,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'min_length': '用户名长度不能小于3',</div><div>        }</div><div>    )</div><div><br></div><div><br></div><div>def registered(request):</div><div>    form_obj = RegFrom()  <font color="#41AD1C"># 实例化一个表单对象</font></div><div>    if request.method == 'POST':</div><div>        form_obj = RegFrom(request.POST)  <font color="#41AD1C"># 将post过来的数据再次传入Form类中，然后对数据进行验证，如果数据有误，所实例化出来的form_obj就会拿到该条数据有误的相关信息（即：错误信息 error_messages）</font></div><div><br></div><div>        if form_obj.is_valid():  <font color="#41AD1C"># 判断post过来的数据是否有误</font></div><div>            print(form_obj.cleaned_data)  <font color="#41AD1C"># {'username': 'Aimer', 'password': '123'} 所有经过验证的字段都保存在 .cleaned_data 里</font></div><div>            Student.objects.create(**form_obj.cleaned_data) <font color="#41AD1C"> # 将数据保存到数据库中</font></div><div>            return JsonResponse({</div><div>                'msg': '注册成功'</div><div>            })</div><div>        else:</div><div>            return JsonResponse({</div><div>                'msg': '注册失败',</div><div>                'error_msg': form_obj.errors  <font color="#41AD1C"># 获取验证后的错误信息</font></div><div>            })</div><div>    return render(request, 'registered.html')</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># xxx.html</font></div><div><font color="#41AD1C"><br></font></div><div>&lt;form novalidate&gt;</div><div>    {% csrf_token %}</div><div>    &lt;div class=&quot;form-group&quot;&gt;</div><div>        &lt;lable for=&quot;username&quot;&gt;用户名&lt;/lable&gt;</div><div>        &lt;input type=&quot;text&quot; id=&quot;username&quot; class=&quot;form-control&quot; name=&quot;username&quot;&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;div class=&quot;form-group&quot;&gt;</div><div>        &lt;lable for=&quot;password&quot;&gt;密码&lt;/lable&gt;</div><div>        &lt;input type=&quot;password&quot; id=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot;&gt;</div><div>    &lt;/div&gt;</div><div>    &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; id=&quot;btn-submit&quot;&gt;提交&lt;/button&gt;</div><div>&lt;/form&gt;</div><div><br></div><div>&lt;script&gt;</div><div>    $(function () {</div><div>        $('#btn-submit').click(function () {</div><div>            var username = $('#username').val(),</div><div>                password = $('#password').val(),</div><div>                csrf_token = $('[name=&quot;csrfmiddlewaretoken&quot;]').val();</div><div>            $.ajax({</div><div>                url: '/registered/',</div><div>                type: 'post',</div><div>                data: {</div><div>                    username: username,</div><div>                    password: password,</div><div>                    csrfmiddlewaretoken: csrf_token</div><div>                },</div><div>                success: function (res) {</div><div>                    console.log(res)</div><div>                }</div><div>            })</div><div>        })</div><div>    })</div><div>&lt;/script&gt;</div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">注册例子</span></h2><div><br></div><ul><li><div>使用表单提交 + 使用form组件渲染form表单</div></li></ul><div><br></div><div><a href="/kevin-blog/Django/Form 组件_files/form_m.rar"><img alt="form_m.rar" src="/kevin-blog/Django/Form 组件_files/a1aa25bd296791f08f526354ab72b25f.png"></a></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>from django.shortcuts import render, HttpResponse, redirect</div><div><br></div><div>from .models import *</div><div><br></div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        label='用户名',</div><div>        max_length=16,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'max_length': '用户名长度不能超过16位',</div><div>        },</div><div>        widget=widgets.TextInput(attrs={'class': 'form-control'})</div><div>    )</div><div>    password = forms.CharField(</div><div>        label='密码',</div><div>        min_length=6,</div><div>        max_length=10,</div><div>        widget=widgets.PasswordInput(attrs={'class': 'form-control'}, render_value=True),</div><div>        error_messages={</div><div>            'required': '密码不能为空',</div><div>            'min_length': '密码不能小于6位',</div><div>            'max_length': '密码不能超过10位',</div><div>        }</div><div>    )</div><div>    confirm_password = forms.CharField(</div><div>        label='确认密码',</div><div>        min_length=6,</div><div>        max_length=10,</div><div>        widget=widgets.PasswordInput(attrs={'class': 'form-control'}, render_value=True),</div><div>        error_messages={</div><div>            'required': '密码不能为空',</div><div>            'min_length': '密码不能小于6位',</div><div>            'max_length': '密码不能超过10位',</div><div>        }</div><div>    )</div><div>    city = forms.CharField(</div><div>        label='城市',</div><div>        initial=1,</div><div>        widget=widgets.Select(attrs={'class': 'form-control'})</div><div>    )</div><div><br></div><div><font color="#41AD1C"># 由于是静态字段，获取的值无法实时更新，需要重写构造方法从而实现choice实时更新</font></div><div>    def __init__(self, *args, **kwargs):</div><div>        super().__init__(*args, **kwargs)</div><div>        self.fields[&quot;city&quot;].widget.choices = City.objects.all().values_list(&quot;id&quot;, &quot;name&quot;)</div><div><br></div><div>    def clean(self):</div><div><font color="#41AD1C"># 此时 通过检验的字段的数据都保存在 self.cleaned_data</font></div><div>        pwd = self.cleaned_data.get(&quot;password&quot;)</div><div>        re_pwd = self.cleaned_data.get(&quot;confirm_password&quot;)</div><div>        if pwd != re_pwd:</div><div>            self.add_error(&quot;confirm_password&quot;, ValidationError(&quot;两次密码不一致&quot;))</div><div>            raise ValidationError(&quot;两次密码不一致&quot;)</div><div>        return self.cleaned_data</div><div><br></div><div><br></div><div>def registered(request):</div><div>    form_obj = RegFrom() <font color="#41AD1C"> # 实例化一个表单对象</font></div><div>    if request.method == 'POST':</div><div>        form_obj = RegFrom(request.POST)  <font color="#41AD1C"># 将post过来的数据再次传入Form类中，然后对数据进行验证，如果数据有误，所实例化出来的form_obj就会拿到该条数据有误的相关信息（即：错误信息 error_messages）</font></div><div><font color="#41AD1C"></font>print(form_obj.errors)  <font color="#41AD1C"># 存放着所有form字段错误信息，虽然打印出来的是段HTML代码，但是如果将 .errors 发送给前端，那么前端所接受到的是一个form字段错误信息的数组</font></div><div>        if form_obj.is_valid():  <font color="#41AD1C"># 判断post过来的数据是否有误</font></div><div>            print(form_obj.cleaned_data)  <font color="#41AD1C"># {'city': '3', 'username': 'Aimer', 'confirm_password': '123456', 'password': '123456'} 所有经过验证的字段都保存在 .cleaned_data 里</font></div><div>            del form_obj.cleaned_data['confirm_password']  <font color="#41AD1C"># 删除 form_obj.cleaned_data 中数据库表不需要的数据</font></div><div>            Student.objects.create(**form_obj.cleaned_data)  <font color="#41AD1C"># 将数据保存到数据库中</font></div><div>            return HttpResponse('注册成功')</div><div>    return render(request, 'registered.html', {'form_obj': form_obj})</div></div><div><br></div></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># models.py</font></div><div><br></div><div>from django.db import models</div><div><br></div><div>class Student(models.Model):</div><div>    username = models.CharField(max_length=10)</div><div>    password = models.CharField(max_length=16)</div><div>    city = models.CharField(max_length=10)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># registered.html</font></div><div><font color="#41AD1C"><br></font></div><div>&lt;!DOCTYPE html&gt;</div><div>&lt;html&gt;</div><div>&lt;head&gt;</div><div>    &lt;meta charset=&quot;utf-8&quot;&gt;</div><div>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</div><div>    &lt;title&gt;Title&lt;/title&gt;</div><div>    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;</div><div>    &lt;meta name=&quot;keywords&quot; content=&quot;&quot;&gt;</div><div>    {% load static %}</div><div>    &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static 'bootstrap/css/bootstrap.min.css' %}&quot;&gt;</div><div>    &lt;script type=text/javascript src=&quot;{% static 'jquery-3.3.1.js' %}&quot;&gt;&lt;/script&gt;</div><div>&lt;/head&gt;</div><div>&lt;body&gt;</div><div>&lt;div class=&quot;container&quot;&gt;</div><div>    &lt;div class=&quot;row&quot;&gt;</div><div>        &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;</div><div>            &lt;form action=&quot;/registered/&quot; method=&quot;post&quot; novalidate&gt;</div><div>                {% csrf_token %}</div><div>                &lt;div class=&quot;form-group {% if form_obj.username.errors.0 %}has-error{% endif %}&quot;&gt;</div><div>                    {{ form_obj.username.label }}</div><div>                    {{ form_obj.username }}</div><div>                    &lt;span class=&quot;help-block&quot;&gt;{{ form_obj.username.errors.0 }}&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group {% if form_obj.password.errors.0 %}has-error{% endif %}&quot;&gt;</div><div>                    {{ form_obj.password.label }}</div><div>                    {{ form_obj.password }}</div><div>                    &lt;span class=&quot;help-block&quot;&gt;{{ form_obj.password.errors.0 }}&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group {% if form_obj.confirm_password.errors.0 %}has-error{% endif %}&quot;&gt;</div><div>                    {{ form_obj.confirm_password.label }}</div><div>                    {{ form_obj.confirm_password }}</div><div>                    &lt;span class=&quot;help-block&quot;&gt;{{ form_obj.confirm_password.errors.0 }}&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group {% if form_obj.city.errors.0 %}has-error{% endif %}&quot;&gt;</div><div>                    {{ form_obj.city.label }}</div><div>                    {{ form_obj.city }}</div><div>                    &lt;span class=&quot;help-block&quot;&gt;{{ form_obj.city.errors.0 }}&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group&quot;&gt;</div><div>                    &lt;input type=&quot;submit&quot; class=&quot;btn btn-default&quot;&gt;</div><div>                &lt;/div&gt;</div><div>            &lt;/form&gt;</div><div>        &lt;/div&gt;</div><div>    &lt;/div&gt;</div><div>&lt;/div&gt;</div><div>&lt;/body&gt;</div><div>&lt;/html&gt;</div></div><div><br></div><ul><li><div>使用 ajax 提交 + 自己编写form表单</div></li></ul><div><br></div><div><a href="/kevin-blog/Django/Form 组件_files/ajax_form_m.rar"><img alt="ajax_form_m.rar" src="/kevin-blog/Django/Form 组件_files/a4096a511f669a73acfff4ab4cd816ab.png"></a></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>from django.shortcuts import render, HttpResponse, redirect</div><div>from django.http import JsonResponse</div><div><br></div><div>from .models import *</div><div><br></div><div>from django import forms</div><div>from django.forms import widgets</div><div>from django.core.exceptions import ValidationError</div><div><br></div><div><br></div><div>class RegFrom(forms.Form):</div><div>    username = forms.CharField(</div><div>        label='用户名',</div><div>        max_length=16,</div><div>        error_messages={</div><div>            'required': '用户名不能为空',</div><div>            'max_length': '用户名长度不能超过16位',</div><div>        },</div><div>        widget=widgets.TextInput(attrs={'class': 'form-control'})</div><div>    )</div><div>    password = forms.CharField(</div><div>        label='密码',</div><div>        min_length=6,</div><div>        max_length=10,</div><div>        widget=widgets.PasswordInput(attrs={'class': 'form-control'}, render_value=True),</div><div>        error_messages={</div><div>            'required': '密码不能为空',</div><div>            'min_length': '密码不能小于6位',</div><div>            'max_length': '密码不能超过10位',</div><div>        }</div><div>    )</div><div>    confirm_password = forms.CharField(</div><div>        label='确认密码',</div><div>        min_length=6,</div><div>        max_length=10,</div><div>        widget=widgets.PasswordInput(attrs={'class': 'form-control'}, render_value=True),</div><div>        error_messages={</div><div>            'required': '密码不能为空',</div><div>            'min_length': '密码不能小于6位',</div><div>            'max_length': '密码不能超过10位',</div><div>        }</div><div>    )</div><div>    city = forms.CharField(</div><div>        label='城市',</div><div>        initial=1,</div><div>        widget=widgets.Select(attrs={'class': 'form-control'}),</div><div>        error_messages={</div><div>            'required': '城市不能为空',</div><div>        }</div><div>    )</div><div><br></div><div><font color="#41AD1C"> # 由于是静态字段，获取的值无法实时更新，需要重写构造方法从而实现choice实时更新</font></div><div>    def __init__(self, *args, **kwargs):</div><div>        super().__init__(*args, **kwargs)</div><div>        self.fields[&quot;city&quot;].widget.choices = City.objects.all().values_list(&quot;id&quot;, &quot;name&quot;)</div><div><br></div><div>    def clean(self):</div><div><font color="#41AD1C"># 此时 通过检验的字段的数据都保存在 self.cleaned_data</font></div><div>        pwd = self.cleaned_data.get(&quot;password&quot;)</div><div>        re_pwd = self.cleaned_data.get(&quot;confirm_password&quot;)</div><div>        if pwd != re_pwd:</div><div>            self.add_error(&quot;confirm_password&quot;, ValidationError(&quot;两次密码不一致&quot;))</div><div>            raise ValidationError(&quot;两次密码不一致&quot;)</div><div>        return self.cleaned_data</div><div><br></div><div><br></div><div>def registered(request):</div><div>    form_obj = RegFrom()  <font color="#41AD1C"># 实例化一个表单对象</font></div><div>    if request.method == 'POST':</div><div>        form_obj = RegFrom(request.POST)  <font color="#41AD1C"># 将post过来的数据再次传入Form类中，然后对数据进行验证，如果数据有误，所实例化出来的form_obj就会拿到该条数据有误的相关信息（即：错误信息 error_messages）</font></div><div>        if form_obj.is_valid():  <font color="#41AD1C"># 判断post过来的数据是否有误</font></div><div>            print(form_obj.cleaned_data)  <font color="#41AD1C"># {'city': '3', 'username': 'Aimer', 'confirm_password': '123456', 'password': '123456'} 所有经过验证的字段都保存在 form_obj.cleaned_data 里</font></div><div>            del form_obj.cleaned_data['confirm_password']  <font color="#41AD1C"># 删除 form_obj.cleaned_data 中数据库表不需要的数据</font></div><div>            Student.objects.create(**form_obj.cleaned_data)  <font color="#41AD1C"># 将数据保存到数据库中</font></div><div>            return JsonResponse({</div><div>                'status': 1,</div><div>                'msg': '注册成功'</div><div>            })</div><div>        else:</div><div>            return JsonResponse({</div><div>                'status': 0,</div><div>                'msg': '注册失败',</div><div>                'error_msg': form_obj.errors  <font color="#41AD1C"># 获取验证后的错误信息</font></div><div>            })</div><div>    return render(request, 'registered.html', {'form_obj': form_obj})</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># models.py</font></div><div><br></div><div>from django.db import models</div><div><br></div><div>class Student(models.Model):</div><div>    username = models.CharField(max_length=10)</div><div>    password = models.CharField(max_length=16)</div><div>    city = models.CharField(max_length=10)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># registered.html</font></div><div><font color="#41AD1C"><br></font></div><div>&lt;!DOCTYPE html&gt;</div><div>&lt;html&gt;</div><div>&lt;head&gt;</div><div>    &lt;meta charset=&quot;utf-8&quot;&gt;</div><div>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</div><div>    &lt;title&gt;Title&lt;/title&gt;</div><div>    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;</div><div>    &lt;meta name=&quot;keywords&quot; content=&quot;&quot;&gt;</div><div>    {% load static %}</div><div>    &lt;link rel=&quot;stylesheet&quot; href=&quot;{% static 'bootstrap/css/bootstrap.min.css' %}&quot;&gt;</div><div>    &lt;script type=text/javascript src=&quot;{% static 'jquery-3.3.1.js' %}&quot;&gt;&lt;/script&gt;</div><div>&lt;/head&gt;</div><div>&lt;body&gt;</div><div>&lt;div class=&quot;container&quot;&gt;</div><div>    &lt;div class=&quot;row&quot;&gt;</div><div>        &lt;div class=&quot;col-md-6 col-md-offset-3&quot;&gt;</div><div>            &lt;form novalidate&gt;</div><div>                {% csrf_token %}</div><div>                &lt;div class=&quot;form-group&quot;&gt;</div><div>                    &lt;label for=&quot;username&quot;&gt;用户名&lt;/label&gt;</div><div>                    &lt;input type=&quot;text&quot; id=&quot;username&quot; class=&quot;form-control&quot; name=&quot;username&quot;&gt;</div><div>                    &lt;span class=&quot;help-block&quot;&gt;&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group&quot;&gt;</div><div>                    &lt;label for=&quot;username&quot;&gt;密码&lt;/label&gt;</div><div>                    &lt;input type=&quot;text&quot; id=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot;&gt;</div><div>                    &lt;span class=&quot;help-block&quot;&gt;&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group&quot;&gt;</div><div>                    &lt;label for=&quot;confirm_password&quot;&gt;确认密码&lt;/label&gt;</div><div>                    &lt;input type=&quot;text&quot; id=&quot;confirm_password&quot; class=&quot;form-control&quot; name=&quot;confirm_password&quot;&gt;</div><div>                    &lt;span class=&quot;help-block&quot;&gt;&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group&quot;&gt;</div><div>                    &lt;label for=&quot;city&quot;&gt;城市&lt;/label&gt;</div><div>                    &lt;input type=&quot;text&quot; id=&quot;city&quot; class=&quot;form-control&quot; name=&quot;city&quot;&gt;</div><div>                    &lt;span class=&quot;help-block&quot;&gt;&lt;/span&gt;</div><div>                &lt;/div&gt;</div><div>                &lt;div class=&quot;form-group&quot;&gt;</div><div>                    &lt;button type=&quot;button&quot; id=&quot;btn-submit&quot; class=&quot;btn btn-default&quot;&gt;提交&lt;/button&gt;</div><div>                &lt;/div&gt;</div><div>            &lt;/form&gt;</div><div>        &lt;/div&gt;</div><div>    &lt;/div&gt;</div><div>&lt;/div&gt;</div><div>&lt;script src=&quot;/static/jquery-3.3.1.js&quot;&gt;&lt;/script&gt;</div><div>&lt;script&gt;</div><div>    $(function () {</div><div>        $('#btn-submit').click(function () {</div><div>            var username = $('#username').val(),</div><div>                password = $('#password').val(),</div><div>                confirm_password = $('#confirm_password').val(),</div><div>                city = $('#city').val(),</div><div>                csrf_token = $('[name=&quot;csrfmiddlewaretoken&quot;]').val();</div><div>            $('.form-group').removeClass('has-error').find('.help-block').html('');</div><div>            $.ajax({</div><div>                url: '/registered/',</div><div>                type: 'post',</div><div>                data: {</div><div>                    username: username,</div><div>                    password: password,</div><div>                    confirm_password: confirm_password,</div><div>                    city: city,</div><div>                    csrfmiddlewaretoken: csrf_token</div><div>                },</div><div>                success: function (res) {</div><div>                    if (res.status) {</div><div>                        alert(res.msg);</div><div>                        $('.form-group input').val('')</div><div>                    } else {</div><div>                        $.each(res.error_msg, function (k, v) {</div><div>                            console.log(k, v);</div><div>                            $('#' + k).next('.help-block').html(v).parents('.form-group').addClass('has-error')</div><div>                        })</div><div>                    }</div><div>                }</div><div>            })</div><div>        })</div><div>    })</div><div>&lt;/script&gt;</div><div>&lt;/body&gt;</div><div>&lt;/html&gt;</div></div><div><br></div></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;font-weight:bold;line-height:1.5;background-color:#3eaf7c;border-radius:3px;text-align:center;color:white;text-shadow:rgb(34, 34, 34) 1px 1px 2px;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-ligatures:normal;font-variant-caps:normal;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;font-weight:bold;line-height:1.5;background-color:#3eaf7c;border-radius:3px;color:white;text-shadow:rgb(34, 34, 34) 1px 1px 2px;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-ligatures:normal;font-variant-caps:normal;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;">formset 批量操作</span></h2><div><br></div><ul><li><div>forms.formset_factory(form=form类, extra=显示多少行数据) -&gt; 返回值: 返回一个新的 form 类</div></li></ul><div><br></div><ul><li><div>extra 参数说明</div></li></ul><div><br></div><ul><ul><li><div>添加数据: 当 extra=10，那么就会显示 10 行输入框</div></li><li><div>修改数据: 当 extra=0，那么就是根据 initial 参数所传入的初始化数据长度而显示多少行数据</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views/add_data.py</font></div><div><br></div><div>from django import forms</div><div>from django.shortcuts import render, HttpResponse</div><div>from app01.models import *</div><div><br></div><div><br></div><div>class AddUserForm(forms.Form):</div><div>    username = forms.CharField(label='用户名')</div><div>    phone = forms.CharField(label='电话号码')</div><div>    age = forms.CharField(label='年龄')</div><div><br></div><div><br></div><div>def add_data(request):</div><div>    old_form = AddUserForm()</div><div><br></div><div><font color="#FA7A00">AddUserFormSet = forms.formset_factory(AddUserForm, extra=10)</font></div><div>    formset = AddUserFormSet()</div><div><br></div><div>    if request.method == 'POST':</div><div>        formset = AddUserFormSet(request.POST)</div><div>        if formset.is_valid():</div><div>            print(formset.cleaned_data)  <font color="#41AD1C"># [{'age': '22', 'username': 'Amy', 'phone': '13038802402'}, {}, ...]</font></div><div>            for row in formset.cleaned_data:</div><div>                if row:</div><div>                    UserInfo.objects.create(**row)</div><div>            return HttpResponse('验证成功')</div><div>        else:</div><div>            print('验证失败')</div><div><br></div><div>    return render(request, 'change.html', {</div><div>        'old_form': old_form,</div><div>        'formset': formset</div><div>    })</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views/edit_data.py</font></div><div><br></div><div>from django import forms</div><div>from django.shortcuts import render, HttpResponse</div><div>from app01.models import *</div><div><br></div><div><br></div><div>class EditUserForm(forms.Form):</div><div>    id = forms.CharField(label='id')</div><div>    username = forms.CharField(label='用户名')</div><div>    phone = forms.CharField(label='电话号码')</div><div>    age = forms.CharField(label='年龄')</div><div><br></div><div><br></div><div>def edit_data(request):</div><div>    old_form = EditUserForm()</div><div><br></div><div><font color="#FA7A00">EditUserFormSet = forms.formset_factory(EditUserForm, extra=0)</font></div><div><font color="#41AD1C"># formset = EditUserFormSet(initial=[</font></div><div><font color="#41AD1C">    #     {'id': 1, 'username': 'Kevin', 'phone': 13022024070, 'age': '12'},</font></div><div><font color="#41AD1C">    #     {'id': 2, 'username': 'Yeung', 'phone': 13022024070, 'age': '22'},</font></div><div><font color="#41AD1C">    #     {'id': 3, 'username': 'Amy', 'phone': 13022024070, 'age': '32'},</font></div><div><font color="#41AD1C">    # ])</font></div><div>    user_list = UserInfo.objects.all().values()</div><div>    formset = EditUserFormSet(<font color="#FA7A00">initial=user_list</font>)</div><div><br></div><div>    if request.method == 'POST':</div><div>        formset = EditUserFormSet(request.POST)</div><div>        if formset.is_valid():</div><div>            print(formset.cleaned_data)  <font color="#41AD1C"># [{'id': '1', 'age': '22', 'username': 'Amy', 'phone': '13038802402'}, {}, ...]</font></div><div>            for row in formset.cleaned_data:</div><div>                UserInfo.objects.filter(pk=row['id']).update(**row)</div><div>            return HttpResponse('验证成功')</div><div>        else:</div><div>            print('验证失败')</div><div><br></div><div>    return render(request, 'change.html', {</div><div>        'old_form': old_form,</div><div>        'formset': formset</div><div>    })</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># change.html</font></div><div><br></div><div>&lt;form method=&quot;post&quot; novalidate&gt;</div><div>    {% csrf_token %}</div><div><font color="#FA7A00">{{ formset.management_form }}</font></div><div>    &lt;table border=&quot;1&quot;&gt;</div><div>        &lt;thead&gt;</div><div>        &lt;tr&gt;</div><div>            {% for filed in old_form %}</div><div>                {% if filed.name != 'id' %}</div><div>                    &lt;th&gt;{{ filed.label }}&lt;/th&gt;</div><div>                {% endif %}</div><div>            {% endfor %}</div><div>        &lt;/tr&gt;</div><div>        &lt;/thead&gt;</div><div>        &lt;tbody&gt;</div><div>        {% for form in formset %}</div><div>            &lt;tr&gt;</div><div>                {% for filed in form %}</div><div>                    {% if filed.name != 'id' %}</div><div>                        &lt;td&gt;{{ filed }} {{ filed.errors.0 }}&lt;/td&gt;</div><div>                    {% else %}</div><div>                        &lt;td style=&quot;display: none&quot;&gt;{{ filed }} {{ filed.errors.0 }}&lt;/td&gt;</div><div>                    {% endif %}</div><div>                {% endfor %}</div><div>            &lt;/tr&gt;</div><div>        {% endfor %}</div><div>        &lt;/tbody&gt;</div><div>    &lt;/table&gt;</div><div>    &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;</div><div>&lt;/form&gt;</div></div><div><br></div><ul><li><div>添加数据</div></li></ul><div><br></div><div><img data-filename="Image.png" src="/kevin-blog/Django/Form 组件_files/Image.png" type="image/png"></div><div><br></div><ul><li><div>修改数据</div></li></ul><div><br></div><div><img data-filename="Image.png" src="/kevin-blog/Django/Form 组件_files/Image [1].png" type="image/png"></div><div><br></div><div><br></div></div></span></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kevin-blog/Django/Django的时间问题.html" class="prev">
        Django的时间问题
      </a></span> <span class="next"><a href="/kevin-blog/Django/HTML协议.html">
        HTML协议
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/kevin-blog/assets/js/app.dd46475d.js" defer></script><script src="/kevin-blog/assets/js/2.97d04891.js" defer></script><script src="/kevin-blog/assets/js/52.8bb5ec6f.js" defer></script>
  </body>
</html>
