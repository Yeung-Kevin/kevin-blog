<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ORM-操作数据 | Kevin-Blog</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/kevin-blog/logo.png">
    <meta name="description" content="">
    <link rel="preload" href="/kevin-blog/assets/css/0.styles.267bc68b.css" as="style"><link rel="preload" href="/kevin-blog/assets/js/app.dd46475d.js" as="script"><link rel="preload" href="/kevin-blog/assets/js/2.97d04891.js" as="script"><link rel="preload" href="/kevin-blog/assets/js/19.c733cdfe.js" as="script"><link rel="prefetch" href="/kevin-blog/assets/js/10.2b686438.js"><link rel="prefetch" href="/kevin-blog/assets/js/100.cfc5acd5.js"><link rel="prefetch" href="/kevin-blog/assets/js/101.628bd39e.js"><link rel="prefetch" href="/kevin-blog/assets/js/102.41585307.js"><link rel="prefetch" href="/kevin-blog/assets/js/103.5d18350a.js"><link rel="prefetch" href="/kevin-blog/assets/js/104.85cd65cf.js"><link rel="prefetch" href="/kevin-blog/assets/js/105.9d303bac.js"><link rel="prefetch" href="/kevin-blog/assets/js/106.73f6a263.js"><link rel="prefetch" href="/kevin-blog/assets/js/107.9dfe114c.js"><link rel="prefetch" href="/kevin-blog/assets/js/108.315e8c63.js"><link rel="prefetch" href="/kevin-blog/assets/js/109.ef21ffa0.js"><link rel="prefetch" href="/kevin-blog/assets/js/11.2b0f6358.js"><link rel="prefetch" href="/kevin-blog/assets/js/110.dfe062a3.js"><link rel="prefetch" href="/kevin-blog/assets/js/111.08f0c3e7.js"><link rel="prefetch" href="/kevin-blog/assets/js/112.0e180f10.js"><link rel="prefetch" href="/kevin-blog/assets/js/113.295f1fca.js"><link rel="prefetch" href="/kevin-blog/assets/js/114.5645d09d.js"><link rel="prefetch" href="/kevin-blog/assets/js/115.ebe19212.js"><link rel="prefetch" href="/kevin-blog/assets/js/116.b3eb5cab.js"><link rel="prefetch" href="/kevin-blog/assets/js/117.076c6372.js"><link rel="prefetch" href="/kevin-blog/assets/js/118.226fb513.js"><link rel="prefetch" href="/kevin-blog/assets/js/119.298c0302.js"><link rel="prefetch" href="/kevin-blog/assets/js/12.01390043.js"><link rel="prefetch" href="/kevin-blog/assets/js/120.943d0d71.js"><link rel="prefetch" href="/kevin-blog/assets/js/121.2d1bd8ef.js"><link rel="prefetch" href="/kevin-blog/assets/js/122.84b9dff1.js"><link rel="prefetch" href="/kevin-blog/assets/js/123.85d93d87.js"><link rel="prefetch" href="/kevin-blog/assets/js/124.4913aefd.js"><link rel="prefetch" href="/kevin-blog/assets/js/125.cf667169.js"><link rel="prefetch" href="/kevin-blog/assets/js/126.eefd3250.js"><link rel="prefetch" href="/kevin-blog/assets/js/127.f9697daf.js"><link rel="prefetch" href="/kevin-blog/assets/js/128.aff6033d.js"><link rel="prefetch" href="/kevin-blog/assets/js/129.fa7ec9a8.js"><link rel="prefetch" href="/kevin-blog/assets/js/13.e55a4126.js"><link rel="prefetch" href="/kevin-blog/assets/js/130.9d50b78d.js"><link rel="prefetch" href="/kevin-blog/assets/js/131.f384aa34.js"><link rel="prefetch" href="/kevin-blog/assets/js/132.e60091dc.js"><link rel="prefetch" href="/kevin-blog/assets/js/133.09a9de16.js"><link rel="prefetch" href="/kevin-blog/assets/js/134.a7739a99.js"><link rel="prefetch" href="/kevin-blog/assets/js/135.bea491db.js"><link rel="prefetch" href="/kevin-blog/assets/js/136.92af3a82.js"><link rel="prefetch" href="/kevin-blog/assets/js/137.dbda7b02.js"><link rel="prefetch" href="/kevin-blog/assets/js/138.9fea4ca4.js"><link rel="prefetch" href="/kevin-blog/assets/js/139.0a81aff9.js"><link rel="prefetch" href="/kevin-blog/assets/js/14.efd69f3b.js"><link rel="prefetch" href="/kevin-blog/assets/js/140.3f048218.js"><link rel="prefetch" href="/kevin-blog/assets/js/141.002d7568.js"><link rel="prefetch" href="/kevin-blog/assets/js/142.aec10062.js"><link rel="prefetch" href="/kevin-blog/assets/js/143.2e682c5b.js"><link rel="prefetch" href="/kevin-blog/assets/js/144.d05092f0.js"><link rel="prefetch" href="/kevin-blog/assets/js/145.358437b8.js"><link rel="prefetch" href="/kevin-blog/assets/js/146.af219f24.js"><link rel="prefetch" href="/kevin-blog/assets/js/147.061cb5fe.js"><link rel="prefetch" href="/kevin-blog/assets/js/148.422d1f87.js"><link rel="prefetch" href="/kevin-blog/assets/js/149.c97f27f4.js"><link rel="prefetch" href="/kevin-blog/assets/js/15.271f58eb.js"><link rel="prefetch" href="/kevin-blog/assets/js/150.177533a9.js"><link rel="prefetch" href="/kevin-blog/assets/js/151.d70f314c.js"><link rel="prefetch" href="/kevin-blog/assets/js/152.ca40e6fc.js"><link rel="prefetch" href="/kevin-blog/assets/js/153.a2bca317.js"><link rel="prefetch" href="/kevin-blog/assets/js/154.22edbf9f.js"><link rel="prefetch" href="/kevin-blog/assets/js/155.e59b2d87.js"><link rel="prefetch" href="/kevin-blog/assets/js/156.d5a38de8.js"><link rel="prefetch" href="/kevin-blog/assets/js/157.cbe5199a.js"><link rel="prefetch" href="/kevin-blog/assets/js/158.31c5b8b2.js"><link rel="prefetch" href="/kevin-blog/assets/js/159.0763ed0c.js"><link rel="prefetch" href="/kevin-blog/assets/js/16.e92cdd55.js"><link rel="prefetch" href="/kevin-blog/assets/js/160.a05ced02.js"><link rel="prefetch" href="/kevin-blog/assets/js/161.7e52ed13.js"><link rel="prefetch" href="/kevin-blog/assets/js/162.f5df7208.js"><link rel="prefetch" href="/kevin-blog/assets/js/163.78a78de8.js"><link rel="prefetch" href="/kevin-blog/assets/js/164.54fd347c.js"><link rel="prefetch" href="/kevin-blog/assets/js/165.a0347ed3.js"><link rel="prefetch" href="/kevin-blog/assets/js/166.0702e96e.js"><link rel="prefetch" href="/kevin-blog/assets/js/167.69136cd0.js"><link rel="prefetch" href="/kevin-blog/assets/js/168.d0aa7e0d.js"><link rel="prefetch" href="/kevin-blog/assets/js/169.6229f0ca.js"><link rel="prefetch" href="/kevin-blog/assets/js/17.9a006e5d.js"><link rel="prefetch" href="/kevin-blog/assets/js/170.b6571721.js"><link rel="prefetch" href="/kevin-blog/assets/js/171.600f9683.js"><link rel="prefetch" href="/kevin-blog/assets/js/172.6e1792a7.js"><link rel="prefetch" href="/kevin-blog/assets/js/173.cef126b3.js"><link rel="prefetch" href="/kevin-blog/assets/js/174.97b3e897.js"><link rel="prefetch" href="/kevin-blog/assets/js/175.fcefca30.js"><link rel="prefetch" href="/kevin-blog/assets/js/176.31862a66.js"><link rel="prefetch" href="/kevin-blog/assets/js/177.089b09c0.js"><link rel="prefetch" href="/kevin-blog/assets/js/178.a5dcd25c.js"><link rel="prefetch" href="/kevin-blog/assets/js/179.a9d685f2.js"><link rel="prefetch" href="/kevin-blog/assets/js/18.a1c24192.js"><link rel="prefetch" href="/kevin-blog/assets/js/180.4ad69266.js"><link rel="prefetch" href="/kevin-blog/assets/js/181.691d48a2.js"><link rel="prefetch" href="/kevin-blog/assets/js/182.e77aa679.js"><link rel="prefetch" href="/kevin-blog/assets/js/183.2b4341f4.js"><link rel="prefetch" href="/kevin-blog/assets/js/184.b3610e8b.js"><link rel="prefetch" href="/kevin-blog/assets/js/185.08107897.js"><link rel="prefetch" href="/kevin-blog/assets/js/186.9f5a3f65.js"><link rel="prefetch" href="/kevin-blog/assets/js/187.ac2fe2c2.js"><link rel="prefetch" href="/kevin-blog/assets/js/188.09023a78.js"><link rel="prefetch" href="/kevin-blog/assets/js/189.409b4ed0.js"><link rel="prefetch" href="/kevin-blog/assets/js/190.ca5d775c.js"><link rel="prefetch" href="/kevin-blog/assets/js/191.8052fe42.js"><link rel="prefetch" href="/kevin-blog/assets/js/192.31ebe059.js"><link rel="prefetch" href="/kevin-blog/assets/js/193.9bf32e11.js"><link rel="prefetch" href="/kevin-blog/assets/js/194.0667554a.js"><link rel="prefetch" href="/kevin-blog/assets/js/195.ea249ba4.js"><link rel="prefetch" href="/kevin-blog/assets/js/196.6278ec5a.js"><link rel="prefetch" href="/kevin-blog/assets/js/197.90f6af7b.js"><link rel="prefetch" href="/kevin-blog/assets/js/198.2e358b6a.js"><link rel="prefetch" href="/kevin-blog/assets/js/199.a0bd0085.js"><link rel="prefetch" href="/kevin-blog/assets/js/20.890583ea.js"><link rel="prefetch" href="/kevin-blog/assets/js/200.bc1e237a.js"><link rel="prefetch" href="/kevin-blog/assets/js/201.767e166e.js"><link rel="prefetch" href="/kevin-blog/assets/js/202.a52f0e94.js"><link rel="prefetch" href="/kevin-blog/assets/js/203.06f0ebab.js"><link rel="prefetch" href="/kevin-blog/assets/js/204.7ae45191.js"><link rel="prefetch" href="/kevin-blog/assets/js/205.b8412fbc.js"><link rel="prefetch" href="/kevin-blog/assets/js/206.682f9a3e.js"><link rel="prefetch" href="/kevin-blog/assets/js/207.8978346c.js"><link rel="prefetch" href="/kevin-blog/assets/js/208.35db8c05.js"><link rel="prefetch" href="/kevin-blog/assets/js/209.1eebeab0.js"><link rel="prefetch" href="/kevin-blog/assets/js/21.48328b6a.js"><link rel="prefetch" href="/kevin-blog/assets/js/210.b56db64f.js"><link rel="prefetch" href="/kevin-blog/assets/js/211.31da36f5.js"><link rel="prefetch" href="/kevin-blog/assets/js/212.2f2d2d1f.js"><link rel="prefetch" href="/kevin-blog/assets/js/213.be55b8cc.js"><link rel="prefetch" href="/kevin-blog/assets/js/214.aeffc247.js"><link rel="prefetch" href="/kevin-blog/assets/js/215.137bae15.js"><link rel="prefetch" href="/kevin-blog/assets/js/216.2692c636.js"><link rel="prefetch" href="/kevin-blog/assets/js/217.a6a9cf62.js"><link rel="prefetch" href="/kevin-blog/assets/js/218.7353ed7a.js"><link rel="prefetch" href="/kevin-blog/assets/js/219.f1fdfe8e.js"><link rel="prefetch" href="/kevin-blog/assets/js/22.5fd865e7.js"><link rel="prefetch" href="/kevin-blog/assets/js/220.e20ab2b5.js"><link rel="prefetch" href="/kevin-blog/assets/js/221.0d06c8b0.js"><link rel="prefetch" href="/kevin-blog/assets/js/222.e39491a9.js"><link rel="prefetch" href="/kevin-blog/assets/js/223.ae98df72.js"><link rel="prefetch" href="/kevin-blog/assets/js/224.4ba5d334.js"><link rel="prefetch" href="/kevin-blog/assets/js/225.913ee059.js"><link rel="prefetch" href="/kevin-blog/assets/js/226.b8d730bd.js"><link rel="prefetch" href="/kevin-blog/assets/js/227.69ee92e2.js"><link rel="prefetch" href="/kevin-blog/assets/js/228.1cf17cff.js"><link rel="prefetch" href="/kevin-blog/assets/js/229.6ce44fac.js"><link rel="prefetch" href="/kevin-blog/assets/js/23.9ef4ab20.js"><link rel="prefetch" href="/kevin-blog/assets/js/230.30c28e05.js"><link rel="prefetch" href="/kevin-blog/assets/js/231.ef327150.js"><link rel="prefetch" href="/kevin-blog/assets/js/232.6cb791d8.js"><link rel="prefetch" href="/kevin-blog/assets/js/233.473fa94b.js"><link rel="prefetch" href="/kevin-blog/assets/js/234.848de787.js"><link rel="prefetch" href="/kevin-blog/assets/js/235.f5db4ed9.js"><link rel="prefetch" href="/kevin-blog/assets/js/236.5da3f87c.js"><link rel="prefetch" href="/kevin-blog/assets/js/237.018a543d.js"><link rel="prefetch" href="/kevin-blog/assets/js/238.74d22845.js"><link rel="prefetch" href="/kevin-blog/assets/js/239.fca187a6.js"><link rel="prefetch" href="/kevin-blog/assets/js/24.3dff5faa.js"><link rel="prefetch" href="/kevin-blog/assets/js/240.0dbbfe84.js"><link rel="prefetch" href="/kevin-blog/assets/js/241.8b1ccf29.js"><link rel="prefetch" href="/kevin-blog/assets/js/242.f5216a9f.js"><link rel="prefetch" href="/kevin-blog/assets/js/243.8e5c5e34.js"><link rel="prefetch" href="/kevin-blog/assets/js/244.8f78ae9a.js"><link rel="prefetch" href="/kevin-blog/assets/js/245.e0b2e7b9.js"><link rel="prefetch" href="/kevin-blog/assets/js/246.7700207e.js"><link rel="prefetch" href="/kevin-blog/assets/js/247.c1e13b57.js"><link rel="prefetch" href="/kevin-blog/assets/js/248.63d6adf8.js"><link rel="prefetch" href="/kevin-blog/assets/js/249.500fdd00.js"><link rel="prefetch" href="/kevin-blog/assets/js/25.0ebddc27.js"><link rel="prefetch" href="/kevin-blog/assets/js/250.ebbb5c92.js"><link rel="prefetch" href="/kevin-blog/assets/js/251.4e51605e.js"><link rel="prefetch" href="/kevin-blog/assets/js/252.2534bb33.js"><link rel="prefetch" href="/kevin-blog/assets/js/253.330d0073.js"><link rel="prefetch" href="/kevin-blog/assets/js/254.da99904b.js"><link rel="prefetch" href="/kevin-blog/assets/js/255.f9a1774e.js"><link rel="prefetch" href="/kevin-blog/assets/js/256.7ee8ac66.js"><link rel="prefetch" href="/kevin-blog/assets/js/257.41594669.js"><link rel="prefetch" href="/kevin-blog/assets/js/258.9d8beffc.js"><link rel="prefetch" href="/kevin-blog/assets/js/259.1539043a.js"><link rel="prefetch" href="/kevin-blog/assets/js/26.7e91ac9d.js"><link rel="prefetch" href="/kevin-blog/assets/js/260.034695f0.js"><link rel="prefetch" href="/kevin-blog/assets/js/261.953910a0.js"><link rel="prefetch" href="/kevin-blog/assets/js/262.e2b0764f.js"><link rel="prefetch" href="/kevin-blog/assets/js/263.fe9b0b70.js"><link rel="prefetch" href="/kevin-blog/assets/js/264.489e20f7.js"><link rel="prefetch" href="/kevin-blog/assets/js/265.43596b34.js"><link rel="prefetch" href="/kevin-blog/assets/js/266.07bb7008.js"><link rel="prefetch" href="/kevin-blog/assets/js/267.5caf5b93.js"><link rel="prefetch" href="/kevin-blog/assets/js/268.fc6e09e2.js"><link rel="prefetch" href="/kevin-blog/assets/js/269.764500c0.js"><link rel="prefetch" href="/kevin-blog/assets/js/27.55c7093f.js"><link rel="prefetch" href="/kevin-blog/assets/js/270.9760648a.js"><link rel="prefetch" href="/kevin-blog/assets/js/271.019b1f9a.js"><link rel="prefetch" href="/kevin-blog/assets/js/272.bce07ec6.js"><link rel="prefetch" href="/kevin-blog/assets/js/273.038ff1e3.js"><link rel="prefetch" href="/kevin-blog/assets/js/274.2cb7fd59.js"><link rel="prefetch" href="/kevin-blog/assets/js/275.3c831af6.js"><link rel="prefetch" href="/kevin-blog/assets/js/276.8d0732f8.js"><link rel="prefetch" href="/kevin-blog/assets/js/277.5aa0c664.js"><link rel="prefetch" href="/kevin-blog/assets/js/278.a3cdd3b8.js"><link rel="prefetch" href="/kevin-blog/assets/js/279.d049a479.js"><link rel="prefetch" href="/kevin-blog/assets/js/28.da28db4a.js"><link rel="prefetch" href="/kevin-blog/assets/js/280.6b7f68c4.js"><link rel="prefetch" href="/kevin-blog/assets/js/281.eff251cb.js"><link rel="prefetch" href="/kevin-blog/assets/js/282.f0dc7866.js"><link rel="prefetch" href="/kevin-blog/assets/js/283.36ca2fb9.js"><link rel="prefetch" href="/kevin-blog/assets/js/284.470e6db4.js"><link rel="prefetch" href="/kevin-blog/assets/js/285.a9c60b36.js"><link rel="prefetch" href="/kevin-blog/assets/js/286.3eff6f51.js"><link rel="prefetch" href="/kevin-blog/assets/js/287.f406cf63.js"><link rel="prefetch" href="/kevin-blog/assets/js/288.d6bb5731.js"><link rel="prefetch" href="/kevin-blog/assets/js/289.518409f3.js"><link rel="prefetch" href="/kevin-blog/assets/js/29.37ea8137.js"><link rel="prefetch" href="/kevin-blog/assets/js/290.e4795980.js"><link rel="prefetch" href="/kevin-blog/assets/js/291.6ca97e3d.js"><link rel="prefetch" href="/kevin-blog/assets/js/292.f434852f.js"><link rel="prefetch" href="/kevin-blog/assets/js/293.256f39e1.js"><link rel="prefetch" href="/kevin-blog/assets/js/294.0e051edc.js"><link rel="prefetch" href="/kevin-blog/assets/js/295.d6a1cfbb.js"><link rel="prefetch" href="/kevin-blog/assets/js/296.9a3f4bb2.js"><link rel="prefetch" href="/kevin-blog/assets/js/297.374bbc2d.js"><link rel="prefetch" href="/kevin-blog/assets/js/298.c37b0145.js"><link rel="prefetch" href="/kevin-blog/assets/js/299.008098d2.js"><link rel="prefetch" href="/kevin-blog/assets/js/3.0c6053de.js"><link rel="prefetch" href="/kevin-blog/assets/js/30.24e20f30.js"><link rel="prefetch" href="/kevin-blog/assets/js/300.ab07139a.js"><link rel="prefetch" href="/kevin-blog/assets/js/301.69ee5ffa.js"><link rel="prefetch" href="/kevin-blog/assets/js/302.05af46d8.js"><link rel="prefetch" href="/kevin-blog/assets/js/303.cec1cf65.js"><link rel="prefetch" href="/kevin-blog/assets/js/304.7c82ba6c.js"><link rel="prefetch" href="/kevin-blog/assets/js/305.7ac25f4a.js"><link rel="prefetch" href="/kevin-blog/assets/js/306.82149841.js"><link rel="prefetch" href="/kevin-blog/assets/js/307.f56afc9c.js"><link rel="prefetch" href="/kevin-blog/assets/js/308.7c084ed0.js"><link rel="prefetch" href="/kevin-blog/assets/js/309.feb89623.js"><link rel="prefetch" href="/kevin-blog/assets/js/31.19d1e3af.js"><link rel="prefetch" href="/kevin-blog/assets/js/310.1e33889a.js"><link rel="prefetch" href="/kevin-blog/assets/js/311.416e7d20.js"><link rel="prefetch" href="/kevin-blog/assets/js/312.ee11dbec.js"><link rel="prefetch" href="/kevin-blog/assets/js/313.f58bb112.js"><link rel="prefetch" href="/kevin-blog/assets/js/314.543b2b1c.js"><link rel="prefetch" href="/kevin-blog/assets/js/315.18b9a70e.js"><link rel="prefetch" href="/kevin-blog/assets/js/316.6dfba854.js"><link rel="prefetch" href="/kevin-blog/assets/js/317.19590777.js"><link rel="prefetch" href="/kevin-blog/assets/js/318.a3ec0c19.js"><link rel="prefetch" href="/kevin-blog/assets/js/319.f990a61a.js"><link rel="prefetch" href="/kevin-blog/assets/js/32.07887ecb.js"><link rel="prefetch" href="/kevin-blog/assets/js/320.a3c5cbbf.js"><link rel="prefetch" href="/kevin-blog/assets/js/321.1f58e49c.js"><link rel="prefetch" href="/kevin-blog/assets/js/322.032ff5a2.js"><link rel="prefetch" href="/kevin-blog/assets/js/323.cdd3ba68.js"><link rel="prefetch" href="/kevin-blog/assets/js/324.5238a4e1.js"><link rel="prefetch" href="/kevin-blog/assets/js/325.df06c071.js"><link rel="prefetch" href="/kevin-blog/assets/js/33.9539a78e.js"><link rel="prefetch" href="/kevin-blog/assets/js/34.fa08dd12.js"><link rel="prefetch" href="/kevin-blog/assets/js/35.d6823664.js"><link rel="prefetch" href="/kevin-blog/assets/js/36.5e074071.js"><link rel="prefetch" href="/kevin-blog/assets/js/37.f4a65a95.js"><link rel="prefetch" href="/kevin-blog/assets/js/38.4f127420.js"><link rel="prefetch" href="/kevin-blog/assets/js/39.a5427f94.js"><link rel="prefetch" href="/kevin-blog/assets/js/4.a60d4c06.js"><link rel="prefetch" href="/kevin-blog/assets/js/40.859a530c.js"><link rel="prefetch" href="/kevin-blog/assets/js/41.b61d8247.js"><link rel="prefetch" href="/kevin-blog/assets/js/42.cd204014.js"><link rel="prefetch" href="/kevin-blog/assets/js/43.8076c8fc.js"><link rel="prefetch" href="/kevin-blog/assets/js/44.8a85cf72.js"><link rel="prefetch" href="/kevin-blog/assets/js/45.f46f354b.js"><link rel="prefetch" href="/kevin-blog/assets/js/46.5990e5be.js"><link rel="prefetch" href="/kevin-blog/assets/js/47.9381b746.js"><link rel="prefetch" href="/kevin-blog/assets/js/48.77d95473.js"><link rel="prefetch" href="/kevin-blog/assets/js/49.fc6dff0d.js"><link rel="prefetch" href="/kevin-blog/assets/js/5.6b8c7ebc.js"><link rel="prefetch" href="/kevin-blog/assets/js/50.297dac6d.js"><link rel="prefetch" href="/kevin-blog/assets/js/51.c6ed15a6.js"><link rel="prefetch" href="/kevin-blog/assets/js/52.8bb5ec6f.js"><link rel="prefetch" href="/kevin-blog/assets/js/53.32ab5818.js"><link rel="prefetch" href="/kevin-blog/assets/js/54.1fe541f9.js"><link rel="prefetch" href="/kevin-blog/assets/js/55.6084b23b.js"><link rel="prefetch" href="/kevin-blog/assets/js/56.242cd75a.js"><link rel="prefetch" href="/kevin-blog/assets/js/57.a3aa61b8.js"><link rel="prefetch" href="/kevin-blog/assets/js/58.5dc813ec.js"><link rel="prefetch" href="/kevin-blog/assets/js/59.0649b9f5.js"><link rel="prefetch" href="/kevin-blog/assets/js/6.8f60ce79.js"><link rel="prefetch" href="/kevin-blog/assets/js/60.e912e60f.js"><link rel="prefetch" href="/kevin-blog/assets/js/61.2348484b.js"><link rel="prefetch" href="/kevin-blog/assets/js/62.43b03d30.js"><link rel="prefetch" href="/kevin-blog/assets/js/63.6e56096d.js"><link rel="prefetch" href="/kevin-blog/assets/js/64.c45908b4.js"><link rel="prefetch" href="/kevin-blog/assets/js/65.aab0a20e.js"><link rel="prefetch" href="/kevin-blog/assets/js/66.2555ebea.js"><link rel="prefetch" href="/kevin-blog/assets/js/67.80828b1b.js"><link rel="prefetch" href="/kevin-blog/assets/js/68.5b1b38ff.js"><link rel="prefetch" href="/kevin-blog/assets/js/69.d735686b.js"><link rel="prefetch" href="/kevin-blog/assets/js/7.8fc0c0e7.js"><link rel="prefetch" href="/kevin-blog/assets/js/70.fd567fdf.js"><link rel="prefetch" href="/kevin-blog/assets/js/71.3dc39cbd.js"><link rel="prefetch" href="/kevin-blog/assets/js/72.6fe3454c.js"><link rel="prefetch" href="/kevin-blog/assets/js/73.80c96fab.js"><link rel="prefetch" href="/kevin-blog/assets/js/74.7b652913.js"><link rel="prefetch" href="/kevin-blog/assets/js/75.a9cc5506.js"><link rel="prefetch" href="/kevin-blog/assets/js/76.81bca567.js"><link rel="prefetch" href="/kevin-blog/assets/js/77.1851c464.js"><link rel="prefetch" href="/kevin-blog/assets/js/78.06a9be2e.js"><link rel="prefetch" href="/kevin-blog/assets/js/79.89ac9186.js"><link rel="prefetch" href="/kevin-blog/assets/js/8.d7f3575e.js"><link rel="prefetch" href="/kevin-blog/assets/js/80.76b8cfc2.js"><link rel="prefetch" href="/kevin-blog/assets/js/81.7c87b7a7.js"><link rel="prefetch" href="/kevin-blog/assets/js/82.1995f469.js"><link rel="prefetch" href="/kevin-blog/assets/js/83.dd77915d.js"><link rel="prefetch" href="/kevin-blog/assets/js/84.d167dd7d.js"><link rel="prefetch" href="/kevin-blog/assets/js/85.b858e7d4.js"><link rel="prefetch" href="/kevin-blog/assets/js/86.c4508e18.js"><link rel="prefetch" href="/kevin-blog/assets/js/87.e5015ac2.js"><link rel="prefetch" href="/kevin-blog/assets/js/88.03ea7184.js"><link rel="prefetch" href="/kevin-blog/assets/js/89.6c4aecd6.js"><link rel="prefetch" href="/kevin-blog/assets/js/9.541bf307.js"><link rel="prefetch" href="/kevin-blog/assets/js/90.e64c083e.js"><link rel="prefetch" href="/kevin-blog/assets/js/91.208ff0cf.js"><link rel="prefetch" href="/kevin-blog/assets/js/92.0247f769.js"><link rel="prefetch" href="/kevin-blog/assets/js/93.1d51e9e8.js"><link rel="prefetch" href="/kevin-blog/assets/js/94.52fd5e59.js"><link rel="prefetch" href="/kevin-blog/assets/js/95.3641a4fe.js"><link rel="prefetch" href="/kevin-blog/assets/js/96.a96da06a.js"><link rel="prefetch" href="/kevin-blog/assets/js/97.877152bf.js"><link rel="prefetch" href="/kevin-blog/assets/js/98.4fe249c2.js"><link rel="prefetch" href="/kevin-blog/assets/js/99.400d0dc4.js">
    <link rel="stylesheet" href="/kevin-blog/assets/css/0.styles.267bc68b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/kevin-blog/" class="home-link router-link-active"><!----> <span class="site-name">Kevin-Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/ES6/Map 数据结构.html" class="nav-link">
  ES6
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Python/DBUtils 数据库连接池模块.html" class="nav-link">
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Django" class="dropdown-title"><span class="title">Django</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/Django/Ajax.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django ORM/ORM-ContentType.html" class="nav-link">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django Rest-Framework/JWT - JSON Web Tokens.html" class="nav-link">
  Rest-Framework
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Flask/Flask 文件上传.html" class="nav-link">
  Flask
</a></div><div class="nav-item"><a href="/kevin-blog/Git GitHub/Git.html" class="nav-link">
  Git GitHub
</a></div><div class="nav-item"><a href="/kevin-blog/Linux/CentOS 下载和安装.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/kevin-blog/MySQL/distinct 去重.html" class="nav-link">
  MySQL
</a></div><div class="nav-item"><a href="/kevin-blog/爬虫/Anaconda环境.html" class="nav-link">
  爬虫
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Web" class="dropdown-title"><span class="title">Web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/ES6/Map 数据结构.html" class="nav-link">
  ES6
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Python/DBUtils 数据库连接池模块.html" class="nav-link">
  Python
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Django" class="dropdown-title"><span class="title">Django</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/kevin-blog/Django/Ajax.html" class="nav-link">
  基础
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django ORM/ORM-ContentType.html" class="nav-link">
  ORM
</a></li><li class="dropdown-item"><!----> <a href="/kevin-blog/Django Rest-Framework/JWT - JSON Web Tokens.html" class="nav-link">
  Rest-Framework
</a></li></ul></div></div><div class="nav-item"><a href="/kevin-blog/Flask/Flask 文件上传.html" class="nav-link">
  Flask
</a></div><div class="nav-item"><a href="/kevin-blog/Git GitHub/Git.html" class="nav-link">
  Git GitHub
</a></div><div class="nav-item"><a href="/kevin-blog/Linux/CentOS 下载和安装.html" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/kevin-blog/MySQL/distinct 去重.html" class="nav-link">
  MySQL
</a></div><div class="nav-item"><a href="/kevin-blog/爬虫/Anaconda环境.html" class="nav-link">
  爬虫
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Django ORM</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/kevin-blog/Django ORM/ORM-ContentType.html" class="sidebar-link">ORM-ContentType</a></li><li><a href="/kevin-blog/Django ORM/ORM-F查询.html" class="sidebar-link">ORM-F查询</a></li><li><a href="/kevin-blog/Django ORM/ORM-Q查询.html" class="sidebar-link">ORM-Q查询</a></li><li><a href="/kevin-blog/Django ORM/ORM-_meta的用法.html" class="sidebar-link">ORM-_meta的用法</a></li><li><a href="/kevin-blog/Django ORM/ORM-一对一.html" class="sidebar-link">ORM-一对一</a></li><li><a href="/kevin-blog/Django ORM/ORM-分组查询.html" class="sidebar-link">ORM-分组查询</a></li><li><a href="/kevin-blog/Django ORM/ORM-在模型类中重写save方法.html" class="sidebar-link">ORM-在模型类中重写save方法</a></li><li><a href="/kevin-blog/Django ORM/ORM-外键（一对多）.html" class="sidebar-link">ORM-外键（一对多）</a></li><li><a href="/kevin-blog/Django ORM/ORM-多对多.html" class="sidebar-link">ORM-多对多</a></li><li><a href="/kevin-blog/Django ORM/ORM-字段对象相关方法.html" class="sidebar-link">ORM-字段对象相关方法</a></li><li><a href="/kevin-blog/Django ORM/ORM-序列化.html" class="sidebar-link">ORM-序列化</a></li><li><a href="/kevin-blog/Django ORM/ORM-性能相关的查询方法.html" class="sidebar-link">ORM-性能相关的查询方法</a></li><li><a href="/kevin-blog/Django ORM/ORM-执行自定义的SQL语句.html" class="sidebar-link">ORM-执行自定义的SQL语句</a></li><li><a href="/kevin-blog/Django ORM/ORM-操作数据.html" class="active sidebar-link">ORM-操作数据</a></li><li><a href="/kevin-blog/Django ORM/ORM-操作表.html" class="sidebar-link">ORM-操作表</a></li><li><a href="/kevin-blog/Django ORM/ORM-练习题.html" class="sidebar-link">ORM-练习题</a></li><li><a href="/kevin-blog/Django ORM/ORM-聚合查询.html" class="sidebar-link">ORM-聚合查询</a></li><li><a href="/kevin-blog/Django ORM/ORM-自关联.html" class="sidebar-link">ORM-自关联</a></li><li><a href="/kevin-blog/Django ORM/ORM-跨多张表查询自身的数据.html" class="sidebar-link">ORM-跨多张表查询自身的数据</a></li><li><a href="/kevin-blog/Django ORM/ORM-配置和使用多个数据库.html" class="sidebar-link">ORM-配置和使用多个数据库</a></li><li><a href="/kevin-blog/Django ORM/ORM-锁和事务.html" class="sidebar-link">ORM-锁和事务</a></li><li><a href="/kevin-blog/Django ORM/ORM的介绍.html" class="sidebar-link">ORM的介绍</a></li><li><a href="/kevin-blog/Django ORM/ORM的配置.html" class="sidebar-link">ORM的配置</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div><span><div><div><div><div><div><div><div><div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:rgb(255, 255, 255);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;">QuerySet对象说明</span></h2><div><br></div><ul><li><div>QuerySet是Django中的一个特殊对象，本质上了列表是一样的，也可以将它理解为列表</div></li><li><div>QuerySet的本质是继承了 list 类</div></li></ul><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(255, 255, 255);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;">打印SQL语句</span></h2><div><br></div><ul><li><div>方法一 -&gt; 在settings.py中进行配置（在配置文件章节中有提到）</div></li></ul><div><br></div><ul><li><div>方法二 -&gt; 指定打印那个orm的SQL语句</div></li></ul><div><br></div><ul><ul><li><div>.query</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>data = Student.objects.all()</div><div><br></div><div>sql = data<font color="#FA7A00">.query</font></div><div><br></div><div>print(sql)  <font color="#41AD1C"># SELECT &quot;app01_student&quot;.&quot;id&quot;, &quot;app01_student&quot;.&quot;name&quot;, &quot;app01_student&quot;.&quot;age&quot;, &quot;app01_student&quot;.&quot;classes_id&quot; FROM &quot;app01_student&quot;</font></div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;background-color:#3eaf7c;border-radius:3px;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">添加数据</span></h2><div><br></div><ul><li><div>写法一</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 表的类.objects.create(字段名=xxx, 字段名=xxx)</span></div><div><br></div><div>Student.objects.create(username='Yeung')</div></div><div><br></div><ul><li><div>写法二</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>obj = Student(username='Kevin')</div><div>obj.save()</div><div><br></div><div><span style="font-size:9pt;font-family:Monaco;color:rgb(65, 173, 28);"># 或者简写</span></div><div><br></div><div>Student(username='Kevin').save()</div></div><div><br></div><ul><li><div>写法三</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>dic = {'username': 'Kevin'}</div><div><br></div><div>Student.objects.create(**dic)</div></div><div><br></div><ul><li><div>批量添加数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># </font><font color="#FA7A00">表的类</font><font color="#41AD1C">.objects.bulk_create(</font><font color="#FA7A00">对象列表</font><font color="#41AD1C">, </font><font color="#FA7A00">num</font><font color="#41AD1C">) -&gt; num: 每次以num条写入数据库</font></div><div><br></div><div>class_lis = [</div><div>    Classes(name='班级一'),</div><div>    Classes(name='班级二'),</div><div>    Classes(name='班级三'),</div><div>    Classes(name='班级四'),</div><div>]</div><div><br></div><div><font color="#41AD1C"># class_lis = [Classes(name='班级{}'.format(i)) for i in range(100)]</font></div><div><br></div><div>Classes.objects.bulk_create(class_lis, 10)</div></div><div><br></div><ul><li><div><span style="font-size:12pt;">DateField()、</span><span style="font-size:12pt;">DatetimeField()、</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">TimeField() 字段类</span></div></li></ul><div><br></div><ul><ul><li><div>日期字段类可以保存 字符串的日期（前提: 日期字段没有设置 auto_now_add=True） 或 日期对象（即: datetime）</div></li></ul></ul><div><br></div><ul><ul><li><div>如果日期字段保存的是字符串，那么取出来的也是字符串的日期（前提: 日期字段没有设置 auto_now_add=True，如果设置了 auto_now_add=True 那么保存的则是当前时间的日期对象，而不是你所指定的字符串的日期）</div></li></ul></ul><div><br></div><ul><ul><li><div>如果日期字段保存的是日期对象，那么取出来的也是日期对象</div></li></ul></ul><div><br></div><ul><ul><li><div><span style="color:rgb(227, 0, 0);">虽然可以保存字符串的日期，但是还是推荐保存日期对象</span></div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># model.py</font></div><div><font color="#41AD1C"><br></font></div><div>class Book(models.Model):</div><div>    title = models.CharField(max_length=15, verbose_name='书名')</div><div>    price = models.IntegerField(verbose_name='价格')</div><div><font color="#FA7A00">publish_date</font> = models.DateField(<font style="color:rgb(250, 122, 0);">auto_now_add</font>=False, verbose_name='出版日期')</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);font-family:Monaco;font-size:9pt;"># 保存的是字符串时间</span></div><div><span style="color:rgb(65, 173, 28);font-family:Monaco;font-size:9pt;"><br></span></div><div>obj = Book.objects.create(title='三国演义', price=100, <font color="#FA7A00">publish_date</font>='2018-9-1')</div><div>print(obj.<font color="#FA7A00">publish_date</font>, type(obj.<font color="#FA7A00">publish_date</font>))  <font color="#41AD1C"># 2018-9-1 &lt;class 'str'&gt;</font></div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 保存的是字符串时间，但日期字段设置了 auto_now_add=True</font></div><div><br></div><div>obj = Book.objects.create(title='三国演义', price=100, <font color="#FA7A00">publish_date</font>='2018-9-1')</div><div>print(obj.<font color="#FA7A00">publish_date</font>, type(obj.<font color="#FA7A00">publish_date</font>))  <font color="#41AD1C"># 2019-06-18 &lt;class 'datetime.date'&gt;</font></div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 保存的是日期对象</font></div><div><br></div><div>import datetime</div><div><br></div><div>obj = Book.objects.create(title='水浒装', price=50, <span style="color:rgb(250, 122, 0);">publish_date</span>=datetime.datetime.now())</div><div>print(obj.<span style="color:rgb(250, 122, 0);">publish_date</span>, type(obj.<span style="color:rgb(250, 122, 0);">publish_date</span>))  <span style="color:rgb(65, 173, 28);"># 2019-06-18 15:26:34.999867 &lt;class 'datetime.datetime'&gt;</span></div></div><div><br></div><ul><li><div>FileField 或 ImageField 字段类</div></li></ul><div><br></div><ul><ul><li><div>通过 FileField 或 ImageField 字段类所创建的字段，在添加数据的时候该字段一般接受一个文件对象</div></li></ul></ul><div><br></div><ul><ul><li><div>通过 FileField 或 ImageField 字段类所创建的字段接受到一个文件对象的时候，会将文件保存到 upload_to 字段属性所设置的文件夹路径下，如果配置了 media 那么文件就会保存到 media 目录下，然后将保存后的文件路径写入到该字段下</div></li></ul></ul><div><br></div><ul><ul><ul><li><div>upload_to 的相关说明:</div></li><ul><li><div>如果设置了 upload_to 字段属性 和 配置了 media，那么文件就会保存在 media 目录下的 upload_to 字段属性所设置的文件夹路径里</div></li><li><div>如果设置了 upload_to 字段属性，没有配置 media，那么文件就会保存在 upload_to 字段属性所设置的文件夹路径里</div></li><li><div>如果没有设置了 upload_to 字段属性，但配置了 media，那么文件就会保存在 media 目录下</div></li><li><div>如果没有设置了 upload_to 字段属性，也没有配置了 media，那么文件就会保存项目根目录下</div></li></ul></ul></ul></ul><div><br></div><ul><ul><li><div>当 FileField 或 ImageField 字段类中设置了默认值得前提下，如果该字段接受到的不是一个文件对象而是一个None的话，那么该字段的数据不会保存 FileField 或 ImageField 字段类中所设置的默认值，而是保存一个空（即: NULL），如果想使用默认值那么就不要对该字段传任何数据</div></li></ul></ul><div><br></div><ul><ul><li><div>普通情况下的添加图片或文件数据</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># models.py</font></div><div><font color="#41AD1C"><br></font></div><div>class Picture(models.Model):</div><div>    title = models.CharField(max_length=32, verbose_name='标题')</div><div>    img = models.ImageField(upload_to='img/', verbose_name='图片')</div></div><div><font color="#41AD1C"><br></font></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>from app01.models import *</div><div>from django.shortcuts import render</div><div>import time</div><div><br></div><div><br></div><div>def home(request):</div><div>    if request.method == 'POST':</div><div>        img = request.FILES.get('img')</div><div>        if img:</div><div><font color="#41AD1C"># 修改文件名，以时间作为文件名</font></div><div>            img_name = img.name <font color="#41AD1C"> # 获取上传文件的文件名+后缀名</font></div><div>            suffix = img_name.rsplit('.', 1)[1]  <font color="#41AD1C"># 获取文件后缀名</font></div><div>            time_name = time.strftime(&quot;%Y%m%d%H%M%S&quot;)</div><div>            img.name = '%s.%s' % (time_name, suffix)</div><div><br></div><div>            Picture.objects.create(title='Kevin', img=img)  <font color="#41AD1C"># 将文件对象传递给 FileField 或 ImageField 字段</font></div><div><br></div><div>    return render(request, 'home.html')</div></div><div><br></div><ul><ul><li><div>创建 admin 用户添加头像</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># models.py</font></div><div><br></div><div>class UserInfo(AbstractUser):</div><div>    avatar = models.FileField(upload_to='avatars/', default=&quot;/avatars/default.png&quot;)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>def register(request):</div><div>    if request.method == 'POST':</div><div>        file_obj = request.FILES.get('avatar')  <font color="#41AD1C"># 接受一个文件对象</font></div><div>        if file_obj:  <font color="#41AD1C"># 判断是否是一个文件对象</font></div><div><font color="#41AD1C">            # avatar 字段是通过 FileField 或 ImageField 字段类所创建的</font></div><div>            UserInfo.objects.create_user(avatar=file_obj, username='Kevin', password='123')  <font color="#41AD1C"># 将文件对象传递给 avatar 字段</font></div><div>        else:</div><div>            UserInfo.objects.create_user(username='Kevin', password='123') <font color="#41AD1C"> # 如果 file_obj 不是一个文件对象，那么不对 avatar 字段做任何操作，让 avatar 字段使用默认值</font></div><div>    return render(request, 'register.html')</div></div><div><br></div><ul><li><div>.update_or_create()</div></li></ul><div><br></div><ul><ul><li><div>判断某条数据是否存在，如果存在就对该条数据进行修改，如果不存在就进行添加（即: 如果有该条数据就进行修改，没有就添加）</div></li></ul></ul><div><br></div><ul><ul><li><div>语法: .update_or_create(<span style="color:rgb(250, 122, 0);">字段名A</span>=xxx, <span style="color:rgb(250, 122, 0);">defaults</span>={字段名: xxx, 字段名: xxx, ……})</div></li></ul></ul><div><br></div><ul><ul><ul><li><div>以 字段名A + 字段名A的内容 作为查询条件，查询是否有该条数据，如果有就将该条数据中的值修改为 defaults 字典中对应的值，如果没有就添加该条数据</div></li></ul></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>from api.models import *</div><div>import datetime</div><div>import uuid</div><div><br></div><div>user = UserInfo.objects.filter(username='Kevin', password='123').first()</div><div>uid = str(uuid.uuid4())</div><div><br></div><div>UserToken.objects.<font color="#FA7A00">update_or_create</font>(user=user, <font style="color:rgb(250, 122, 0);">defaults</font>={'token': uid, 'created': datetime.datetime.now()})</div><div><font color="#41AD1C">&quot;&quot;&quot;</font></div><div><font color="#41AD1C">    代码解释:</font></div><div><font color="#41AD1C">        1. 判断token表中是否存在 user字段等于user对象 的这条数据</font></div><div><font color="#41AD1C">        2. 如果有: 就将该条数据中的 token 字段和 created 字段修改为 defaults 参数中所对应的值</font></div><div><font color="#41AD1C">        3. 如果没有: 就在 token 表中添加一条数据（即：user字段等于user对象，token字段和 created字段 等于 defaults 参数中所对应的值）</font></div><div><font color="#41AD1C">&quot;&quot;&quot;</font></div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">删除数据</span></h2><div><br></div><ul><li><div>先查询到要删除的数据（返回值: 对象），然后通过对象删除数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 查询到的对象.delete()</span></div><div><br></div><div>obj = Student.objects.get(id=2)</div><div>obj.delete()</div><div><br></div><div><span style="font-size:9pt;font-family:Monaco;color:rgb(65, 173, 28);"># 或者简写</span></div><div><br></div><div>Student.objects.get(id=2).delete()</div></div><div><br></div><ul><li><div>批量删除数据，即: 使用 filter() 查询数据（返回值: QuerySet-&gt;列表），然后对数据进行删除</div></li></ul><div><br></div><ul><ul><li><div>方法一: 直接使用 .delete() 方法，对查询到的进行删除 -&gt; 推荐使用</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.filter(age=18).delete()</div></div><div><br></div><ul><ul><li><div>方法二: 循环返回的QuerySet，获取到QuerySet中的对象然后再进行删除</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>objs = Student.objects.filter(age=18)</div><div>for i in objs:</div><div>    i.delete()</div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">修改数据</span></h2><div><br></div><ul><li><div>先查询到要修改的数据（返回值: 对象），然后通过对象修改数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 查询到的对象.字段名 = xxx</span></div><div><span style="color:rgb(65, 173, 28);"># 查询到的对象.save()</span></div><div><br></div><div>obj = Student.objects.get(id=1)</div><div>obj.username = 'Yeung'</div><div>obj.save()</div></div><div><br></div><ul><li><div>批量修改数据，即:使用 filter() 查询数据（返回值: QuerySet-&gt;列表），然后对数据进行修改</div></li></ul><div><br></div><ul><ul><li><div>方法一: 使用 .update(字段名=xxx, 字段名=xxx) -&gt; 推荐使用</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>objs = Student.objects.filter(id=4)</div><div>objs.update(username='Aimer')</div><div><br></div><div><span style="color:rgb(65, 173, 28);"># 或者简写</span></div><div><br></div><div>Student.objects.filter(id=4).update(username='Aimer')</div></div><div><br></div><ul><ul><li><div>方法二: 循环返回的QuerySet，获取到QuerySet中的对象然后再进行修改</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>objs = Student.objects.filter(id=1)</div><div><br></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;">for i in </span>objs:</div><div>    i.username = 'Yeung'</div><div>    i.save()</div></div><div><br></div><ul><li><div>FileField 或 ImageField 字段类</div></li></ul><div><br></div><ul><ul><li><div>通过 FileField 或 ImageField 字段类所创建的字段接受到一个文件对象的时候，会将文件保存到 upload_to 字段属性所设置的文件夹路径下，如果配置了 media 那么文件就会保存到 media 目录下，然后将保存后的文件路径写入到该字段下</div></li></ul></ul><div><br></div><ul><ul><ul><li><div>upload_to 的相关说明:</div></li><ul><li><div>如果设置了 upload_to 字段属性 和 配置了 media，那么文件就会保存在 media 目录下的 upload_to 字段属性所设置的文件夹路径里</div></li><li><div>如果设置了 upload_to 字段属性，没有配置 media，那么文件就会保存在 upload_to 字段属性所设置的文件夹路径里</div></li><li><div>如果没有设置了 upload_to 字段属性，但配置了 media，那么文件就会保存在 media 目录下</div></li><li><div>如果没有设置了 upload_to 字段属性，也没有配置了 media，那么文件就会保存项目根目录下</div></li></ul></ul></ul></ul><div><br></div><ul><ul><li><div>当 FileField 或 ImageField 字段类中设置了默认值得前提下，如果该字段接受到的不是一个文件对象而是一个None的话，那么该字段的数据不会保存 FileField 或 ImageField 字段类中所设置的默认值，而是保存一个空（即: NULL），如果想使用默认值那么就不要对该字段传任何数据</div></li></ul></ul><div><br></div><ul><ul><li><div>使用 .FileField/ImageField字段对象.save(文件名, 文件对象) 修改文件</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size:9pt;font-family:Monaco;"><font color="#41AD1C"># models.py</font></span></div><div><span style="font-size:9pt;font-family:Monaco;"><font color="#41AD1C"><br></font></span></div><div>class Picture(models.Model):</div><div>    title = models.CharField(max_length=32, verbose_name='标题')</div><div>    img = models.ImageField(upload_to='img/', verbose_name='图片')</div></div><div><font color="#41AD1C"><br></font></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><br></div><div>import os</div><div>import time</div><div>from app01.models import *</div><div>from django.conf import settings</div><div>from django.shortcuts import render</div><div><br></div><div><br></div><div>def home(request):</div><div>    if request.method == 'POST':</div><div>        picture_obj = Picture.objects.all().first()</div><div>        img = request.FILES.get('img')</div><div>        if img:</div><div>            old_img_path = picture_obj.img.name</div><div><br></div><div><font color="#41AD1C"># 修改文件/图片</font></div><div>            img_name = img.name <font color="#41AD1C"> # 获取上传文件的文件名+后缀名</font></div><div>            suffix = img_name.rsplit('.', 1)[1]  <font color="#41AD1C"># 获取文件后缀名</font></div><div>            time_name = time.strftime(&quot;%Y%m%d%H%M%S&quot;)</div><div>            new_img_name = '%s.%s' % (time_name, suffix)</div><div>            picture_obj<font color="#FA7A00">.img.save(new_img_name, img)</font></div><div>            picture_obj.save()</div><div><br></div><div><font color="#41AD1C"># 删除旧文件/图片</font></div><div>            old_img_path_list = old_img_path.split('/')</div><div>            old_img_address = os.path.join(settings.BASE_DIR, 'media', *old_img_path_list)</div><div>            os.remove(old_img_address)</div><div><br></div><div>    return render(request, 'home.html')</div></div><div><br></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">查询数据</span></h2><div><font style="font-size:12pt;"><br></font></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">1.</span><span style="font-size:14pt;font-weight:bold;"> filter() 方法支持 filter(表名__字段名的写法) 详细请查看 ORM-</span><span style="font-size:14pt;font-weight:bold;">跨多张表查询自身的数据</span></div><div><font style="font-size:12pt;"><br></font></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">2.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">pk 参数</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div>在每一个查询出来的数据对象（即: QuerySet里面的每一个数据对象）中都会包含一个 pk 参数</div></li></ul><div><br></div><ul><li><div>pk 参数: 代指的就是主键（即: id）</div></li></ul><div><br></div><ul><li><div>使用场景: </div></li></ul><div><br></div><ul><ul><li><div>有时候我们的主键不是id而是 nid, pid, tid 等，这时候就可以直接通过 .pk 获取到该条数据的主键是什么</div></li></ul></ul><div><br></div><ul><ul><li><div>在模板语言中也可以使用该参数</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># views.py</font></div><div><font color="#41AD1C"><br></font></div><div><font color="#41AD1C"># 用法一</font></div><div><br></div><div>student_list = Student.objects.all()</div><div><br></div><div>for student in student_list:</div><div>    pk_id = student.<font color="#FA7A00">pk</font></div><div>    print(pk_id)  # 1</div><div><br></div><div><font color="#41AD1C"># 用法二</font></div><div><br></div><div>student_id = Student.objects.get(name='Kevin').pk  <font color="#41AD1C"># 2</font></div><div><font color="#41AD1C"><br></font></div><div><font color="#41AD1C"># 用法三</font></div><div><font color="#41AD1C"><br></font></div><div>student_obj = Student.objects.filter(pk=1).first()</div><div><br></div><div><font color="#41AD1C"># 用法四</font></div><div><br></div><div>student_list = Student.objects.all().values('pk', 'name')</div></div><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size:9pt;font-family:Monaco;"><font color="#41AD1C"># xxx.html</font></span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;"><br></span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;">&lt;p&gt; {{ obj.pk }} &lt;/p&gt;</span></div></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">3.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">查询某个字段为空的数据</span></div><div><br></div><ul><li><div><span style="font-size:12pt;">字段名=</span><span style="font-size:12pt;color:rgb(250, 122, 0);">None </span><span style="font-size:12pt;">就是查询该字段为空的数据</span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.filter(age=18, address=<font color="#FA7A00">None</font>)</div></div><div><span style="font-size:14pt;"><br></span></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">4.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">查询该表的所有数据</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">方式一: .all()</span></div></li></ul><div><font style="font-size:12pt;"><br></font></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 表的类.objects.all()</span></div><div><br></div><div>Student.objects.all()  <span style="color:rgb(65, 173, 28);"># 返回值：</span><font style="color:rgb(65, 173, 28);">QuerySet -&gt; 列表</font> <span style="color:rgb(65, 173, 28);">-&gt; &lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt;</span></div></div><div><br></div><ul><li><div>方式二: ** 动态实参</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>field_data = {}</div><div><br></div><div>Student.objects.filter(**field_data)  <font color="#41AD1C"># 返回值：QuerySet -&gt; 列表 -&gt; &lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt;</font></div></div><div><br></div><ul><li><div>通过循环返回值获取查询到的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 通过 对象.字段名 获取查询到的数据</span></div><div><br></div><div>objs = Student.objects.all()</div><div><br></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;">for i in objs:</span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;">    print(i.id, i.username)</span></div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">5.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.filter() -&gt; 通过条件查询一堆数据</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 表的类.objects.filter(条件)</span></div><div><br></div><div>Student.objects.filter(age=18)<span style="color:rgb(65, 173, 28);">  # 返回值：</span><font color="#41AD1C">QuerySet -&gt; 列表</font> <span style="color:rgb(65, 173, 28);">-&gt; &lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt;</span></div></div><div><br></div><ul><li><div>通过循环返回值获取查询到的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 通过 对象.字段名 获取查询到的数据</span></div><div><br></div><div>objs = Student.objects.filter(age=18)</div><div><br></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;">for i in objs:</span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;">    print(i.id, i.username)</span></div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">6.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.get() -&gt; 通过条件查询一条数据，没有查询到 或 查询到多条数据就会报错</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 表的类.objects.get(条件)</span></div><div><br></div><div>Student.objects.get(id=1)  <span style="color:rgb(65, 173, 28);"># 返回值: 对象 -&gt; &lt;Student: Student object&gt; </span></div></div><div><br></div><ul><li><div>通过 对象.字段名 获取查询到的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 通过 对象.字段名 获取查询到的数据</span></div><div><br></div><div>obj = Student.objects.get(id=1)</div><div><br></div><div>print(obj.id, obj.username)</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">7.</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">.</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">exclude() -&gt; 查询与该条件不符的数据（通俗理解: .filter() 方法取反）</span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 表的类.objects.exclude(条件)</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.exclude(id=2)  <font color="#41AD1C"># 返回值：</font><font style="color:rgb(65, 173, 28);">QuerySet -&gt;</font> <font color="#41AD1C">列表 -&gt; &lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt;</font></div></div><div><br></div><ul style="box-sizing:border-box;margin:0px;padding:0px 0px 0px 40px;border:1px solid transparent;font-size:medium;letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><li style="box-sizing:border-box;margin:0px;padding:0px;border:1px solid transparent;"><div style="box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;font-size:medium;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;">通过循环返回值获取查询到的数据</span></div></li></ul><div style="box-sizing:border-box;margin:0px;padding:0px;font-size:medium;letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;margin:0px;padding:8px;font-size:12px;border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);letter-spacing:normal;orphans:2;text-align:start;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><div style="box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;font-size:12px;color:rgb(65, 173, 28);font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-variant-caps:normal;font-variant-ligatures:normal;"># 通过 对象.字段名 获取查询到的数据</span></div><div style="box-sizing:border-box;margin:0px;padding:0px;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;font-size:12px;color:rgb(51, 51, 51);font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-variant-caps:normal;font-variant-ligatures:normal;">objs = </span><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;font-variant-caps:normal;font-variant-ligatures:normal;">Student.objects.exclude(id=2)</span></div><div style="box-sizing:border-box;margin:0px;padding:0px;"><br style="box-sizing:border-box;"></div><div style="box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;font-variant-caps:normal;font-variant-ligatures:normal;">for i in objs:</span></div><div style="box-sizing:border-box;margin:0px;padding:0px;"><span style="box-sizing:border-box;font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;font-variant-caps:normal;font-variant-ligatures:normal;">    print(i.id, i.username)</span></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">8.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.values('字段名','字段名') -&gt; </span></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">只取某几列的数据</span></span></div><div><br></div><ul><li><div>只取某几个字段的数据（通俗理解: 只取某几列的数据）</div></li><li><div>.all() 和 .filter() 都可以使用 .values()</div></li><li><div>.values() 不传任何字段名，默认获取全部字段</div></li><li><div>返回值: QuerySet -&gt; 列表，且<span style="font-size:medium;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;">QuerySet</span>中的值是以字典（键值对）的形式显示</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color:rgb(65, 173, 28);"># 表的类.objects.all().values('字段名', '字段名')</span></div><div><br></div><div>Student.objects.all().values('username','age')  <font style="color:rgb(65, 173, 28);"># 只取 username 字段 和 age 字段的数据</font></div><div><font color="#41AD1C">                                                # 返回值：</font><font style="color:rgb(65, 173, 28);">QuerySet -&gt; </font><font style="color:rgb(65, 173, 28);">列表 -&gt; &lt;QuerySet [{'username': 'Yeung', 'age': 23}, {'username': 'Kevin', 'age': 18}, {'username': 'Eric', 'age': 22}]&gt;</font></div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># .values() 不传任何字段名，默认获取全部字段</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.all().values()</div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">9.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">.values_list('字段名', '字段名')</span><span style="font-size:14pt;font-weight:bold;"> -&gt; </span><span style="font-size:14pt;font-weight:bold;">只取某几列的数据</span></div><div><br></div><ul><li><div>只取某几个字段的数据（通俗理解: 只取某几列的数据）</div></li><li><div>.all() 和 .filter() 都可以使用 .values_list()</div></li><li><div>.values_list() 不传任何字段名，默认获取全部字段</div></li><li><div>返回值: QuerySet -&gt; 列表，且QuerySet中的值是以元祖的形式显示</div></li><li><div>和 values 的区别: values_list 直接返回查询到的数据且不带key，而 values 返回查询到的数据带key</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 表的类.objects.all().values_list('字段名', '字段名')</font></div><div><br></div><div>Student.objects.all().values_list('username','age')  <font color="#41AD1C"># 只取 username 字段 和 age 字段的数据</font></div><div><font color="#41AD1C">                                                     # 返回值：</font><font color="#41AD1C">QuerySet -&gt;</font> <font color="#41AD1C">列表 -&gt; &lt;QuerySet [('Yeung', 23), ('Kevin', 18), ('Eric', 22)]&gt;</font></div></div><div><br></div></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># .values_list() 不传任何字段名，默认获取全部字段</font></div><div><br></div><div>Student.objects.all().values_list()</div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">10.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">.only</span><span style="font-size:14pt;font-weight:bold;">('字段名', '字段名')</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">-&gt; </span><span style="font-size:14pt;font-weight:bold;">只取某几列的数据</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">只取某几个字段的数据（通俗理解: 只取某几列的数据）</span></div></li><li><div><span style="font-size:12pt;">.all() 和 .filter() 都可以使用 .only()</span></div></li><li><div><span style="font-size:12pt;">.</span><span style="font-size:12pt;">only</span><span style="font-size:12pt;">() 不传任何字段名，默认获取全部字段</span></div></li><li><div><span style="font-size:12pt;">返回值: QuerySet -&gt; 列表，且QuerySet中的值是以对象的形式显示</span></div></li><li><div><span style="font-size:12pt;">和 values 的区别: only 所返回的值（queryset 中的值是对象</span><span style="font-size:12pt;">）</span><span style="font-size:12pt;">，而 value 所返回的值（queryset 中的值是字典</span><span style="font-size:12pt;">）</span></div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 表的类.objects.all().only('字段名', '字段名')</font></div><div><font color="#41AD1C"><br></font></div><div>student_list = Student.objects.all().only('username', 'age')  <font color="#41AD1C"># 只取 username 字段 和 age 字段的数据</font></div><div>print(student_list) <font color="#41AD1C"> # &lt;QuerySet [&lt;Student: Student</font> <font color="#FA7A00">object</font><font color="#41AD1C">&gt;, &lt;Student: Student</font> <font color="#FA7A00">object</font><font color="#41AD1C">&gt;, &lt;Student: Student</font> <font color="#FA7A00">object</font><font color="#41AD1C">&gt;]&gt;</font></div><div><br></div><div>for student in student_list:</div><div>    print(student.__dict__)  <font color="#41AD1C"># {'</font><font color="#FA7A00">id</font><font color="#41AD1C">': 1, '</font><font color="#FA7A00">username</font><font color="#41AD1C">': 'Kevin', '</font><font color="#FA7A00">age</font><font color="#41AD1C">': 18, '_state': &lt;django.db.models.base.ModelState object at 0x000002608AE065F8&gt;}</font></div><div>    print(student.username)  <font color="#41AD1C"># Kevin</font></div><div>    print(student.age)  <font color="#41AD1C"># 18</font></div><div>    print(student.address)  <font color="#41AD1C"># 横沥 -&gt;</font> <font color="#FF0000">注意: 可以获取不是only指定的列的数据，但是不建议这样去操作，因为会增加多一次SQL查询（详细说明: student_list 获取到的是包含 username 和 age 字段的数据，如果要获取 address 字段的数据，那么django就会通过当前行的id去查询address字段的数据，这样就会增加了一次SQL查询，如果 student_list 有500条数据，在循环的时候都要获取address字段的数据，那么就会增加了500次SQL查询）</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">11.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">.defer</span><span style="font-size:14pt;font-weight:bold;">('字段名', '字段名')</span><span style="font-size:14pt;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">-&gt; 获取不是这几列的数据，即 only 取反</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">不取这几个字段的数据（通俗理解: 获取不是这几列的数据）</span></div></li><li><div><span style="font-size:12pt;">.all() 和 .filter() 都可以使用 .defer()</span></div></li><li><div><span style="font-size:12pt;">.defer</span><span style="font-size:12pt;">() 不传任何字段名，默认获取全部字段</span></div></li><li><div><span style="font-size:12pt;">返回值: QuerySet -&gt; 列表，且QuerySet中的值是以对象的形式显示</span></div></li><li><div>和 only 的区别: defer 就是 only 的取反</div></li><li><div><span style="font-size:12pt;">和 values 的区别: defer 所返回的值（queryset 中的值是对象</span><span style="font-size:12pt;">）</span><span style="font-size:12pt;">，而 value 所返回的值（queryset 中的值是字典</span><span style="font-size:12pt;">）</span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 表的类.objects.all().defer('字段名', '字段名')</font></div><div><font color="#41AD1C"><br></font></div><div>student_list = Student.objects.all().defer('age', 'address')  <font color="#41AD1C"># 不取 age 字段 和 address 字段的数据</font></div><div>print(student_list)  <font color="#41AD1C"># &lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt;</font></div><div><br></div><div>for student in student_list:</div><div>    print(student.__dict__)  <font color="#41AD1C"># {'</font><font color="#FA7A00">id</font><font color="#41AD1C">': 1, '</font><font color="#FA7A00">username</font><font color="#41AD1C">': 'Kevin', '_state': &lt;django.db.models.base.ModelState object at 0x00000222907B65C0&gt;}</font></div><div>    print(student.username) <font color="#41AD1C"> # Kevin</font></div><div>    print(student.address)  <font color="#41AD1C"># 横沥 -&gt;</font> <font color="#FF0000">注意事项和only一样这里就不做说明了</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">12.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.order_by() -&gt; 对查询的结果进行排序</span></span></div><div><br></div><ul><li><div>.order_by() -&gt; 不传任何参数，默认会按照元信息中的 ordering 所设置的字段排序，如果元信息中的 ordering 属性，那么就按照id排序</div></li></ul><div><br></div><ul><li><div>正序 -&gt; .order_by() 默认正序排序</div></li></ul><div><br></div><ul><ul><li><div>查询所有数据然后进行正序排序</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 表的类.objects.order_by('字段名')</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.order_by('age')  <font color="#41AD1C"># 返回值：&lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt; </font></div><div><font color="#41AD1C">                                 # 通过循环，以 对象.字段名 的形式获取查询到的值，上面 .all()/.filter() 有举例，这里就不演示</font></div><div><font color="#41AD1C"><br></font></div><div><span style="font-size:9pt;color:rgb(65, 173, 28);font-family:Monaco;"># 等价于</span></div><div><span style="font-size:9pt;color:rgb(65, 173, 28);font-family:Monaco;"><br></span></div><div>Student.objects.all().order_by('age')</div></div><div><br></div><ul><ul><li><div>对查询的结果进行正序排序</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 表的类.objects.all/filter/exclude(条件).order_by('字段名')</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.filter(id__gt=1).order_by('age')  <font style="color:rgb(65, 173, 28);"># 查询 id 大于 1 的数据，然后进行正序排序</font></div></div><div><br></div><ul><li><div>倒序</div></li></ul><div><br></div><ul><ul><li><div>查询所有数据然后进行倒序排序</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 表的类.objects.order_by('-字段名')</font></div><div><br></div><div>Student.objects.order_by('-age')</div><div><br></div><div><font color="#41AD1C"># 等价于</font></div><div><br></div><div>Student.objects.all().order_by('-age')</div></div><div><br></div><ul><ul><li><div>对查询的结果进行倒序排序</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 表的类.objects.all/filter/exclude(条件).order_by('-字段名')</font></div><div><br></div><div>Student.objects.filter(id__gt=1).order_by('-age')  <font color="#41AD1C"># 查询 id 大于 1 的数据，然后进行倒序排序</font></div></div><div><br></div><ul><li><div>.order_by() 的第二个字段名参数，如果数据相同就以第二个字段参数进行二次排序</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 表的类.objects.order_by('字段名', '字段名')</font></div><div><br></div><div>Student.objects.order_by('age','-id')</div><div><br></div><div><font color="#41AD1C"># 表的类.objects.all/filter/exclude(条件).order_by('字段名', '字段名')</font></div><div><br></div><div>Student.objects.filter(id__gt=1).order_by('age','-id')</div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">13.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.reverse() -&gt; </span></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">对查询的数据进行反转排序</span></span></div><div><br></div><ul><li><div>对查询的数据进行反转排序</div></li></ul><div><br></div><ul><li><div><span style="color:rgb(227, 0, 0);">注意</span>:</div></li><ul><li><div>.reverse() 只能对有序的QuerySet对象进行反转</div></li><li><div>有序的QuerySet的意思是对查询出来的结果进行过排序的QuerySet对象</div></li><li><div>不对查询结果进行排序的，一般返回的都是无序的 QuerySet对象，除非在创建表时设置元信息中的ordering属性（默认对查询出来的结果进行排序）</div></li></ul></ul><div><br></div><ul><li><div><span style="color:rgb(227, 0, 0);">使 .reverse() 生效的方法</span>:</div></li><ul><li><div>对查询结果进行一次排序，且 .order_by() 里面必须传字段名，否则 .reverse() 会无效</div></li><li><div>在创建表时设置元信息中ordering，默认对查询出来的结果进行排序 -&gt; 不建议使用</div></li></ul></ul><div><br></div><ul><li><div><span style="color:rgb(227, 0, 0);">通俗理解上面所说的意思: 一定要对查询结果进行一次排序，且 .order_by() 里面必须传字段名，否则 .reverse() 会无效</span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 表的类.objects.all/filter/exclude(条件).order_by('字段名').reverse()</font></div><div><br></div><div>Student.objects.all().order_by('id').reverse()  <font color="#41AD1C"># 返回值: &lt;QuerySet [&lt;Student: Student object&gt;, &lt;Student: Student object&gt;, &lt;Student: Student object&gt;]&gt;</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">14.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">.</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">disti</span><span style="font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">nct() -&gt;</span></span> <span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><font style="font-size:14pt;"><span style="font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">对查询的结果进行过滤剔除重复的数据</span></font></span></div><div><br></div><ul><li><div><font style="font-size:12pt;"><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">对查询的结果进行过滤剔除重复的数据</span></font></div></li><li><div><font style="font-size:12pt;"><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(227, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">注意: 只要有一个字段中的数据不同（如: id）都会无效</span></font></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.values('username','address').distinct()  <font color="#41AD1C"># &lt;QuerySet [{'address': '横沥', 'username': 'Yeung'}, {'address': '东莞', 'username': 'Kevin'}, {'address': '广东', 'username': 'Eric'}]&gt;</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">15.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.count() -&gt; 获取查询到的数据的总数</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.all().count()  <font color="#41AD1C"># 4</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">16.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.first() -&gt; 返回查询到的数据中的第一条记录</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.all().first()  <font style="color:rgb(65, 173, 28);"># 返回值: 对象 -&gt; &lt;Student: Student object&gt;</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">17.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.last() -&gt; 返回查询到的数据中的最后一条记录</span></span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.all().last()  <font color="#41AD1C"># 返回值: 对象 -&gt; &lt;Student: Student object&gt;</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">18.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><font style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">.</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">exists() -&gt; 判断是否查询到数据（通俗理解: 判断返回的QuerySet或对象中是否有值）， 如果有返回 True，否则返回 False</span></font></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.all().exists()  <font color="#41AD1C"># True</font></div><div><br></div><div>Student.objects.filter(id=10).exists()  <font color="#41AD1C"># False</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">19.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;font-weight:bold;">.get_设置了choices参数的字段名_d</span><span style="font-size:14pt;font-weight:bold;">ispaly() -&gt; </span><span style="font-size:14pt;font-weight:bold;"> 获取 choices 参数中 索引为1 的值</span></div><div><span style="font-size:12pt;"><br></span></div><ul><li><div>一般直接获取设置了 choices 参数的字段中的值的时候，只会获取 <span style="font-size:12pt;">choices 参数中 索引为0 的值（因为数据库保存的就是这个值），</span><span style="font-size:12pt;">通过 .get_设置了choices参数的字段名_</span><span style="font-size:12pt;">dispaly</span><span style="font-size:12pt;">() 方法可以</span>获取 <span style="font-size:12pt;">choices 参数中 索引为1 的值</span></div></li></ul><div><br></div><ul><li><div>在模板语言中也可以使用该方法只要把 () 去掉即可</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># models.py</font></div><div><br></div><div>class ChoicesTable(models.Model):</div><div>    education_choices = (</div><div>        (1, '重点大学'),</div><div>        (2, '普通本科'),</div><div>        (3, '独立院校'),</div><div>        (4, '民办本科'),</div><div>        (5, '大专'),</div><div>        (6, '民办专科'),</div><div>        (7, '高中'),</div><div>        (8, '其他')</div><div>    )</div><div>    education = models.IntegerField(verbose_name='学历', choices=education_choices, default=1)</div><div><br></div><div>    record_choices = (</div><div>        ('checked', &quot;已签到&quot;),</div><div>        ('vacate', &quot;请假&quot;),</div><div>        ('late', &quot;迟到&quot;),</div><div>        ('noshow', &quot;缺勤&quot;),</div><div>        ('leave_early', &quot;早退&quot;),</div><div>    )</div><div>    record = models.CharField(verbose_name=&quot;上课纪录&quot;, choices=record_choices, default=&quot;checked&quot;, max_length=64)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>data = ChoicesTable.objects.all().first()</div><div><br></div><div>education = data.education  <font style="color:rgb(65, 173, 28);"># 1 -&gt; 直接获取只会获取到 choices 参数中 索引为0 的值</font></div><div>education = data.<font color="#FA7A00">get_education_display</font>()  <font color="#41AD1C"># 重点大学 -&gt; 获取 choices 参数中 索引为1 的值</font></div><div><br></div><div>record = data.record  <font color="#41AD1C"># checked -&gt; 直接获取只会获取到 choices 参数中 索引为0 的值</font></div><div>record = data.<font color="#FA7A00">get_record_display</font>()  <font color="#41AD1C"># 已签到 -&gt; 获取 choices 参数中 索引为1 的值</font></div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">20.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"> 切片</span></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><ul><li><div>可以对查询到的数据进行切片，前提是该数据是 QuerySet-&gt;列表 类型，而不是对象</div></li></ul><div><br></div><ul><li><div>切片的时候不能使用负数，否则会报错</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>data = Student.objects.all()[1:3]</div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">21.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"></span><span style="font-size:14pt;"><span style="font-size:14pt;font-weight:bold;">查询数据的分类</span></span></div><div><div><br></div><table style="border-collapse:collapse;min-width:100%;"><colgroup><col style="width:279px;"><col style="width:263px;"></colgroup><tbody><tr><td style="text-align:center;vertical-align:middle;background-color:rgb(234, 234, 234);border:1px solid rgb(187, 187, 187);width:279px;padding:8px;">返回值类型</td><td style="text-align:center;vertical-align:middle;background-color:rgb(234, 234, 234);border:1px solid rgb(187, 187, 187);width:263px;padding:8px;">方法名</td></tr><tr><td rowspan="6" style="text-align:center;vertical-align:middle;height:200px;width:279px;padding:8px;border:1px solid;"><div>QuerySet对象</div><div>（列表中的值是对象）</div></td><td style="vertical-align:middle;width:263px;padding:8px;border:1px solid;"><div style="margin:10px auto;padding:0px;text-indent:0px;font-size:14px;letter-spacing:normal;orphans:2;text-align:center;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;background-color:rgb(255, 255, 255);"><span style="text-indent:0px;font-size:14px;letter-spacing:normal;orphans:2;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">all()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="text-indent:0px;font-size:14px;letter-spacing:normal;orphans:2;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">filter()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="text-indent:0px;font-size:14px;letter-spacing:normal;orphans:2;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">exclude()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="text-indent:0px;font-size:14px;letter-spacing:normal;orphans:2;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">order_by()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="text-indent:0px;font-size:14px;letter-spacing:normal;orphans:2;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">reverse()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="font-size:14px;text-indent:0px;letter-spacing:normal;orphans:2;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">distinct()</span></div></td></tr><tr><td style="text-align:center;vertical-align:middle;width:279px;padding:8px;border:1px solid;"><div>特殊的QuerySet对象</div><div>（列表中的值是字典类型）</div></td><td style="vertical-align:middle;width:263px;padding:8px;border:1px solid;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">values() </span></div></td></tr><tr><td style="text-align:center;vertical-align:middle;width:279px;padding:8px;border:1px solid;"><div>特殊的QuerySet对象</div><div>（列表中的值是元祖类型）</div></td><td style="vertical-align:middle;width:263px;padding:8px;border:1px solid;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">values_list()</span></div></td></tr><tr><td rowspan="3" style="text-align:center;vertical-align:middle;height:92px;width:279px;padding:8px;border:1px solid;"><div>对象</div></td><td style="vertical-align:middle;width:263px;padding:8px;border:1px solid;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">get()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">first()</span></div></td></tr><tr><td style="vertical-align:middle;border:1px solid;width:263px;padding:8px;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">last()</span></div></td></tr><tr><td style="text-align:center;vertical-align:middle;width:279px;padding:8px;border:1px solid;">布尔值</td><td style="vertical-align:middle;width:263px;padding:8px;border:1px solid;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">exists()</span></div></td></tr><tr><td style="text-align:center;vertical-align:middle;width:279px;padding:8px;border:1px solid;"><div>数字</div></td><td style="vertical-align:middle;width:263px;padding:8px;border:1px solid;"><div style="text-align:center;"><span style="font-size:14px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;">count()</span></div></td></tr></tbody></table><div><br></div></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">条件查询</span></h2><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">1.</span><span style="font-size:14pt;font-weight:bold;"> 等于、不等于</span></div><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size:9pt;font-family:Monaco;"><font color="#41AD1C"># 查询 id 等于 2 的数据</font></span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;"><br></span></div><div>Student.objects.filter(id=2)</div><div><br></div><div><font color="#41AD1C"># 等于</font></div><div><br></div><div>Student.objects.filter(id__exact=2)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 id 不等于 2 的数据</font></div><div><br></div><div>Student.objects.exclude(id=2)</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">2.</span><span style="font-size:14pt;font-weight:bold;"> 大于、大于等于</span></div><div><br></div><ul><li><div>字段名__gt -&gt; 大于 &gt;</div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 id 大于 1 的数据 </font></div><div><br></div><div>Student.objects.filter(id__gt=1)</div></div><div><br></div></div><ul><li><div>字段名__gte -&gt; 大于等于 &gt;=</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 id 大于等于 2 的数据</font></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;"><br></span></div><div>Student.objects.filter(id__gte=2)</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">3.</span><span style="font-size:14pt;font-weight:bold;"> 小于、小于等于</span></div><div><br></div><ul><li><div>字段名__lt -&gt; 小于 &lt;</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 查询 id 小于 3 的数据</font></div><div><br></div><div>Student.objects.filter(id__lt=3)</div></div><div><br></div><ul><li><div>字段名__lte -&gt; 小于等于 &lt;=</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 id 小于等于 2 的数据</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.filter(id__lte=2)</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">4.</span><span style="font-size:14pt;font-weight:bold;"> in / not in</span></div><div><br></div><ul><li><div>字段名__in = [xxx,xxx,xxx] -&gt; 等同于MySQL里的 in -&gt;  查询xxx在这堆数据里的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 id 在 [2, 4] 里的数据</font></div><div><br></div><div>Student.objects.filter(id__in=[2, 4])</div></div><div><br></div></div><ul><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">not in -&gt;</span> 使用 <span style="font-size:12pt;">.</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">exclude() 查询数据的方法实现Mysql中的 not in</span></div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 id 不在 [2, 4] 里的数据</font></div><div><br></div><div>Student.objects.exclude(id__in=[2, 4])</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">5.</span><span style="font-size:14pt;font-weight:bold;"> between</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">字段名__range = [num, num] -&gt; </span>查询xxx字段在这个范围里的数据</div></li></ul><div><span style="font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size:9pt;font-family:Monaco;"><font color="#41AD1C"># 查询 id 在 2~4 这个范围的数据</font></span></div><div><span style="font-size:9pt;color:rgb(51, 51, 51);font-family:Monaco;"><br></span></div><div>Student.objects.filter(id__range=[2, 4])</div></div><div><br></div><div><span style="font-size:14pt;white-space:pre-wrap;font-weight:bold;">6.</span><span style="font-size:14pt;font-weight:bold;"> like 模糊查询</span></div><div><span style="font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">字段名__</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">contains</span></div></li></ul><div><br></div><ul><ul><li><div><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">查询xxx字段中包含 xxx 的数据</span></div></li><li><div>等同于 MySQL 中的 like '%ev%'</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询username字段中包含 'ev' 的数据</font></div><div><br></div><div>Student.objects.filter(username__contains='ev')</div></div><div><br></div><ul><li><div><span style="font-size:12pt;">字段名__i</span><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">contains</span></div></li></ul><div><br></div><ul><ul><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">查询xxx字段中包含 xxx 的数据</span></div></li><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">不区分大小写</span></div></li></ul></ul><div><br></div></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 查询username字段中包含 'ev' 的数据，不区分大小写</font></div><div><br></div><div>Student.objects.filter(username__icontains='ev')</div></div><div><br></div><ul><li><div>字段名__exact </div></li></ul><div><br></div><ul><ul><li><div>查询xxx字段中等于 xxx 的数据</div></li><li><div>精准查询</div></li><li><div>等同于 MySQL 中的 like 'Eric'</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询username字段中等于 'Eric' 的数据</font></div><div><br></div><div>Student.objects.filter(username__exact='Eric')</div><div><br></div><div><font color="#41AD1C"># 等同于</font></div><div><br></div><div>Student.objects.filter(username='Eric')</div></div><div><br></div><ul><li><div>字段名__iexact</div></li></ul><div><br></div><ul><ul><li><div>查询xxx字段中等于 xxx 的数据</div></li><li><div>精准查询，不区分大小写</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询username字段中等于 'Eric' 的数据，不区分大小写</font></div><div><br></div><div>Student.objects.filter(username__iexact='eric')</div></div><div><br></div></div><ul><li><div><span style="font-size:12pt;">字段名__</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">startswith</span></div></li></ul><div><br></div><ul><ul><li><div><font style="font-size:12pt;"><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">查询 xxx 字段以 xxx 开头的数据</span></font></div></li><li><div>等同于 MySQL 中的 like 'Er%'</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询username字段中以 'Er' 开头的数据</font></div><div><br></div><div>Student.objects.filter(username__startswith='Er')</div></div><div><br></div><ul><li><div><span style="font-size:12pt;">字段名__i</span><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">startswith</span></div></li></ul><div><br></div><ul><ul><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">查询 xxx 字段以 xxx 开头的数据</span></div></li><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">不区分大小写</span></div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 查询username字段中以 'Er' 开头的数据，不区分大小写</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.filter(username__istartswith='er')</div></div><div><br></div><ul><li><div><span style="font-size:12pt;">字段名__</span><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">endswith</span></div></li></ul><div><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;"><br></span></div><ul><ul><li><div><span style="white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:12pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">查询 xxx 字段以 xxx 结尾的数据</span></div></li><li><div>等同于 MySQL 中的 like '%ic'</div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询username字段中以 'ic' 结尾的数据</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.filter(username__endswith='ic')</div></div><div><br></div><ul><li><div><span style="font-size:12pt;">字段名__i</span><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">endswith</span></div></li></ul><div><br></div><ul><ul><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">查询 xxx 字段以 xxx 结尾的数据</span></div></li><li><div><span style="font-size:12pt;white-space:pre-wrap;overflow-wrap:break-word;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;line-height:1.5;">不区分大小写</span></div></li></ul></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询username字段中以 'ic' 结尾的数据，不区分大小写</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.filter(username__iendswith='IC')</div></div><div><br></div><ul><li><div>字段名__year -&gt; 查询日期字段中某一年的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询2019年的数据</font></div><div><br></div><div>Student.objects.filter(datetime__year=2019)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 查询 2017~2019 年的数据 -&gt; 直接在 __year 后面拼接上 __range 范围查询就可以了</font></div><div><br></div><div>Student.objects.filter(datetime__year__range=[2017, 2019])</div></div><div><br></div><ul><li><div>字段名__month -&gt; 查询日期字段中某个月的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询4月的数据</font></div><div><br></div><div>Student.objects.filter(datetime__month=4)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询 2月 ~ 4月 的数据 -&gt; 直接在 __year 后面拼接上 __range 范围查询就可以了</font></div><div><br></div><div>Student.objects.filter(datetime__month__range=[2, 4])</div></div><div><br></div><ul><li><div>字段名__day -&gt; 查询日期字段中某一日的数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="color:rgb(65, 173, 28);"># 查询日期为2号的数据</font></div><div><br></div><div>Student.objects.filter(datetime__day=2)</div></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询日期 1号 ~ 4号 的数据 -&gt; 直接在 __year 后面拼接上 __range 范围查询就可以了</font></div><div><font color="#41AD1C"><br></font></div><div>Student.objects.filter(datetime__day__range=[1, 4])</div></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">7.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"> is null / is not null</span></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><ul><li><div><span style="font-size:12pt;">字段名__isnull = True/Flase</span></div></li></ul><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#41AD1C"># 查询用户名不为空的数据</font></div><div>Student.objects.filter(username__isnull=False)</div><div><br></div><div><font color="#41AD1C"># 查询用户名为空的数据</font></div><div>Student.objects.filter(username__isnull=True)</div></div><div><br></div></div><h2 style="margin:10px 0px 12px;padding:0px 0px 0px 15px;font-size:21px;background-color:#3eaf7c;border-radius:3px;text-align:center;text-shadow:rgb(34, 34, 34) 1px 1px 2px;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;"><span style="font-size:21px;color:white;font-family:&quot;Helvetica Neue&quot;, Helvetica, Verdana, Arial, sans-serif;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;line-height:1.5;">在操作数据的时候字段名是字符串类型的解决方法</span></h2><div><br></div><div><span style="font-size:14pt;">在日常开发中经常会获取到字符串类型的字段名，且需要通过该字符串类型的字段名去操作数据</span></div><div><br></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">1.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"> 添加数据</span></div><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>dic = {'username': 'Kevin'}</div><div><br></div><div>Student.objects.create(**dic)</div></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">2.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"> 修改数据</span></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>dic = {'name': 'Aimer'}</div><div><br></div><div>objs = Student.objects.filter(id=4)</div><div><br></div><div>objs.update(**dic)</div></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;white-space:pre-wrap;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;">3.</span><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;color:rgb(0, 0, 0);font-family:&quot;Courier New&quot;;font-variant-caps:normal;font-variant-ligatures:normal;font-weight:bold;"> 查询数据</span></div><div><span style="box-sizing:border-box;letter-spacing:normal;orphans:2;text-indent:0px;text-transform:none;white-space:normal;widows:2;word-spacing:0px;-webkit-text-stroke-width:0px;font-size:14pt;"><br></span></div><ul><li><div>方法一 -&gt; 通过 values 或 values_list</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>Student.objects.values('id', 'name')</div><div><br></div><div>Student.objects.values_list('id', 'name')</div></div><div><br></div><ul><li><div>方法二 -&gt; 使用动态实参的方法</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>dic = {</div><div>    'id__gt': 3</div><div>}</div><div>data = Student.objects.filter(**dic)</div></div><div><br></div></div><ul><li><div>查询所有数据</div></li></ul><div><br></div><div style="box-sizing:border-box;padding:8px;font-family:Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace;font-size:12px;color:rgb(51, 51, 51);border-radius:4px;background-color:rgb(251, 250, 248);border:1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>dic = {}</div><div>data = Student.objects.filter(**dic)</div></div><div><br></div></div><div><br></div></span></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/kevin-blog/Django ORM/ORM-执行自定义的SQL语句.html" class="prev">
        ORM-执行自定义的SQL语句
      </a></span> <span class="next"><a href="/kevin-blog/Django ORM/ORM-操作表.html">
        ORM-操作表
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/kevin-blog/assets/js/app.dd46475d.js" defer></script><script src="/kevin-blog/assets/js/2.97d04891.js" defer></script><script src="/kevin-blog/assets/js/19.c733cdfe.js" defer></script>
  </body>
</html>
