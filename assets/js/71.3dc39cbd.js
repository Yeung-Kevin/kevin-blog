(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{423:function(t,e,o){"use strict";o.r(e);var v=o(25),i=Object(v.a)({},(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("div",[o("span",[o("div",[o("div",[o("br")]),o("div",[o("a",{attrs:{href:"/kevin-blog/Django/内置分页（了解）_files/django_pagination.rar"}},[o("img",{attrs:{alt:"django_pagination.rar",src:"/kevin-blog/Django/内置分页（了解）_files/a2a582e6c507916c2ada42fa124829c3.png"}})])]),o("div",[o("br")]),o("ul",[o("li",[o("div",[t._v("Django 的内置分页只支持网址的分页，没有提供分页器，分页器则需要自己实现")])])]),o("div",[o("br")]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[t._v("# views.py")]),o("div",[o("br")]),o("div",[t._v("from django.shortcuts import render, redirect, HttpResponse, reverse")]),o("div",[t._v("from .models import *")]),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("# 导入Django内置分页所需的模块")])],1),o("div",[t._v("from django.core.paginator import Paginator, EmptyPage, PageNotAnInteger")]),o("div",[o("br")]),o("div",[o("br")]),o("div",[t._v("def employee_list(request):")]),o("div",[t._v('    current_page = request.GET.get("page")  # 获取当前页数')]),o("div",[t._v("    ret_data = Employee.objects.all()")]),o("div",[t._v("    paginator = Paginator(ret_data, 10)")]),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("  '''")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        paginator 对象下的相关属性")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}})],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        paginator.per_page:     每页显示条目数量")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        paginator.count:        数据总个数")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        paginator.num_pages:    总页数")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        paginator.page_range:   总页数的索引范围，如: (1,10),(1,200)")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        paginator.page:         page对象")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("    '''")])],1),o("div",[t._v("    try:")]),o("div",[t._v("        posts = paginator.page(current_page)")]),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v(" '''")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("            posts 对象下的相关属性，一般用于模板中制作分页器时使用")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}})],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("            posts.per_page:   每页显示条目数量")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("            posts.count:      数据总个数")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("            posts.num_pages:  总页数")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("            posts.page_range: 总页数的索引范围，如: (1,10),(1,200)")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("            posts.page:       page对象")])],1),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("        '''")])],1),o("div",[t._v("    except PageNotAnInteger:")]),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("# 如果输入其他非数字的参数，那么就跳到第一页")])],1),o("div",[t._v("        posts = paginator.page(1)")]),o("div",[t._v("    except EmptyPage:")]),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("# 如果超过最大分页数，那么就跳到最后一页")])],1),o("div",[t._v("        posts = paginator.page(paginator.num_pages)")]),o("div",[o("br")]),o("div",[t._v("    return render(request, 'employee_list.html', {'employees': posts})")])]),o("div",[o("br")]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("# employee_list.html")])],1),o("div",[o("br")]),o("div",[t._v("<!DOCTYPE html>")]),o("div",[t._v("<html>")]),o("div",[t._v("<head>")]),o("div",[t._v('    <meta charset="utf-8">')]),o("div",[t._v('    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">')]),o("div",[t._v("    <title>Title</title>")]),o("div",[t._v('    <meta name="description" content="">')]),o("div",[t._v('    <meta name="keywords" content="">')]),o("div",[t._v("    {% load static %}")]),o("div",[t._v("    <link rel=\"stylesheet\" href='{% static 'bootstrap/css/bootstrap.min.css' %}'>")]),o("div",[t._v("</head>")]),o("div",[t._v("<body>")]),o("div",[t._v('<div class="container">')]),o("div",[t._v('    <table class="table table-bordered">')]),o("div",[t._v("        <thead>")]),o("div",[t._v("        <tr>")]),o("div",[t._v("            <th>序号</th>")]),o("div",[t._v("            <th>作者名称</th>")]),o("div",[t._v("            <th>年龄</th>")]),o("div",[t._v("            <th>薪资</th>")]),o("div",[t._v("            <th>省份</th>")]),o("div",[t._v("        </tr>")]),o("div",[t._v("        </thead>")]),o("div",[t._v("        <tbody>")]),o("div",[t._v("        {% for employee in employees %}")]),o("div",[t._v("            <tr>")]),o("div",[t._v("                <td>"+t._s("{{ forloop.counter }}")+"</td>")]),o("div",[t._v("                <td>"+t._s("{{ employee.name }}")+"</td>")]),o("div",[t._v("                <td>"+t._s("{{ employee.age }}")+"</td>")]),o("div",[t._v("                <td>"+t._s("{{ employee.salary }}")+"</td>")]),o("div",[t._v("                <td>"+t._s("{{ employee.province }}")+"</td>")]),o("div",[t._v("            </tr>")]),o("div",[t._v("        {% endfor %}")]),o("div",[t._v("        </tbody>")]),o("div",[t._v("    </table>")]),o("div",[o("font",{attrs:{color:"#41AD1C"}},[t._v("\x3c!-- 分页器 --\x3e")])],1),o("div",[t._v('    <ul class="pagination">')]),o("div",[t._v("        {% if employees.has_previous %}")]),o("div",[t._v('            <li><a href="/employee_list/?page='+t._s("{{ employees.previous_page_number }}")+'">«</a></li>')]),o("div",[t._v("        {% else %}")]),o("div",[t._v('            <li class="disabled"><a href="#">«</a></li>')]),o("div",[t._v("        {% endif %}")]),o("div",[t._v('        <li class="active"><a href="/employee_list/?page='+t._s("{{ employees.number }}")+'">'+t._s("{{ employees.number }}")+"</a></li>")]),o("div",[t._v("        {% if employees.has_next %}")]),o("div",[t._v('            <li><a href="/employee_list/?page='+t._s("{{ employees.next_page_number }}")+'">»</a></li>')]),o("div",[t._v("        {% else %}")]),o("div",[t._v('            <li class="disabled"><a href="#">»</a></li>')]),o("div",[t._v("        {% endif %}")]),o("div",[t._v("    </ul>")]),o("div",[t._v("</div>")]),o("div",[t._v("</body>")]),o("div",[t._v("</html>")])]),o("div",[o("br")]),o("div",[o("br")])]),o("div",[o("br")])])])])}),[],!1,null,null,null);e.default=i.exports}}]);