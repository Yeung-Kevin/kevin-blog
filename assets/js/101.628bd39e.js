(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{454:function(t,i,e){"use strict";e.r(i);var o=e(25),s=Object(o.a)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",[e("span",[e("div",[e("div",[e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("获取上传的文件")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, render_template, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")]),e("div",[t._v("def upload_files():")]),e("div",[t._v("    if request.method == 'POST':")]),e("div",[t._v("        file_obj = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("request.files.get('img_file')")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 获取上传文件")])],1),e("div",[t._v("    return render_template('upload_files.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("2.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("获取上传文件的文件名+后缀")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt","font-weight":"bold"}},[t._v(".")]),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("filename")])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1)]),e("div",[e("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1)]),e("div",[t._v("from flask import Flask, render_template, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024 "),e("font",{attrs:{color:"#41AD1C"}},[t._v(" # 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")]),e("div",[t._v("def upload_files():")]),e("div",[t._v("    if request.method == 'POST':")]),e("div",[t._v("        file_obj = request.files.get('img_file')")]),e("div",[t._v("        file_name = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("file_obj.filename")]),t._v(" "),e("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 获取文件名 + 后缀")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# 等价于")])],1),e("div",[t._v("        file_name = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("request.files.get('img_file').filename")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 获取文件名 + 后缀")])],1),e("div",[t._v("    return render_template('upload_files.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("3.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("获取上传文件的大小")])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")]),e("div",[t._v("def upload_files():")]),e("div",[t._v("    if request.method == 'POST':")]),e("div",[t._v("        file_obj = request.files.get('img_file')")]),e("div",[t._v("        bytes_file_content = file_obj.read()  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 读取上传文件的bytes类型的内容 -> b'\\xff\\xd8\\xff\\xe0\\x00\\x……")])],1),e("div",[t._v("        byte_size = len(bytes_file_content)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 7634760 byte")])],1),e("div",[t._v("        kb_size = byte_size / 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 7455.8 kb")])],1),e("div",[t._v("        mb_size = byte_size / 1024 / 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 7.28 mb")])],1),e("div",[t._v("    return render_template('upload_files.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("4.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("限制上传文件的大小")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("如果上传的文件超出所限制的文件大小，那么就会返回一个 413 状态码")])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1)]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("5.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 获取文件流")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v(".stream -> ")]),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("stream 就是“流”的意思")])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("文件流有点类似于文件句柄，可以循环着保存数据")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, render_template, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")]),e("div",[t._v("def upload_files():")]),e("div",[t._v("    if request.method == 'POST':")]),e("div",[t._v("        file_obj = request.files.get('img_file')")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("file_stream = file_obj.stream")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 获取文件流")])],1),e("div",[t._v("        for line in file_stream:")]),e("div",[t._v("            print(line)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# b'\\xd8\\xa9\\n……'")])],1),e("div",[t._v("    return render_template('upload_files.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("6.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("保存上传文件")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("语法: .save('/保存的路径/保存的文件名.后缀名')")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("注意: .save() 方法所接收的路径格式是: 所要保存到那个路径 + 文件名.后缀名 -> 文件是什么那么保存的时候文件名就是什么")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("写法一")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1)]),e("div",[e("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1)]),e("div",[t._v("from flask import Flask, render_template, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")]),e("div",[t._v("def upload_files():")]),e("div",[t._v("    if request.method == 'POST':")]),e("div",[t._v("        file_obj = request.files.get('img_file')")]),e("div",[t._v("        file_name = file_obj.filename")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("file_obj.save('files/' + file_name)")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 保存文件 ->")]),t._v(" "),e("font",{attrs:{color:"#E30000"}},[t._v("注意: 如果是当前项目的文件夹，那么路径开头不能加 /")])],1),e("div",[t._v("    return render_template('upload_files.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("写法二 -> 推荐使用")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("import os")]),e("div",[t._v("from flask import Flask, render_template, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024 "),e("font",{attrs:{color:"#41AD1C"}},[t._v(" # 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")]),e("div",[t._v("def upload_files():")]),e("div",[t._v("    if request.method == 'POST':")]),e("div",[t._v("        file_obj = request.files.get('img_file')")]),e("div",[t._v("        file_name = file_obj.filename")]),e("div",[t._v("        path = os.path.join('files', file_name)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 拼接保存文件的路径 ")]),e("font",{attrs:{color:"#41AD1C"}},[t._v("->")]),t._v(" "),e("font",{attrs:{color:"#E30000"}},[t._v("注意: 如果是当前项目的文件夹，那么路径开头不能加 /")])],1),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("file_obj.save(path)")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 保存文件")])],1),e("div",[t._v("    return render_template('upload_files.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("7.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 自定义")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("保存上传文件")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("不使用 .save() 保存文件，获取文件流自己保存上传文件")])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{staticStyle:{"font-size":"9pt"},attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"},attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("import os")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("from flask import Flask, render_template, request")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("app = Flask(__name__)")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("app.config['MAX_CONTENT_LENGTH'] = 16 * 1024 * 1024  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 限制只允许上传 16MB 大小以内的文件, 如果超过此设置的大小就会返回一个 413 状态码")])],1)],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("@app.route('/upload_files', methods=['GET', 'POST'])")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("def upload_files():")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("    if request.method == 'POST':")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("        file_obj = request.files.get('img_file')")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("        file_stream = file_obj.stream  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 获取文件流")])],1)],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("        path = os.path.join('files', file_obj.filename)  ")]),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 拼接保存文件的路径 ->")]),t._v(" "),e("font",{attrs:{color:"#E30000"}},[t._v("注意: 如果是当前项目的文件夹，那么路径开头不能加 /")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("        with open(path, mode='wb') as f:")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("            for line in file_stream:")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("                f.write(line)")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("    return render_template('upload_files.html')")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("if __name__ == '__main__':")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("    app.run()")])],1)]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("br")])]),e("div",[e("br")])])])])}),[],!1,null,null,null);i.default=s.exports}}]);