(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{545:function(o,t,r){"use strict";r.r(t);var i=r(25),s=Object(i.a)({},(function(){var o=this,t=o.$createElement,r=o._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("div",[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("1. DBUtils的介绍")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("DBUtils是Python的一个用于实现数据库连接池的模块")])])])]),r("div",[r("font",{staticStyle:{"font-size":"12pt"}},[r("br")])],1),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("如果没有连接池，使用pymysql来连接数据库时，单线程应用不会导致数据的混乱，但如果涉及到多线程应用就会导致数据的混乱，那么此时就需要加锁，但是一旦加锁那么连接势必就会排队等待，当请求比较多时，性能就会降低了")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[r("span",{staticStyle:{"font-size":"12pt",color:"rgb(227, 0, 0)"}},[o._v("注意: ")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[r("span",{staticStyle:{"font-size":"12pt",color:"rgb(227, 0, 0)"}},[o._v("在以后的日常开发中如果使用到了 pymysql 就一定要使用 DBUtils 数据库连接池")])])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("必须使用模块的单例模式创建数据库连接池")])])])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("2. DBUtils的安装")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("pip3 install DBUtils -i https://pypi.douban.com/simple "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用豆瓣的镜像")])],1)]),r("div",[r("br")]),r("div",[r("font",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("3. DBUtils的使用")])])],1),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("模式一 -> 不推荐使用")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("为每一个线程创建一个数据库连接，当前线程中如果进行多次数据库操作时，永远使用同一个连接")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("通俗理解: 有多少个线程就创建多少个连接，如果当前线程有多次数据库操作，那么永远使用通过自身线程所创建的连接进行操作")])])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("不推荐使用: 因为如果有 1000 个线程就会创建 1000 个连接")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# db_pool.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用模块的单例模式创建数据库连接池")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("import pymysql")]),r("div",[o._v("from DBUtils.PersistentDB import PersistentDB")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# 创建数据库连接池")])],1),r("div",[o._v("POOL = PersistentDB(")]),r("div",[o._v("    creator=pymysql,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用链接数据库的模块")])],1),r("div",[o._v("    maxusage=None,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 一个链接最多被重复使用的次数，None表示无限制")])],1),r("div",[o._v("    setsession=[],  "),r("font",{attrs:{color:"#41AD1C"}},[o._v('# 开始会话前执行的命令列表。如：["set datestyle to ...", "set time zone ..."]')])],1),r("div",[o._v("    ping=0,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ping MySQL服务端，检查是否服务可用。# 如：0 = None = never, 1 = default = whenever it is requested, 2 = when a cursor is created, 4 = when a query is executed, 7 = always")])],1),r("div",[o._v("    closeable=False,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 如果为False时， conn.close() 实际上被忽略，供下次使用，再线程关闭时，才会自动关闭链接。如果为True时， conn.close()则关闭链接，那么再次调用pool.connection时就会报错，因为已经真的关闭了连接（pool.steady_connection()可以获取一个新的链接）")])],1),r("div",[o._v("    threadlocal=None,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 本线程独享值得对象，用于保存链接对象，如果链接对象被重置")])],1),r("div",[o._v("    host='127.0.0.1',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库IP")])],1),r("div",[o._v("    port=3306,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库端口号")])],1),r("div",[o._v("    user='root',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库用户名")])],1),r("div",[o._v("    password='',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库密码")])],1),r("div",[o._v("    database='school',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库名称")])],1),r("div",[o._v("    charset='utf8'  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库的编码格式")])],1),r("div",[o._v(")")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# use_db_pool.py")])],1),r("div",[r("br")]),r("div",[o._v("import pymysql")]),r("div",[o._v("import threading")]),r("div",[o._v("from db_pool import POOL")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[o._v("def task():")]),r("div",[o._v("    conn = POOL.connection()  "),r("font",{attrs:{color:"#FA7A00"}},[o._v("# 获取连接")])],1),r("div",[o._v("    cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 游标: 操作数据")])],1),r("div",[o._v("    cursor.execute('select * from student')  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 执行SQL语句")])],1),r("div",[o._v("    result = cursor.fetchall()  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 获取查询到的所有数据")])],1),r("div",[o._v("    cursor.close()  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 关闭游标")])],1),r("div",[o._v("    conn.close()  "),r("font",{attrs:{color:"#FA7A00"}},[o._v("# 将连接放回连接池中 -> 这里的 .close 不是关闭连接，而是将连接返回连接池中")])],1),r("div",[o._v("    print(result)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [{'id': 1, 'name': 'Kevin', 'age': 18}, {'id': 2, 'name': 'Yeung', 'age': 22}]")])],1),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 开启 10 个线程")])],1),r("div",[o._v("for i in range(10):")]),r("div",[o._v("    t = threading.Thread(target=task)")]),r("div",[o._v("    t.start()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("模式一 -> 推荐使用")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("创建一批连接到连接池，供所有线程共享使用")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v(" 注意: 连接池中的连接个数是你所指定的，当连接池中的连接已被线程取完，此时如果有线程来了再想取连接时只能等待其他线程用完连接后返回连接池中")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# db_pool.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用模块的单例模式创建数据库连接池")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("import pymysql")]),r("div",[o._v("from DBUtils.PooledDB import PooledDB")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# 创建数据库连接池")])],1),r("div",[o._v("POOL = PooledDB(")]),r("div",[o._v("    creator=pymysql,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用连接数据库的模块")])],1),r("div",[o._v("    maxconnections=6,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 连接池允许的最大连接数，0 和 None 表示不限制连接数")])],1),r("div",[o._v("    mincached=2,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 初始化时，链接池中至少创建的空闲的链接，0 表示不创建 -> 即: 在初始化连接池的时候，不会开六个连接，而是先开两个，当连接不够用的时候再开6个")])],1),r("div",[o._v("    maxcached=5,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 链接池中最多闲置的链接，0 和 None不限制 -> 即: 当连接闲置（不用）的时候，保留几个连接，其余的全部关闭掉")])],1),r("div",[o._v("    maxshared=3,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 链接池中最多共享的链接数量，0 和 None表示全部共享 -> PS: 无用，因为 pymysql 和 MySQLdb 等模块的 threadsafety 都为 1，所有值无论设置为多少，_maxcached 永远为 0，所以永远是所有链接都共享")])],1),r("div",[o._v("    blocking=True,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 连接池中如果没有可用连接后，是否阻塞等待，True: 等待，False: 不等待然后报错")])],1),r("div",[o._v("    maxusage=None,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 一个链接最多被重复使用的次数，None: 表示无限制 -> 即: 一个连接在使用num次之后就要被重新创建")])],1),r("div",[o._v("    setsession=[],  "),r("font",{attrs:{color:"#41AD1C"}},[o._v('# 开始会话前执行的命令列表。如：["set datestyle to ...", "set time zone ..."]')])],1),r("div",[o._v("    ping=0,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ping MySQL服务端，检查是否服务可用 -> 即: 在每次执行数据库操作前先检测一下连接是否断开")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("             # 值：")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("             # 0 = None = never -> 不进行检测 -> 常用")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("             # 1 = default = whenever it is requested -> 往mysql发送请求的时候进行检测")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("             # 2 = when a cursor is created -> 创建游标的时候进行检测")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("             # 4 = when a query is executed -> 执行sql语句的时候进行检测 -> 常用")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("             # 7 = always -> 一旦有数据库操作就进行检测")])],1),r("div",[o._v("    host='127.0.0.1',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库IP")])],1),r("div",[o._v("    port=3306,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库端口号")])],1),r("div",[o._v("    user='root',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库用户名")])],1),r("div",[o._v("    password='',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库密码")])],1),r("div",[o._v("    database='school',  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库名称")])],1),r("div",[o._v("    charset='utf8'  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 数据库的编码格式")])],1),r("div",[o._v(")")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# use_db_pool.py")])]),r("div",[r("br")]),r("div",[o._v("import pymysql")]),r("div",[o._v("import threading")]),r("div",[o._v("from db_pool import POOL")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[o._v("def task():")]),r("div",[o._v("    conn = POOL.connection()  "),r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("# 获取连接")])]),r("div",[o._v("    cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 游标: 操作数据")])]),r("div",[o._v("    cursor.execute('select * from student')  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 执行SQL语句")])]),r("div",[o._v("    result = cursor.fetchall()  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 获取查询到的所有数据")])]),r("div",[o._v("    cursor.close()  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 关闭游标")])]),r("div",[o._v("    conn.close()  "),r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("# 将连接放回连接池中 -> 这里的 .close 不是关闭连接，而是将连接返回连接池中")])]),r("div",[o._v("    print(result)  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# [{'id': 1, 'name': 'Kevin', 'age': 18}, {'id': 2, 'name': 'Yeung', 'age': 22}]")])]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 开启 10 个线程")])]),r("div",[o._v("for i in range(10):")]),r("div",[o._v("    t = threading.Thread(target=task)")]),r("div",[o._v("    t.start()")])]),r("div",[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("4. DBUtils的例子")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("a",{attrs:{href:"/kevin-blog/Python/DBUtils 数据库连接池模块_files/dbutils_demo.rar"}},[r("img",{attrs:{alt:"dbutils_demo.rar",src:"/kevin-blog/Python/DBUtils 数据库连接池模块_files/a945aff399128ecd18cb3ebc7c1e2d43.png"}})])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("在配置文件中添加数据库连接池")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# settings.py")])],1),r("div",[r("br")]),r("div",[o._v("import pymysql")]),r("div",[o._v("from DBUtils.PooledDB import PooledDB")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建数据库连接池")])],1),r("div",[o._v("POOL = PooledDB(")]),r("div",[o._v("    creator=pymysql,")]),r("div",[o._v("    maxconnections=6,")]),r("div",[o._v("    mincached=2,")]),r("div",[o._v("    maxcached=5,")]),r("div",[o._v("    maxshared=3,")]),r("div",[o._v("    blocking=True,")]),r("div",[o._v("    maxusage=None,")]),r("div",[o._v("    setsession=[],")]),r("div",[o._v("    ping=0,")]),r("div",[o._v("    host='127.0.0.1',")]),r("div",[o._v("    port=3306,")]),r("div",[o._v("    user='root',")]),r("div",[o._v("    password='',")]),r("div",[o._v("    database='school',")]),r("div",[o._v("    charset='utf8'")]),r("div",[o._v(")")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("封装基于数据库连接池的常用数据库操作方法")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# utils/helper_sql.py")])],1),r("div",[r("br")]),r("div",[o._v("import pymysql")]),r("div",[o._v("from settings import POOL")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[o._v("class HelperSQL(object):")]),r("div",[o._v("    def __init__(self, sql, parameter=[]):")]),r("div",[o._v("        self.sql = sql")]),r("div",[o._v("        self.parameter = parameter")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 查询多条数据")])],1),r("div",[o._v("    def fetch_all(self):")]),r("div",[o._v("        conn = POOL.connection()")]),r("div",[o._v("        cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)")]),r("div",[o._v("        cursor.execute(self.sql, self.parameter)")]),r("div",[o._v("        result = cursor.fetchall()")]),r("div",[o._v("        cursor.close()")]),r("div",[o._v("        conn.close()")]),r("div",[o._v("        return result")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 查询一条数据")])],1),r("div",[o._v("    def fetch_one(self):")]),r("div",[o._v("        conn = POOL.connection()")]),r("div",[o._v("        cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)")]),r("div",[o._v("        cursor.execute(self.sql, self.parameter)")]),r("div",[o._v("        result = cursor.fetchone()")]),r("div",[o._v("        cursor.close()")]),r("div",[o._v("        conn.close()")]),r("div",[o._v("        return result")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v(" # 添加数据")])],1),r("div",[o._v("    def insert(self):")]),r("div",[o._v("        conn = POOL.connection()")]),r("div",[o._v("        cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)")]),r("div",[o._v("        row = cursor.execute(self.sql, self.parameter)")]),r("div",[o._v("        conn.commit()")]),r("div",[o._v("        cursor.close()")]),r("div",[o._v("        conn.close()")]),r("div",[o._v("        return row")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("调用封装好的")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("基于数据库连接池的常用数据库操作方法")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# index.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("from utils.helper_sql import HelperSQL")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 查询多条或一条数据")])],1),r("div",[o._v("sql = 'select * from student where age=%s'")]),r("div",[o._v("select_sql_obj = HelperSQL(sql, [18])")]),r("div",[o._v("print(select_sql_obj.fetch_all())  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [{'name': 'Kevin', 'age': 18, 'id': 1}, {'name': 'Yeung', 'age': 18, 'id': 2}]")])],1),r("div",[o._v("print(select_sql_obj.fetch_one())  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'name': 'Kevin', 'age': 18, 'id': 1}")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 添加数据")])],1),r("div",[o._v("sql = 'insert into student(name, age) values(%s, %s)'")]),r("div",[o._v("insert_sql_obj = HelperSQL(sql, ['AGA', 25])")]),r("div",[o._v("insert_sql_obj.insert()")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])])]),r("div",[r("br")])])])])}),[],!1,null,null,null);t.default=s.exports}}]);