(window.webpackJsonp=window.webpackJsonp||[]).push([[179],{528:function(i,e,r){"use strict";r.r(e);var o=r(25),t=Object(o.a)({},(function(){var i=this,e=i.$createElement,r=i._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":i.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("div",[r("font",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[i._v("外键使用场景: ")]),r("span",{staticStyle:{"letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[i._v("下拉选框展示数据优先使用外健")])])],1),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[i._v("外键名是不能重复的")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[i._v("外键名的命名规范: fk_表名 或 fk_表名_字段名")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap"}},[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[i._v("1.")]),i._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[i._v("外键的基本使用")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[i._v("例如: 表A中nid字段里面的值，必须是表B中id字段里的任意一个值")])])]),r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[i._v("一张表可以建立多个外键")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[i._v("# 表B")]),r("div",[r("br")]),r("div",[i._v("create table tableB(")]),r("div",[i._v("    bid int auto_increment primary key,")]),r("div",[i._v("    title char(15)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[i._v("# 表C")]),r("div",[r("br")]),r("div",[i._v("create table tableC(")]),r("div",[i._v("    cid int auto_increment primary key,")]),r("div",[i._v("    title char(15)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[i._v("# constraint 外键名 foreign key (主表字段) references 从表名(从表字段)")])]),r("div",[r("br")]),r("div",[i._v("# 表A")]),r("div",[r("br")]),r("div",[i._v("create table tableA(")]),r("div",[i._v("    aid int auto_increment primary key,")]),r("div",[i._v("    name varchar(32),")]),r("div",[i._v("    sid int,")]),r("div",[i._v("    did int,")]),r("div",[i._v("    constraint fk_user_sid foreign key (sid) references tableB(bid),")]),r("div",[i._v("    constraint fk_user_did foreign key (did) references tableC(cid)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[i._v("同时绑定两列为外键的前提是这两列必须构成为一个主键 -> 如果同时绑定了两列为外键，那么这两列的数据只能是对应的另外两列里的数据")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[i._v("create table t1(")]),r("div",[i._v("    id int auto_increment,")]),r("div",[i._v("    pid int not null,")]),r("div",[i._v("    primary key(id,pid)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[i._v("# 同时绑定两列为外键的表")])]),r("div",[r("br")]),r("div",[i._v("create table t2(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    id1 int,")]),r("div",[i._v("    id2 int,")]),r("div",[i._v("    constraint fk_user_sid foreign key (id1,id2) references t1(id,pid)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[i._v("2.")]),i._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[i._v("外键的变种")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[i._v("一对多")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[i._v("就是平时使用外键不加唯一索引的情况")])])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[i._v("一对一")])])])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/外键_files/Image.png",type:"image/png",width:"1032"}})]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 用户表")])],1),r("div",[r("br")]),r("div",[i._v("create table userinfo(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    name char(10),")]),r("div",[i._v("    gender char(10),")]),r("div",[i._v("    email varchar(64)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 管理员表")])],1),r("div",[r("br")]),r("div",[i._v("create table admin(")]),r("div",[i._v("    id int not null auto_increment primary key,")]),r("div",[i._v("    username varchar(64) not null,")]),r("div",[i._v("    password varchar(64) not null,")]),r("div",[i._v("    user_id int not null,")]),r("div",[i._v("    unique uq_u1 (user_id),")]),r("div",[i._v("    constraint fk_admin_u1 foreign key (user_id) references userinfo(id)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[i._v("多对多1")])])])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/外键_files/Image [1].png",type:"image/png",width:"1032"}})]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 用户表")])],1),r("div",[r("br")]),r("div",[i._v("create table userinfo(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    name varchar(10),")]),r("div",[i._v("    sex varchar(10)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 相亲约会记录表")])],1),r("div",[r("br")]),r("div",[i._v("create table appointment(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    mid int,")]),r("div",[i._v("    wid int,")]),r("div",[i._v("    constraint fk_m_user foreign key (mid) references userinfo(id),")]),r("div",[i._v("    constraint fk_w_user foreign key (wid) references userinfo(id)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[i._v("多对多2")])])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/外键_files/Image [2].png",type:"image/png",width:"1039"}})]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 用户表")])],1),r("div",[r("br")]),r("div",[i._v("create table userinfo(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    name char(10),")]),r("div",[i._v("    gender char(10),")]),r("div",[i._v("    email varchar(64)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 主机表")])],1),r("div",[r("br")]),r("div",[i._v("create table host(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    hostname char(64)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[i._v("# 用户主机关系表")])],1),r("div",[r("br")]),r("div",[i._v("create table userhost(")]),r("div",[i._v("    id int auto_increment primary key,")]),r("div",[i._v("    userid int not null,")]),r("div",[i._v("    hostid int not null,")]),r("div",[i._v("    unique uq_user_host (userid,hostid),")]),r("div",[i._v("    constraint fk_u2h_user foreign key (userid) references userinfo(id),")]),r("div",[i._v("    constraint fk_u2h_host foreign key (hostid) references host(id)")]),r("div",[i._v(")engine=innodb default charset=utf8;")])]),r("div",[r("br")]),r("div",[r("br")])]),r("div",[r("br")])])])])}),[],!1,null,null,null);e.default=t.exports}}]);