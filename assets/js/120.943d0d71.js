(window.webpackJsonp=window.webpackJsonp||[]).push([[120],{472:function(t,e,r){"use strict";r.r(e);var i=r(25),o=Object(i.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("div",[r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("类似于Django中间件的特殊装饰器")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap"}},[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("1.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("before_request 装饰器")])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v("before_request 装饰器 相当于Django中间件中的 ")]),r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("process_request 方法")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("当一个函数使用了 ")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v("before_request 装饰器，那么所有视图函数在执行前都会先执行该函数")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("返回值:")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("可以没有返回值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("如果返回 None: 跳出当前 "),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("before_request 装饰器所装饰的函数，直接执行视图函数")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("如果返回 字符串、数字、render_template、redirect、"),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("jsonify: 直接返回给浏览器，不执行下面的视图函数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, request, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.before_request")])],1),r("div",[t._v("def xxx():")]),r("div",[t._v("    print('before_request')")]),r("div",[t._v("    if request.path == '/login':")]),r("div",[t._v("        return None")]),r("div",[t._v("    else:")]),r("div",[t._v("        return 'index2'")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("font",{staticStyle:{"font-size":"12pt"}},[t._v("多个 before_request 装饰器的执行顺序")])],1)])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("font",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v("先定义的先执行")])],1)])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),r("div",[r("br")]),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.before_request")])]),r("div",[t._v("def b1():")]),r("div",[t._v("    print('before_request1')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.before_request")])]),r("div",[t._v("def b2():")]),r("div",[t._v("    print('before_request2')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 执行结果")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- index 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_request1")]),r("div",[t._v("before_request2")]),r("div",[t._v("index")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- login 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_request1")]),r("div",[t._v("before_request2")]),r("div",[t._v("login")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("2.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("after_request ")])]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("装饰器")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("after")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v("_request")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v(" 装饰器 相当")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v("于Django中间件中的 ")]),r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("process_response 方法")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("当一个函数使用了 after")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[t._v("_request 装饰器，那么所有的视图函数都会在执行完后再执行该函数")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("参数: 必须接收一个参数")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("返回值:")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("必须要有返回值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("不能返回 None，如果返回None相当于没有返回值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("可以直接返回接收到的参数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("可以返回 字符串、数字、render_template、redirect、"),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("jsonify")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("br")]),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.after_request")])],1),r("div",[t._v("def xxx("),r("font",{attrs:{color:"#FA7A00"}},[t._v("response")]),t._v("):")],1),r("div",[t._v("    print('after_request')")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("return response")])],1),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("多个")]),t._v(" after"),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("_request ")]),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("装饰器的执行顺序")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("font",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("后定义的先执行")])],1)])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),r("div",[r("br")]),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.after_request")])]),r("div",[t._v("def a1(response):")]),r("div",[t._v("    print('after_request1')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.after_request")])]),r("div",[t._v("def a2(response):")]),r("div",[t._v("    print('after_request2')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 执行结果")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- index 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("index")]),r("div",[t._v("after_request2")]),r("div",[t._v("after_request1")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- login 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("login")]),r("div",[t._v("after_request2")]),r("div",[t._v("after_request1")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("3.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("before_request 和 ")]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("after_request 的执行顺序")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.before_request")])],1),r("div",[t._v("def b_r():")]),r("div",[t._v("    print('before_request')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.after_request")])],1),r("div",[t._v("def a_r(response):")]),r("div",[t._v("    print('after_request')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 执行结果")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- index 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_request")]),r("div",[t._v("index")]),r("div",[t._v("after_request")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- login 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_request")]),r("div",[t._v("login")]),r("div",[t._v("after_request")])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"未命名文件.png",src:"/kevin-blog/Flask/特殊装饰器_files/未命名文件.png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("4.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v(" 多个 ")]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("before_request 和 ")]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("after_request 的执行顺序")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.before_request")])],1),r("div",[t._v("def b1():")]),r("div",[t._v("    print('before_request1')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.before_request")])],1),r("div",[t._v("def b2():")]),r("div",[t._v("    print('before_request2')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.after_request")])],1),r("div",[t._v("def a1(response):")]),r("div",[t._v("    print('after_request1')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.after_request")])],1),r("div",[t._v("def a2(response):")]),r("div",[t._v("    print('after_request2')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# 执行结果")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("# --------------- index 视图 ----------------")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[r("br")])],1),r("div",[t._v("before_request1")]),r("div",[t._v("before_request2")]),r("div",[t._v("index")]),r("div",[t._v("after_request2")]),r("div",[t._v("after_request1")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- login 视图 ----------------")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("before_request1")]),r("div",[t._v("before_request2")]),r("div",[t._v("login")]),r("div",[t._v("after_request2")]),r("div",[t._v("after_request1")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"未命名文件 (2).png",src:"/kevin-blog/Flask/特殊装饰器_files/未命名文件 (2).png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("5.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v(" 当 ")]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("before_request有返回值")]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("的执行顺序")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),r("div",[r("br")]),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.before_request")])]),r("div",[t._v("def b1():")]),r("div",[t._v("    print('before_request1')")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("return 'test_index'")])],1),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.before_request")])]),r("div",[t._v("def b2():")]),r("div",[t._v("    print('before_request2')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.after_request")])]),r("div",[t._v("def a1(response):")]),r("div",[t._v("    print('after_request1')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("@app.after_request")])]),r("div",[t._v("def a2(response):")]),r("div",[t._v("    print('after_request2')")]),r("div",[t._v("    return response")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    print('index')")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    print('login')")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 执行结果")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- index 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_request1")]),r("div",[t._v("after_request2")]),r("div",[t._v("after_request1")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- login 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_request1")]),r("div",[t._v("after_request2")]),r("div",[t._v("after_request1")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"未命名文件 (3).png",src:"/kevin-blog/Flask/特殊装饰器_files/未命名文件 (3).png",type:"image/png"}})]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("其他特殊装饰器")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("1.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("before_first_request")])]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("装饰器")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("只有在第一次请求之前调用（即: 只会执行一次）")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("返回值:")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("可以没有返回值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("如果返回 None: 跳出当前 "),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("before_request 装饰器所装饰的函数，直接执行视图函数")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("如果返回 字符串、数字、render_template、redirect、"),r("span",{staticStyle:{"font-size":"12pt"}},[t._v("jsonify: 直接返回给浏览器，不执行下面的视图函数")])])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{staticStyle:{"font-size":"9pt"},attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("from flask import Flask, render_template")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("app = Flask(__name__)")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"},attrs:{color:"#FA7A00"}},[t._v("@app.before_first_request")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("def one():")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("    print('before_first_request')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("@app.route('/index')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("def index():")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("    print('index')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("    return render_template('index.html')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("@app.route('/login')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("def login():")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("    print('login')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("    return render_template('login.html')")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("if __name__ == '__main__':")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[t._v("    app.run()")])],1)]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 执行结果")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- 第一次 index 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("before_first_request")]),r("div",[t._v("index")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# --------------- 第二次 login 视图 ----------------")])]),r("div",[r("br")]),r("div",[t._v("login")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("2.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("template_global() ")])]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("装饰器")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("全局模板函数")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("全局模板函数作用于所有模板（即: 在任何模板中都可以调用该方法）")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("两种作用: ")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("template_global() 装饰器 和 Django 模板语言中的")]),t._v(" inclusion_tag 类似")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("当有两个或以上的视图函数都需要传递同一个函数给自身模板的时候可以使用全局模板函数")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("br")]),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.template_global()")])],1),r("div",[t._v("def "),r("font",{attrs:{color:"#FA7A00"}},[t._v("t_fn")]),t._v("(n1, n2, n3):")],1),r("div",[t._v("    return n1 + n2 + n3")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# index.html")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("{{'{'+'{'+' "),r("font",{attrs:{color:"#FA7A00"}},[t._v("t_fn")]),t._v("(1, 2, 3) '+'}'+'}'}}")],1)]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("3.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("template_filter()")])]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("装饰器")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("自定义过滤器")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.template_filter()")])],1),r("div",[t._v("def "),r("font",{attrs:{color:"#FA7A00"}},[t._v("t_filter")]),t._v("(n1, n2, n3):")],1),r("div",[t._v("    print(n1, n2, n3)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 2 3 4")])],1),r("div",[t._v("    return n1 + n2 + n3")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# index.html")])],1),r("div",[r("br")]),r("div",[t._v("{{'{'+'{'+' 2|"),r("font",{attrs:{color:"#FA7A00"}},[t._v("t_filter")]),t._v("(3, 4) '+'}'+'}'}}")],1)]),r("div",[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("4.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("errorhandler(错误状态码)")])]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("装饰器")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("自定义错误信息页面")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("当发生 404 或 500 等错误状态码的时候就会返回自定义的错误信息页面给浏览器，而不是 flask 的错误信息")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, render_template")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("@app.errorhandler(404)")])],1),r("div",[t._v("def not_found(error_msg):")]),r("div",[t._v("    print(error_msg)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 错误信息")])],1),r("div",[t._v("    return render_template('error.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")])]),r("div",[r("br")])])])])}),[],!1,null,null,null);e.default=o.exports}}]);