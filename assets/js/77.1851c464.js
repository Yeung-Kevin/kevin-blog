(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{430:function(o,t,i){"use strict";i.r(t);var r=i(25),a=Object(r.a)({},(function(){var o=this,t=o.$createElement,i=o._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[i("div",[i("span",[i("div",[i("div",[i("div",[i("div",[i("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("1.")]),o._v(" "),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("在运行Django项目前需要对配置文件进行修改 -> settings.py")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{color:"rgb(227, 0, 0)","font-weight":"bold"}},[o._v("注意: 配置文件（settings.py）中的配置变量名必须是大写，否则会无效")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[o._v("在编写代码的时候如果涉及到了配置属性的值，最好将它设置在配置文件中（settings.py）")])])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("如: 支付宝或微信的 AppID 的配置信息 和 redis 的缓存名等")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[i("font",{attrs:{color:"#41AD1C"}},[o._v("# settings.py")])],1)]),i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[i("font",{attrs:{color:"#41AD1C"}},[i("br")])],1)]),i("div",[o._v("ALI_PAY_APPID='123456'")]),i("div",[i("br")]),i("div",[o._v("WEXIN_APPID='123456'")]),i("div",[i("br")]),i("div",[o._v('SHOPPINGCAR_KEY = "shoppingcar_%s_%s"')])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# views.py")])],1),i("div",[i("font",{attrs:{color:"#41AD1C"}},[i("br")])],1),i("div",[o._v("from django.conf import settings")]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"9pt",color:"rgb(51, 51, 51)","font-family":"Monaco"}},[o._v("def xxx(request):")])]),i("div",[i("span",{staticStyle:{"font-size":"9pt",color:"rgb(51, 51, 51)","font-family":"Monaco"}},[o._v("    ali_pay_appid = ")]),o._v("settings.ALI_PAY_APPID")]),i("div",[o._v("    wexin_appid = settings.WEXIN_APPID")]),i("div",[o._v("    shoppingcar_key = settings.SHOPPINGCAR_KEY % (1, 2)")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("……")])],1)]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("ul",[i("li",[i("div",[o._v("ALLOWED_HOSTS 参数")])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("允许指定的ip地址访问该项目")])])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("默认值: [] -> 只允许本机访问")])])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[i("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v("正式上线的时候需要对其参数进行修改，否则只有本机才能访问")])])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("ALLOWED_HOSTS=[]  "),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 只允许本机访问该项目，默认值")])]),i("div",[i("br")]),i("div",[o._v("ALLOWED_HOSTS=['*']  "),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 允许所有ip地址访问该项目，上线时所使用")])]),i("div",[i("br")]),i("div",[o._v("ALLOWED_HOSTS=['10.0.0.1:8000', '10.0.0.2:8001']  "),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 允许指定的ip地址访问该项目")])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[o._v("BASE_DIR 参数是当前项目的路径")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt"}},[o._v("BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))")])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("app 的配置")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("INSTALLED_APPS = [")]),i("div",[o._v("    'django.contrib.admin',")]),i("div",[o._v("    'django.contrib.auth',")]),i("div",[o._v("    'django.contrib.contenttypes',")]),i("div",[o._v("    'django.contrib.sessions',")]),i("div",[o._v("    'django.contrib.messages',")]),i("div",[o._v("    'django.contrib.staticfiles',")]),i("div",[i("br")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 告诉Django我创建了一个App")])],1),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("    # 'app01' # 写法一")])],1),i("div",[o._v("    'app01.apps.App01Config'  "),i("font",{attrs:{color:"#41AD1C"}},[o._v("# 写法二 官方推荐写法 意思：找到 app01 文件夹下的 apps.py 文件，然后调用该文件下的 App01Config 类")])],1),i("div",[o._v("]")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("中间件的配置")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("MIDDLEWARE = [")]),i("div",[o._v("    'django.middleware.security.SecurityMiddleware',")]),i("div",[o._v("    'django.contrib.sessions.middleware.SessionMiddleware',")]),i("div",[o._v("    'django.middleware.common.CommonMiddleware',")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 'django.middleware.csrf.CsrfViewMiddleware',  # ")]),i("font",{attrs:{color:"#41AD1C"}},[o._v("禁用csrf中间件，方便表单提交测试")])],1),i("div",[o._v("    'django.contrib.auth.middleware.AuthenticationMiddleware',")]),i("div",[o._v("    'django.contrib.messages.middleware.MessageMiddleware',")]),i("div",[o._v("    'django.middleware.clickjacking.XFrameOptionsMiddleware',")]),i("div",[o._v("]")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("模板文件的配置")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("TEMPLATES = [")]),i("div",[o._v("    {")]),i("div",[o._v("        'BACKEND': 'django.template.backends.django.DjangoTemplates',")]),i("div",[o._v("        'DIRS': [os.path.join(BASE_DIR, 'templates')],  "),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 添加html模板文件夹的路径，告诉Django从那个文件夹找HTML文件")])]),i("div",[o._v("        'APP_DIRS': True,")]),i("div",[o._v("        'OPTIONS': {")]),i("div",[o._v("            'context_processors': [")]),i("div",[o._v("                'django.template.context_processors.debug',")]),i("div",[o._v("                'django.template.context_processors.request',")]),i("div",[o._v("                'django.contrib.auth.context_processors.auth',")]),i("div",[o._v("                'django.contrib.messages.context_processors.messages',")]),i("div",[o._v("            ],")]),i("div",[o._v("        },")]),i("div",[o._v("    },")]),i("div",[o._v("]")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("静态文件的配置")])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("如果 static 静态文件夹放在app的文件夹下，那么无需在settings.py配置文件中配置静态文件的路径，因为Django会默认先在app目录下找static静态文件夹，但是如果static静态文件夹不在app文件夹下，那么最好还是在settings.py配置文件中配置静态文件的路径")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("STATIC_URL = '/static/'  "),i("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("# HTML文件里面导入CSS/JS/Img文件时，路径都要以/static/开头")])]),i("div",[i("br")]),i("div",[o._v("STATICFILES_DIRS = [")]),i("div",[o._v('    os.path.join(BASE_DIR, "static"),  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 存放静态文件（即：css/js/img）的文件夹路径")])]),i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}}),o._v('os.path.join(BASE_DIR, "static2"),')]),i("div",[o._v('    os.path.join(BASE_DIR, "static3"),')]),i("div",[o._v("]")])]),i("div",[i("br")])]),i("div",[i("img",{attrs:{"data-filename":"867021-20180110190001816-1349372864.png",src:"/kevin-blog/Django/配置文件_files/867021-20180110190001816-1349372864.png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("日志的配置 -> 在Django终端（控制台）打印SQL语句")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("LOGGING = {")]),i("div",[o._v("    'version': 1,")]),i("div",[o._v("    'disable_existing_loggers': False,")]),i("div",[o._v("    'handlers': {")]),i("div",[o._v("        'console':{")]),i("div",[o._v("            'level':'DEBUG',")]),i("div",[o._v("            'class':'logging.StreamHandler',")]),i("div",[o._v("        },")]),i("div",[o._v("    },")]),i("div",[o._v("    'loggers': {")]),i("div",[o._v("        'django.db.backends': {")]),i("div",[o._v("            'handlers': ['console'],")]),i("div",[o._v("            'propagate': True,")]),i("div",[o._v("            'level':'DEBUG',")]),i("div",[o._v("        },")]),i("div",[o._v("    }")]),i("div",[o._v("}")])]),i("div",[i("br")])]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"white-space":"pre-wrap","overflow-wrap":"break-word","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"12pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("APPEND_SLASH 配置项 -> 了解")])])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("是否在网址跳转前在"),i("span",{staticStyle:{"letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"12pt",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("网址结尾处")]),o._v("加上 '/',")])]),i("li",[i("div",[i("span",{staticStyle:{"letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"12pt",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("Django settings.py 配置文件中默认没有 APPEND_SLASH 这个参数，但 Django 默认这个参数为 APPEND_SLASH = True")])])]),i("li",[i("div",[o._v("访问 "),i("a",{attrs:{href:"http://www.example.com/blog"}},[o._v("http://www.example.com/blog")]),o._v(" 时，默认将网址自动转换为 "),i("a",{attrs:{href:"http://www.example.com/blog/"}},[o._v("http://www.example.com/blog/")])])]),i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("如果在settings.py中设置了")]),i("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("APPEND_SLASH=False")]),i("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("，此时我们再请求 ")]),i("a",{staticStyle:{"font-size":"12pt","font-variant-caps":"normal","font-variant-ligatures":"normal"},attrs:{href:"http://www.example.com/blog"}},[o._v("http://www.example.com/blog")]),o._v(" "),i("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("时就会提示找不到页面")])])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("APPEND_SLASH=True")])]),i("div",[i("br")])]),i("div",[i("br")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);