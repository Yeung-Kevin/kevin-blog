(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{599:function(i,v,e){"use strict";e.r(v);var d=e(25),r=Object(d.a)({},(function(){var i=this,v=i.$createElement,e=i._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":i.$parent.slotKey}},[e("div",[e("span",[e("div",[e("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold","line-height":"1.75"}},[i._v("1.")]),i._v(" "),e("span",{staticStyle:{"font-size":"18.6667px","white-space":"pre-wrap","font-weight":"bold"}},[i._v("通过 sql 语句筛选出符合条件的数据")])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[i._v("condition_dict = {'name': 1, 'id': 0, 'age': 2, 'phone': 3, 'job': 4}")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def get_data():")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("'''")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    获取文件中的数据")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    :return: 生成器")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    '''")])],1),e("div",[i._v("    with open('staff', encoding='utf-8') as f:")]),e("div",[i._v("        for i, l in enumerate(f):")]),e("div",[i._v("            if i > 0:")]),e("div",[i._v("                yield l.strip().split(',')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def condition_fn(c):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("'''")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    根据条件进行筛选")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    :param c: 条件的字符串 -> age > 10")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    :return: 符合条件的列表")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    '''")])],1),e("div",[i._v("    if '>' in c:")]),e("div",[i._v("        col, val = c.split('>')")]),e("div",[i._v("        g = get_data()")]),e("div",[i._v("        for i in g:")]),e("div",[i._v("            if int(i[condition_dict[col]]) > int(val):")]),e("div",[i._v("                yield i")]),e("div",[i._v("    elif '<' in c:")]),e("div",[i._v("        col, val = c.split('<')")]),e("div",[i._v("        g = get_data()")]),e("div",[i._v("        for i in g:")]),e("div",[i._v("            if int(i[condition_dict[col]]) < int(val):")]),e("div",[i._v("                yield i")]),e("div",[i._v("    elif '=' in c:")]),e("div",[i._v("        col, val = c.split('=')")]),e("div",[i._v("        g = get_data()")]),e("div",[i._v("        for i in g:")]),e("div",[i._v("            if i[condition_dict[col]] == val:")]),e("div",[i._v("                yield i")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def show_data(view_list, field):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v(" '''")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    展示符合条件的员工数据")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    :param view_list: 符合条件的员工信息生成器")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    :param field: name,age")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    :return:")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    '''")])],1),e("div",[i._v("    if '*' in field:")]),e("div",[i._v("        for i in view_list:")]),e("div",[i._v("            print(i)")]),e("div",[i._v("    else:")]),e("div",[i._v("        f_name = field.split('select')")]),e("div",[i._v("        f_name_arr = f_name[1].strip().split(',')")]),e("div",[i._v("        for i in view_list:")]),e("div",[i._v("            for n in f_name_arr:")]),e("div",[i._v("                print(i[condition_dict[n]], end=' ')")]),e("div",[i._v("            print('')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("ret = 'select name,age where age<23'")]),e("div",[i._v("field, condition = ret.split('where')")]),e("div",[i._v("view_list = condition_fn(condition.strip())")]),e("div",[i._v("show_data(view_list, field.strip())")])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("# staff")])],1),e("div",[e("br")]),e("div",[i._v("id,name,age,phone,job")]),e("div",[i._v("1,Alex,22,13651054608,IT")]),e("div",[i._v("2,Egon,23,13304320533,Tearcher")]),e("div",[i._v("3,nezha,25,1333235322,IT")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold","line-height":"1.75"}},[i._v("2.")]),i._v(" "),e("span",{staticStyle:{"font-size":"18.6667px","white-space":"pre-wrap"}},[e("span",{staticStyle:{"font-size":"18.6667px","font-weight":"bold"}},[i._v("三级菜单")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[i._v("menu = {")]),e("div",[i._v("    '北京': {")]),e("div",[i._v("        '海淀': {")]),e("div",[i._v("            '五道口': {")]),e("div",[i._v("                'soho': {},")]),e("div",[i._v("                '网易': {},")]),e("div",[i._v("                'google': {}")]),e("div",[i._v("            },")]),e("div",[i._v("            '中关村': {")]),e("div",[i._v("                '爱奇艺': {},")]),e("div",[i._v("                '汽车之家': {},")]),e("div",[i._v("                'youku': {},")]),e("div",[i._v("            },")]),e("div",[i._v("            '上地': {")]),e("div",[i._v("                '百度': {},")]),e("div",[i._v("            },")]),e("div",[i._v("        },")]),e("div",[i._v("        '昌平': {")]),e("div",[i._v("            '沙河': {")]),e("div",[i._v("                '老男孩': {},")]),e("div",[i._v("                '北航': {},")]),e("div",[i._v("            },")]),e("div",[i._v("            '天通苑': {},")]),e("div",[i._v("            '回龙观': {},")]),e("div",[i._v("        },")]),e("div",[i._v("        '朝阳': {},")]),e("div",[i._v("        '东城': {},")]),e("div",[i._v("    },")]),e("div",[i._v("    '上海': {")]),e("div",[i._v("        '闵行': {")]),e("div",[i._v('            "人民广场": {')]),e("div",[i._v("                '炸鸡店': {}")]),e("div",[i._v("            }")]),e("div",[i._v("        },")]),e("div",[i._v("        '闸北': {")]),e("div",[i._v("            '火车战': {")]),e("div",[i._v("                '携程': {}")]),e("div",[i._v("            }")]),e("div",[i._v("        },")]),e("div",[i._v("        '浦东': {},")]),e("div",[i._v("    },")]),e("div",[i._v("    '山东': {},")]),e("div",[i._v("}")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def threeLM(dic):")]),e("div",[i._v("    while True:")]),e("div",[i._v("        for k in dic: print(k)")]),e("div",[i._v("        content = input('>>> ').strip()")]),e("div",[i._v("        if content == 'q':")]),e("div",[i._v("            break")]),e("div",[i._v("        elif content in dic:")]),e("div",[i._v("            print(dic[content])")]),e("div",[i._v("            threeLM(dic[content])")]),e("div",[i._v("        else:")]),e("div",[i._v("            threeLM(menu)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("threeLM(menu)")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold","line-height":"1.75"}},[i._v("3.")]),i._v(" "),e("span",{staticStyle:{"font-size":"18.6667px","white-space":"pre-wrap","font-weight":"bold"}},[i._v("计算器")])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[i._v("import re")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def dealwith(express):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("# 对表达式中的符号进行处理 +- 替换成 - ，-- 替换成 +")])],1),e("div",[i._v("    express = express.replace('+-', '-')")]),e("div",[i._v("    express = express.replace('--', '+')")]),e("div",[i._v("    return express")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def cal_exp_son(exp_son):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("# 用来计算原子型的表达式 两个数之间的乘除法")])],1),e("div",[i._v("    if '/' in exp_son:")]),e("div",[i._v("        a, b = exp_son.split('/')")]),e("div",[i._v("        return str(float(a) / float(b))")]),e("div",[i._v("    else:")]),e("div",[i._v("        a, b = exp_son.split('*')")]),e("div",[i._v("        return str(float(a) * float(b))")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def cal_express_no_breacket(exp):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v(" # 计算没有括号的表达式")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("    # exp是没有经过处理的最内层带括号的表达式")])],1),e("div",[i._v("    exp = exp.strip('()')")]),e("div",[i._v("    while True:")]),e("div",[i._v("        ret = re.search(r'\\d+\\.?\\d*[*/]-?\\d+\\.?\\d*', exp)  "),e("font",{attrs:{color:"#41AD1C"}},[i._v("# 匹配第一个乘除")])],1),e("div",[i._v("        if ret:  "),e("font",{attrs:{color:"#41AD1C"}},[i._v("# 判断表达式中是否还有乘除")])],1),e("div",[i._v("            exp_son = ret.group()")]),e("div",[i._v("            print(exp_son)")]),e("div",[i._v("            ret = cal_exp_son(exp_son)")]),e("div",[i._v("            exp = exp.replace(exp_son, ret)")]),e("div",[i._v("            exp = dealwith(exp)")]),e("div",[i._v("        else:")]),e("div",[i._v("            ret = re.findall(r'-?\\d+\\.?\\d*', exp)")]),e("div",[i._v("            sum = 0")]),e("div",[i._v("            for i in ret:")]),e("div",[i._v("                sum += float(i)")]),e("div",[i._v("            return str(sum)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("def remove_bracket(new_express):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[i._v("# 提取括号里面没有其他括号的表达式")])],1),e("div",[i._v("    while True:")]),e("div",[i._v("        ret = re.search(r'\\([^()]+\\)', new_express)")]),e("div",[i._v("        if ret:")]),e("div",[i._v("            express_no_breacket = ret.group()")]),e("div",[i._v("            print('匹配到内部不再有括号的值：', express_no_breacket)")]),e("div",[i._v("            ret = cal_express_no_breacket(express_no_breacket)")]),e("div",[i._v("            print(new_express, express_no_breacket, ret)")]),e("div",[i._v("            new_express = new_express.replace(express_no_breacket, ret)")]),e("div",[i._v("            new_express = dealwith(new_express)")]),e("div",[i._v("            print(new_express)")]),e("div",[i._v("        else:")]),e("div",[i._v("            print('表达式中没有括号了:', new_express)")]),e("div",[i._v("            ret = cal_express_no_breacket(new_express)")]),e("div",[i._v("            print(ret)")]),e("div",[i._v("            break")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[i._v("express = '1 - 2 * ( ( 6 0 -3 0  +(-40/5) * (9-2*5/3 + 7 /3*99/4*2998 +10 * 568/14 )) - (-4*3)/ (16-3*2) )'")]),e("div",[i._v("new_express = express.replace(' ', '')")]),e("div",[i._v("remove_bracket(new_express)")])]),e("div",[e("br")])])])])}),[],!1,null,null,null);v.default=r.exports}}]);