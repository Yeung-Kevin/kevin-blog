(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{476:function(o,i,r){"use strict";r.r(i);var t=r(25),a=Object(t.a)({},(function(){var o=this,i=o.$createElement,r=o._self._c||i;return r("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("div",[r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","font-weight":"bold","line-height":"1.5","background-color":"#3eaf7c","border-radius":"3px","text-align":"center",color:"white","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-ligatures":"normal","font-variant-caps":"normal","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","font-weight":"bold","line-height":"1.5","background-color":"#3eaf7c","border-radius":"3px",color:"white","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-ligatures":"normal","font-variant-caps":"normal","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[o._v("所有配置项")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("{")]),r("div",[o._v("    'DEBUG': get_debug_flag(default=False), "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # 是否开启Debug模式")])],1),r("div",[o._v("    'TESTING': False,  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 是否开启测试模式")])],1),r("div",[o._v("    'PROPAGATE_EXCEPTIONS': None,")]),r("div",[o._v("    'PRESERVE_CONTEXT_ON_EXCEPTION': None,")]),r("div",[o._v("    'SECRET_KEY': None,")]),r("div",[o._v("    'PERMANENT_SESSION_LIFETIME': timedelta(days=31),")]),r("div",[o._v("    'USE_X_SENDFILE': False,")]),r("div",[o._v("    'LOGGER_NAME': None,")]),r("div",[o._v("    'LOGGER_HANDLER_POLICY': 'always',")]),r("div",[o._v("    'SERVER_NAME': None,")]),r("div",[o._v("    'APPLICATION_ROOT': None,")]),r("div",[o._v("    'SESSION_COOKIE_NAME': 'session',")]),r("div",[o._v("    'SESSION_COOKIE_SAMESITE': None,")]),r("div",[o._v("    'SESSION_COOKIE_DOMAIN': None,")]),r("div",[o._v("    'SESSION_COOKIE_PATH': None,")]),r("div",[o._v("    'SESSION_COOKIE_HTTPONLY': True,")]),r("div",[o._v("    'SESSION_COOKIE_SECURE': False,")]),r("div",[o._v("    'SESSION_REFRESH_EACH_REQUEST': True,")]),r("div",[o._v("    'MAX_CONTENT_LENGTH': None,")]),r("div",[o._v("    'SEND_FILE_MAX_AGE_DEFAULT': timedelta(hours=12),")]),r("div",[o._v("    'TRAP_BAD_REQUEST_ERRORS': False,")]),r("div",[o._v("    'TRAP_HTTP_EXCEPTIONS': False,")]),r("div",[o._v("    'EXPLAIN_TEMPLATE_LOADING': False,")]),r("div",[o._v("    'PREFERRED_URL_SCHEME': 'http',")]),r("div",[o._v("    'JSON_AS_ASCII': True,")]),r("div",[o._v("    'JSON_SORT_KEYS': True,")]),r("div",[o._v("    'JSONIFY_PRETTYPRINT_REGULAR': True,")]),r("div",[o._v("    'JSONIFY_MIMETYPE': 'application/json',")]),r("div",[o._v("    'TEMPLATES_AUTO_RELOAD': None,")]),r("div",[o._v("}")])]),r("div",[r("br")]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","font-weight":"bold","line-height":"1.5","background-color":"#3eaf7c","border-radius":"3px","text-align":"center",color:"white","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-ligatures":"normal","font-variant-caps":"normal","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","font-weight":"bold","line-height":"1.5","background-color":"#3eaf7c","border-radius":"3px",color:"white","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-ligatures":"normal","font-variant-caps":"normal","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[o._v("配置文件的使用")])]),r("div",[r("br")]),r("div",[r("font",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("注意: ")]),r("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("app.config 的本质就是一个字典，所以字典中有的方法都可以在 app.config 上使用")])])],1),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("1.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt"}},[r("b",[o._v("查看所有的配置项")])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[o._v("config = "),r("font",{attrs:{color:"#FA7A00"}},[o._v("app.config")]),o._v(" "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 查看所有的配置项")])],1),r("div",[r("font",{attrs:{color:"#FF0000"}},[r("br")])],1),r("div",[o._v("print(config)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# <Config {'MAX_COOKIE_SIZE': 4093, 'JSONIFY_MIMETYPE': 'application/json', ……}>")])],1),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("2.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt"}},[r("b",[o._v("修改配置项")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("方式一 -> "),r("font",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("常用")])],1)])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("br")]),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("app.config['DEBUG'] = True")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("app.config['TESTING'] = True")])],1),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("方式二")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("br")]),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("config_dic")]),o._v(" = {")],1),r("div",[o._v("    'DEBUG': True,")]),r("div",[o._v("    'TESTING': True,")]),r("div",[o._v("}")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("app.config.update(config_dic) ")]),o._v(" "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 因为 app.config 的本质是字典，所以可以使用字典中的 update 方法")])],1),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("方式三")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("语法: app.config."),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("from_json")]),o._v("('"),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("json文件名称")]),o._v("')")],1)])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("文件必须是json格式，因为内部会执行json.loads")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# flask_config.json")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("{")]),r("div",[o._v('  "DEBUG": true,')]),r("div",[o._v('  "TESTING": true')]),r("div",[o._v("}")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("br")]),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[o._v("app.config."),r("font",{attrs:{color:"#FA7A00"}},[o._v("from_json")]),o._v("('"),r("font",{attrs:{color:"#FA7A00"}},[o._v("flask_config.json")]),o._v("')")],1),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")])]),r("ul",[r("li",[r("div",[o._v("方式四")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("语法: app.config."),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("from_mapping")]),o._v("("),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("字典")]),o._v(")")],1)])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("字典格式")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("br")]),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[o._v("app.config."),r("font",{attrs:{color:"#FA7A00"}},[o._v("from_mapping")]),o._v("({")],1),r("div",[o._v("    'DEBUG': True,")]),r("div",[o._v("    'TESTING': True")]),r("div",[o._v("})")]),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("方式五 -> "),r("font",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("常用")])],1)])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("语法: app.config."),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("from_pyfile")]),o._v("('"),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("python文件名称")]),o._v("')")],1)])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# settings.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("DEBUG = True")]),r("div",[o._v("TESTING = True")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("br")]),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[o._v("app.config."),r("font",{attrs:{color:"#FA7A00"}},[o._v("from_pyfile")]),o._v("('"),r("font",{attrs:{color:"#FA7A00"}},[o._v("settings.py")]),o._v("')")],1),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("方式六 -> "),r("b",[r("font",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("常用 + 推荐使用")])],1)])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("语法: app.config."),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("from_object")]),o._v("('"),r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("python类或类的路径")]),o._v("')")],1)])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("好处: 可以根据开发环境的不同切换不同的配置类")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[r("font",{attrs:{color:"#41AD1C"}},[o._v("# settings.py")])],1)]),r("div",[r("span",{staticStyle:{"font-size":"9pt",color:"rgb(51, 51, 51)","font-family":"Monaco"}},[r("br")])]),r("div",[o._v("class Config(object):  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 公共配置项")])],1),r("div",[o._v("    DEBUG = True")]),r("div",[o._v("    TESTING = True")]),r("div",[o._v("    DATABASE_URI = 'sqlite://:memory:'")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[o._v("class ProductionConfig(Config):  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 线上环境所使用的配置项，以继承了公共配置项")])],1),r("div",[o._v("    DATABASE_URI = 'mysql://user@localhost/foo'")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[o._v("class DevelopmentConfig(Config):  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 开发环境所使用的配置项，以继承了公共配置项")])],1),r("div",[o._v("    TESTING = False")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),r("div",[r("br")]),r("div",[o._v("from flask import Flask")]),r("div",[r("br")]),r("div",[o._v("app = Flask(__name__)")]),r("div",[r("br")]),r("div",[o._v("app.config."),r("font",{attrs:{color:"#FA7A00"}},[o._v("from_object")]),o._v("('"),r("font",{attrs:{color:"#FA7A00"}},[o._v("settings.DevelopmentConfig")]),o._v("')")],1),r("div",[r("br")]),r("div",[o._v("if __name__ == '__main__':")]),r("div",[o._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("font",{staticStyle:{"font-size":"12pt"}},[o._v("方式六的原理代码")])],1)])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# settings.py")])]),r("div",[r("br")]),r("div",[o._v("class Foo(object):")]),r("div",[o._v("    DEBUG = True")]),r("div",[o._v("    TESTING = True")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# xxx.py")])]),r("div",[r("br")]),r("div",[o._v("import importlib")]),r("div",[r("br")]),r("div",[o._v("path = 'settings.Foo'")]),r("div",[r("br")]),r("div",[o._v("settings_str, foo_str = path.rsplit('.', maxsplit=1) "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v(" # 分割路径")])]),r("div",[o._v("settings_model = importlib.import_module(settings_str) "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v(" # 通过字符串路径获取对应的模块")])]),r("div",[o._v("Foo = getattr(settings_model, foo_str) "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v(" # 获取 settings 模块下的 Foo 类")])]),r("div",[r("br")]),r("div",[o._v("for key in dir(Foo):  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# dir() 获取类或对象的所有静态属性和方法")])]),r("div",[o._v("    if key.isupper():")]),r("div",[o._v("        print(key, getattr(Foo, key))  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# DEBUG True")])])]),r("div",[r("br")])])])])])}),[],!1,null,null,null);i.default=a.exports}}]);