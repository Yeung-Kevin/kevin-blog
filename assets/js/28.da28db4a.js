(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{381:function(t,o,i){"use strict";i.r(o);var e=i(25),a=Object(e.a)({},(function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[i("div",[i("span",[i("div",[i("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[i("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("使用Django连接和配置MySQL")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("注意: Django中的ORM")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("本身是无法操作数据库（因为")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("Django中的ORM")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("本身只负责将代码转换为SQL语句")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("），必须使用 DBAPI（即: 第三方的操作数据库的模块，如：pymysql，mysqldb，……）来进行数据库的操作，")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("所以")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("一定要下载和配置")]),i("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)"}},[t._v("第三方的操作数据库的模块")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold"}},[t._v("1.")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" pymysql的安装")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[t._v("pip3 install pymysql -i "),i("a",{attrs:{href:"https://pypi.douban.com/simple"}},[t._v("https://pypi.douban.com/simple")]),t._v(" "),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 使用豆瓣的镜像")])])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold"}},[t._v("2.")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 导入 pymysql")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[t._v("在项目目录下的 __init__.py 下进行导入（或者在settings导入也可以），不要在 app 目录下的 __init__.py 导入")])])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Django ORM/ORM的配置_files/Image.png",type:"image/png"}})]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# __init__.py")])]),i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 告诉Django使用pymysql模块连接MySQL数据库，因为 Django 默认使用MySQLdb，且 MySQLdb Python3 是不支持的")])]),i("div",[i("br")]),i("div",[t._v("import pymysql")]),i("div",[i("br")]),i("div",[t._v("pymysql.install_as_MySQLdb()  "),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 将MySQLdb替换掉，使用pymysql")])])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold"}},[t._v("3.")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 配置数据库连接信息")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco",color:"rgb(65, 173, 28)"}},[t._v("# settings.py")])]),i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco",color:"rgb(227, 0, 0)"}},[t._v("# 注意 default 字典中的 key 必须全部大写")])]),i("div",[i("br")]),i("div",[t._v("DATABASES = {")]),i("div",[t._v('    "default": {')]),i("div",[t._v('        "ENGINE": "django.db.backends.mysql",  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# django.db.backends.所连接的数据库")])]),i("div",[t._v('        "NAME": "db1",  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 数据库名称")])]),i("div",[t._v('        "USER": "root",  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 数据库用户名")])]),i("div",[t._v('        "PASSWORD": "",  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 数据库密码")])]),i("div",[t._v('        "HOST": "127.0.0.1",  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 数据库IP，如果是连接本机的可以直接填写 127.0.0.1 或 localhost")])]),i("div",[t._v('        "POST": 3306  '),i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 数据库端口号")])]),i("div",[t._v("    }")]),i("div",[t._v("}")])])]),i("div",[i("br")])])])])}),[],!1,null,null,null);o.default=a.exports}}]);