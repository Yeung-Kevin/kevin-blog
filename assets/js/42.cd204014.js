(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{393:function(t,r,e){"use strict";e.r(r);var i=e(25),o=Object(i.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",[e("span",[e("div",[e("div",[e("span",{staticStyle:{"font-family":'"Helvetica Neue"'}},[e("br")])]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("解析器")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 解析器的说明")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("根据 Content-Type 类型对发送过来的数据进行解析")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("可以通过编写中间件的方式实现解析器的功能")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("rest_framework 提供了4个解析器:")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("JSONParser ->  Content-Type = application/json")])]),e("li",[e("div",[t._v("FormParser ->  Content-Type = application/x-www-form-urlencoded")])]),e("li",[e("div",[t._v("MultiPartParser -> Content-Type = multipart/form-data")])]),e("li",[e("div",[t._v("FileUploadParser -> Content-Type = */*")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("在使用 rest_framework 的时候所有视图类默认支持 JSONParser、FormParser、MultiPartParser 解析器")])])])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("2.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 局部解析器")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("局部解析器的配置（即: parser_classes = [解析器, 解析器]）会覆盖掉该视图类在全局解析器中的配置")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("parser_classes = [解析器, 解析器]")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("注意: ")]),t._v("在日常开发中尽量不要去配置局部解析器和全局解析器，因为 rest_framework 默认所设置的3个解析器已经够用了")])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# views.py")])],1),e("div",[e("br")]),e("div",[t._v("from rest_framework import viewsets")]),e("div",[t._v("from rest_framework.parsers import JSONParser, FormParser  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 导入解析器")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class BookViewSet(viewsets.ModelViewSet):")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("parser_classes")]),t._v(" = [JSONParser]  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 该视图类只使用 JSONParser 解析器")])],1),e("div",[e("br")]),e("div",[t._v("    queryset = Book.objects.all()")]),e("div",[t._v("    serializer_class = BookSerializers")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("3.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 全局解析器")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("全局解析器的设置作用于所有视图类")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("可以通过设置局部解析器来覆盖全局解析器的设置")])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# settings.py")])],1),e("div",[e("br")]),e("div",[t._v("REST_FRAMEWORK = {")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v('# "DEFAULT_AUTHENTICATION_CLASSES": ["app01.rf_auth.TokenAuth"],  # 全局认证')])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v('    # "DEFAULT_PERMISSION_CLASSES": ["app01.rf_permission.SVIPPermission"]  # 全局权限')])],1),e("div",[t._v("    'DEFAULT_PARSER_CLASSES': ['rest_framework.parsers.JSONParser']  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 全局解析器")])],1),e("div",[t._v("}")])]),e("div",[e("span",{staticStyle:{"font-family":'"Helvetica Neue"'}},[e("br")])])]),e("div",[e("br")]),e("div",[e("br")])])])])}),[],!1,null,null,null);r.default=o.exports}}]);