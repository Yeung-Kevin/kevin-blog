(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{375:function(e,o,t){"use strict";t.r(o);var r=t(25),n=Object(r.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("div",[t("span",[t("div",[t("span",{staticStyle:{"font-size":"12pt"}},[e._v("自关联: 外键字段所关联的字段是自身表里的某个字段")])]),t("div",[t("font",{staticStyle:{"font-size":"14pt"}},[t("br")])],1),t("div",[t("span",{staticStyle:{"font-size":"12pt"}},[e._v("在创建自关联的字段的时候，可以通过 self 代替自身的表的类名")])]),t("div",[t("span",{staticStyle:{"font-size":"18.6667px"}},[t("br")])]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[e._v("class Comment(models.Model):")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[e._v('"""')])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[e._v("    评论表")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[e._v('    """')])],1),t("div",[t("br")]),t("div",[e._v("    nid = models.AutoField(primary_key=True)")]),t("div",[e._v("    article = models.ForeignKey(to='Article', to_field='nid', verbose_name='评论文章')")]),t("div",[e._v("    user = models.ForeignKey(to='UserInfo', to_field='nid', verbose_name='评论者')")]),t("div",[e._v("    content = models.CharField(max_length=255, verbose_name='评论内容')")]),t("div",[e._v("    create_time = models.DateTimeField(auto_now_add=True, verbose_name='创建时间')")]),t("div",[t("br")]),t("div",[e._v("    parent_comment = models.ForeignKey(to='"),t("font",{attrs:{color:"#DE5700"}},[e._v("self")]),e._v("', null=True, verbose_name='自关联id', blank=True)")],1),t("div",[t("br")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[e._v(" # 等价于")])],1),t("div",[t("br")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[e._v(" # parent_comment = models.ForeignKey(to='")]),t("font",{attrs:{color:"#DE5700"}},[e._v("Comment")]),t("font",{attrs:{color:"#41AD1C"}},[e._v("', null=True, blank=True)")])],1)]),t("div",[t("br")]),t("div",[t("br")]),t("div",[t("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[e._v('在使用自关联外键字段查询数据之前（即: 正向查询，反向查询），要注意该数据对象是"多"的一方，还是"一"的一方，在博客项目中文章详情评论功能中有提及到')])])])])])}),[],!1,null,null,null);o.default=n.exports}}]);