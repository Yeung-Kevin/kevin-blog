(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{474:function(t,i,e){"use strict";e.r(i);var r=e(25),o=Object(r.a)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",[e("span",[e("div",[e("div",[e("div",[e("div",[e("div",[e("div",[e("div",[e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("Request对象")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("Flask中的request对象是通过导入使用的，而不是通过视图函数传参的方式")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, "),e("font",{attrs:{color:"#FA7A00"}},[t._v("request")])],1),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    print("),e("font",{attrs:{color:"#FA7A00"}},[t._v("request")]),t._v(".method)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# GET")])],1),e("div",[t._v("    return 'login'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")])]),e("ul",[e("li",[e("div",[t._v("request对象下的相关属性（即: 请求相关的信息）")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[t._v("request.method")]),e("div",[e("br")]),e("div",[t._v("request.args")]),e("div",[e("br")]),e("div",[t._v("request.json")]),e("div",[e("br")]),e("div",[t._v("request.form")]),e("div",[e("br")]),e("div",[t._v("request.values")]),e("div",[e("br")]),e("div",[t._v("request.cookies")]),e("div",[e("br")]),e("div",[t._v("request.headers")]),e("div",[e("br")]),e("div",[t._v("request.path")]),e("div",[e("br")]),e("div",[t._v("request.full_path")]),e("div",[e("br")]),e("div",[t._v("request.script_root")]),e("div",[e("br")]),e("div",[t._v("request.url")]),e("div",[e("br")]),e("div",[t._v("request.base_url")]),e("div",[e("br")]),e("div",[t._v("request.url_root")]),e("div",[e("br")]),e("div",[t._v("request.host_url")]),e("div",[e("br")]),e("div",[t._v("request.host")]),e("div",[e("br")]),e("div",[t._v("request.files")]),e("div",[t._v("obj = request.files['the_file_name']")]),e("div",[t._v("obj.save('/var/www/uploads/' + secure_filename(f.filename))")])]),e("div",[e("br")]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("响应体相关的操作")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("1.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt"}},[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("直接返回字符串或数字")])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("相当于 Django 中的 HttpResponse")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("将字符串或数字发送给浏览器")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),e("div",[e("font",{attrs:{color:"#000000"}},[e("br")])],1),e("div",[t._v("from flask import Flask, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    return "),e("font",{attrs:{color:"#FA7A00"}},[t._v("'login'")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("2.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt"}},[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("render_template")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("相当于 Django 中的 render")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("将指定的HTML文件内容发送给浏览器")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, request, "),e("font",{attrs:{color:"#FA7A00"}},[t._v("render_template")])],1),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    return "),e("font",{attrs:{color:"#FA7A00"}},[t._v("render_template('login.html')")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("将指定的数据传递给HTML模板")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("写法一")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, request, render_template")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    return render_template('login.html', "),e("font",{attrs:{color:"#FA7A00"}},[t._v("data1='数据一', data2='数据二'")]),t._v(")")],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("写法二")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, request, render_template")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    return render_template('login.html', "),e("font",{attrs:{color:"#FA7A00"}},[t._v("**{'data1': '数据一', 'data2': '数据二'}")]),t._v(")")],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("3. redirect")])]),e("div",[e("font",{staticStyle:{"font-size":"14pt"}},[e("br")])],1),e("ul",[e("li",[e("div",[t._v("相当于 Django 中的 redirect")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("网页重定向")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, request, "),e("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("redirect")])],1),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/baidu', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    return "),e("font",{attrs:{color:"#FA7A00"}},[t._v("redirect('/index') ")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 跳转到 index 页面")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[t._v("    return "),e("font",{attrs:{color:"#FA7A00"}},[t._v("redirect('https://www.baidu.com/') ")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 跳转到百度")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("4. jsonify")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("jsonify 和 Django 中的")]),t._v(" "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("JsonResponse 类似 ")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("jsonify 的作用生成一个Json格式的字符串，而不需要使用 json 模块去生成Json格式的字符串，直接使用")]),t._v(" "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("jsonify ")]),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("就可以了")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("jsonify 可以直接序列化所有 json 支持的数据格式")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),e("div",[e("br")]),e("div",[t._v("from flask import Flask, jsonify")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[e("br")]),e("div",[t._v("    dic = {'name': 'Kevin', 'age': 22}")]),e("div",[t._v("    arr = [1, 2, 3]")]),e("div",[t._v("    s = '字符串'")]),e("div",[t._v("    n = 10")]),e("div",[t._v("    b = True")]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v(" #")]),t._v(" return "),e("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("jsonify")]),t._v("(dic)")]),e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v(" #")]),t._v(" return "),e("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("jsonify")]),t._v("(arr)")]),e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("#")]),t._v(" return "),e("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("jsonify")]),t._v("(s)")]),e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v(" #")]),t._v(" return "),e("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("jsonify")]),t._v("(n)")]),e("div",[t._v("    return "),e("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("jsonify")]),t._v("(b)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("CBV 与 FBV")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("CBV ")]),e("span",{staticStyle:{"font-size":"14pt"}},[t._v("-> class base views")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("CBV的本质还是FBV")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("基于类编写的视图")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, "),e("font",{attrs:{color:"#FA7A00"}},[t._v("views")])],1),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class IndexView("),e("font",{attrs:{color:"#FA7A00"}},[t._v("views.MethodView")]),t._v("):")],1),e("div",[t._v("    methods = ['GET', 'POST']  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 允许xxx请求访问当前路由，默认 GET 请求")])],1),e("div",[e("br")]),e("div",[t._v("    def get(self, *args, **kwargs):")]),e("div",[t._v("        return 'index_get'")]),e("div",[e("br")]),e("div",[t._v("    def post(self, *args, **kwargs):")]),e("div",[t._v("        return 'post_get'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("app.add_url_rule(rule='/index', endpoint=None, view_func=IndexView"),e("font",{attrs:{color:"#FA7A00"}},[t._v(".as_view('index')")]),t._v(")  "),e("font",{attrs:{color:"#FF0000"}},[t._v("# .as_view() 方法必须接收一个名字，且这个名字就代表着 .as_view() 所返回的函数的函数名（即: 该名字类似于视图函数的函数名）")])],1),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("CBV接收url的参数")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, views")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class IndexView(views.MethodView):")]),e("div",[t._v("    methods = ['GET', 'POST']")]),e("div",[e("br")]),e("div",[t._v("    def get(self, "),e("font",{attrs:{color:"#FA7A00"}},[t._v("uid")]),t._v(", "),e("font",{attrs:{color:"#FA7A00"}},[t._v("pid")]),t._v("):")],1),e("div",[t._v("        print(uid, pid)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 3 2")])],1),e("div",[t._v("        return 'index_get'")]),e("div",[e("br")]),e("div",[t._v("    def post(self, "),e("font",{attrs:{color:"#FA7A00"}},[t._v("uid")]),t._v(", "),e("font",{attrs:{color:"#FA7A00"}},[t._v("pid")]),t._v("):")],1),e("div",[t._v("        print(uid, pid)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 3 2")])],1),e("div",[t._v("        return 'post_get'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("app.add_url_rule(rule='/index/"),e("font",{attrs:{color:"#FA7A00"}},[t._v("<int:uid>")]),t._v("/"),e("font",{attrs:{color:"#FA7A00"}},[t._v("<int:pid>")]),t._v("', endpoint=None, view_func=IndexView.as_view('index'))")],1),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("dispatch_request方法")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("dispatch_request方法 和 Django 中 CBV 的 dispatch 方法类似")])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("dispatch_request方法其实是CBV源码中用于根据不同的请求方式调用不同的方法（即: 如果是GET请求，那么就会执行你所创建的CBV中的处理get请求的方法）")])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("在执行CBV中处理请求的方法（即: 你所创建的CBV中的处理get/post请求的方法）之前都会先执行一次 dispatch_request 方法，因为dispatch_request方法的作用就是根据不同的请求方式调用不同的方法（即: 如果是GET请求，那么就会执行你所创建的CBV中的处理get请求的方法）")])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("注意: 如果在CBV中使用")]),e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("dispatch_request")]),e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("方法，那么一定要返回调用父类View中的")]),e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("dispatch_request")]),e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("方法的返回值")]),t._v("，除非自己实现请求方法的分发功能（即: 如果是GET请求，那么就会执行你所创建的CBV中的处理get请求的方法）")])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("使用场景:")])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("ul",[e("li",[e("div",[t._v("CBV处理请求的方法（即: 你所创建的CBV中的处理get/post请求的方法）中出现相同的操作时，可以将该相同的操作放到 dispatch_request 方法中执行")])])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask, views")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class IndexView(views.MethodView):")]),e("div",[t._v("    methods = ['GET', 'POST']")]),e("div",[e("br")]),e("div",[t._v("    def "),e("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("dispatch_request")]),t._v("(self, *args, **kwargs):")],1),e("div",[t._v("        print('执行 get方法 和 post方法 都有的操作')")]),e("div",[t._v("        return super(IndexView, self).dispatch_request(*args, **kwargs)  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 调用父类MethodView的dispatch_request方法，根据不同的请求方式调用不同方法（即: 如果是GET请求，那么就会执行下方get方法）")])],1),e("div",[e("font",{attrs:{color:"#FF0000"}},[t._v("# 一定要返回调用父类MethodView的dispatch_request方法的返回值")])],1),e("div",[e("br")]),e("div",[t._v("    def get(self, *args, **kwargs):")]),e("div",[t._v("        return 'index_get'")]),e("div",[e("br")]),e("div",[t._v("    def post(self, *args, **kwargs):")]),e("div",[t._v("        return 'post_get'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("app.add_url_rule(rule='/index', endpoint=None, view_func=IndexView.as_view('index'))")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("ul",[e("ul",[e("li",[e("div",[t._v("自己实现请求方法的分发功能（即: 如果是GET请求，那么就会执行你所创建的CBV中的处理get请求的方法），类似于中间件的功能")])])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, views, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class IndexView(views.MethodView):")]),e("div",[t._v("    methods = ['GET', 'POST']")]),e("div",[e("br")]),e("div",[t._v("    def "),e("font",{attrs:{color:"#FA7A00"}},[t._v("dispatch_request")]),t._v("(self, *args, **kwargs):")],1),e("div",[t._v("        if request.method == 'GET':")]),e("div",[t._v("            return self.get()")]),e("div",[t._v("        else:")]),e("div",[t._v("            return self.post()")]),e("div",[e("br")]),e("div",[t._v("    def get(self, *args, **kwargs):")]),e("div",[t._v("        return 'index_get'")]),e("div",[e("br")]),e("div",[t._v("    def post(self, *args, **kwargs):")]),e("div",[t._v("        return 'post_get'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("app.add_url_rule(rule='/index', endpoint=None, view_func=IndexView.as_view('index'))")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(227, 0, 0)","font-weight":"bold"}},[t._v("注意事项")]),e("span",{staticStyle:{color:"rgb(227, 0, 0)","font-weight":"bold"}},[t._v(": ")])])]),e("ul",[e("li",[e("div",[t._v("使用 CBV 时一定要使用 app.add_url_rule() 添加路有关系")])]),e("li",[e("div",[t._v("view_func 参数所接收的值一定要是函数（即: 视图类一定要调用 .as_view() 方法返回一个函数给 view_func 参数）")])]),e("li",[e("div",[t._v(".as_view() 方法必须接收一个名字，且这个名字就代表着 .as_view() 所返回的函数的函数名（即: 该名字类似于视图函数的函数名）")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[t._v("app.add_url_rule(rule='/index', endpoint=None, view_func=IndexView"),e("font",{attrs:{color:"#FA7A00"}},[t._v(".as_view('index')")]),t._v(")  "),e("font",{attrs:{color:"#E30000"}},[t._v("# .as_view() 方法必须接收一个名字，且这个名字就代表着 .as_view() 所返回的函数的函数名（即: 该名字类似于视图函数的函数名）")])],1)]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"white-space":"pre-wrap","font-size":"14pt","font-weight":"bold"}},[t._v("2.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("FBV")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt"}},[t._v("-> function base views")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("基于函数编写的视图")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("from flask import Flask")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index', methods=['GET', 'POST'])")]),e("div",[t._v("def index():")]),e("div",[t._v("    return 'index'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("获取请求的数据")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("request.method -> 获取使用了什么请求方式")])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),e("div",[e("br")]),e("div",[t._v("from flask import Flask, "),e("font",{attrs:{color:"#464646"}},[t._v("request")])],1),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[t._v("    print("),e("font",{attrs:{color:"#FA7A00"}},[t._v("request.method")]),t._v(")  "),e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# GET")])],1),e("div",[t._v("    return 'login'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("2.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("request.")]),e("span",{staticStyle:{"font-size":"14pt"}},[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("args ")])]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("-> ")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("获取 GE")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("T 请求的数据")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("通常我们访问一个网址就是使用了 GET 请求")])])])]),e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[e("br")])],1),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("获取 GET 请求的数据 -> ")]),t._v("request.args")])])]),e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[e("br")])],1),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("request.args")]),e("span",{staticStyle:{"font-size":"12pt"}},[t._v(" -> 返回值:")]),t._v(" ImmutableMultiDict([('name', 'Kevin'), ……])"),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("，如果没有值会返回一个空字典：")]),t._v("ImmutableMultiDict([]) "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("-> 类似于一个字典")])])])]),e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[e("br")])],1),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("注意: 从 request.")]),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("args")]),e("span",{staticStyle:{"font-size":"12pt"}}),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("中获取到的值都是字符串类型的")])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[e("br")]),e("div",[t._v("    get_data = "),e("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("request.args")])],1),e("div",[e("br")]),e("div",[t._v("    print(get_data)  "),e("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# ImmutableMultiDict([('name', 'Kevin'), ('password', '123')])  -> ImmutableMultiDict 本质上就是一个字典")])],1),e("div",[e("font",{staticStyle:{color:"rgb(65, 173, 28)"}}),e("font",{attrs:{color:"#FF0000"}},[t._v("# 使用 .get() 方法获取 GET 请求中指定的数据，防止没有该值而报错，因为 request.args 的返回值是字典，所以可以使用 .get() 方法，如果不懂可以看会字典中的 .get() 方法")])],1),e("div",[t._v("    print(get_data.get('name'))  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# Kevin")])],1),e("div",[t._v("    print(get_data.get('password')) "),e("font",{attrs:{color:"#41AD1C"}},[t._v(" # 123")])],1),e("div",[e("br")]),e("div",[t._v("    return 'login'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("3.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("request.form")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("-> ")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("获取 POST")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 请求的数据")])]),e("div",[e("br")]),e("div",[e("ul",[e("li",[e("div",[t._v("获取 POST 请求的数据 -> request.form")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("request.form 只能获取 "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("contentType=")]),t._v("application/x-www-form-urlencoded 发送过来的数据，不能获取 "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("contentType=")]),t._v("application/json 发送过来的数据")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("request.form 什么时候有值:")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("以 application/x-www-form-urlencoded 编码格式发送过来的数据，那么 request.form 中是有值的")])]),e("li",[e("div",[t._v("以 application/json 编码格式发送过来的数据，那么 request.form 中是没有值的，只能在 request.json 中获取")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("reques")]),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("t.")]),t._v("form "),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("-")]),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("> ")]),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("返回值:")]),t._v(" ImmutableMultiDict([('name', 'Kevin'), ……])"),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("，如果没有值会返回一个空字典：")]),t._v("ImmutableMultiDict([]) "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("-> 类似于一个字典")])])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("注意: 从 request.form 中获取到的值都是字符串类型的")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),e("div",[e("br")]),e("div",[t._v("from flask import Flask, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[e("br")]),e("div",[t._v("    post_data = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("request.form")])],1),e("div",[e("br")]),e("div",[t._v("    print(post_data)  "),e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# ImmutableMultiDict([('name', 'Kevin'), ('password', '123')])  -> ImmutableMultiDict 本质上就是一个字典")])]),e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}}),e("font",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("# 使用 .get() 方法获取 POST 请求中指定的数据，防止没有该值而报错，因为 request.form 的返回值是字典，所以可以使用 .get() 方法，如果不懂可以看会字典中的 .get() 方法")])],1),e("div",[t._v("    print(post_data.get('name'))  "),e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# Kevin")])]),e("div",[t._v("    print(post_data.get('password')) "),e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v(" # 123")])]),e("div",[e("br")]),e("div",[t._v("    return 'login'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("4.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("request.json")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("-> ")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("获取 POST")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 请求的数据")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("获取 POST 请求的数据 -> request.json")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("request.json 只能获取 "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("contentType=")]),t._v("application/json 发送过来的数据")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("reques")]),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("t.json")]),t._v(" "),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("-")]),e("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("> ")]),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("返回值:")]),t._v(" 字典 {'name': 'Kevin', 'password': '123'}"),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("，如果没有值会返回一个空字典 或 None")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, request")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login', methods=['GET', 'POST'])")]),e("div",[t._v("def login():")]),e("div",[e("br")]),e("div",[t._v("    json_data = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("request.json")])],1),e("div",[e("br")]),e("div",[t._v("    print(json_data)  "),e("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# {'name': 'Kevin', 'password': '123'}")])],1),e("div",[e("font",{attrs:{color:"#FF0000"}},[t._v("# 使用 .get() 方法获取 POST 请求中指定的数据，防止没有该值而报错，因为 request.json 的返回值是字典，所以可以使用 .get() 方法，如果不懂可以看会字典中的 .get() 方法")])],1),e("div",[t._v("    print(json_data.get('name'))  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# Kevin")])],1),e("div",[t._v("    print(json_data.get('password'))  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 123")])],1),e("div",[t._v("    return 'login'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])])]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("make_response 响应")])]),e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[e("br")])],1),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("make_response 一般用于设置 cookie、响应头 或 状态码")])])])]),e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[e("br")])],1),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("response 是 flask.wrappers.Response 类型")])])])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("设置响应头")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, jsonify, make_response")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[e("br")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v(" #")]),t._v(" response = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("make_response")]),t._v("('index')  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("#")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("创建响应对象 -> 返回的类型是字符串或数字")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("  #")]),t._v(" response = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("make_response")]),t._v("(render_template('index.html'))  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("#")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("创建响应对象 -> 返回的类型是页面")])],1),e("div",[t._v("    response = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("make_response")]),t._v("(jsonify({'name': 'Kevin', 'age': 22}))  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("#")]),t._v(" "),e("font",{attrs:{color:"#41AD1C"}},[t._v("创建响应对象 -> 返回的类型是JSON字符串")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("    response."),e("font",{attrs:{color:"#FA7A00"}},[t._v("headers")]),t._v("['header_key'] = '123'  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置响应头")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[e("br")])],1),e("div",[t._v("    return response")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Flask/视图_files/Image.png",type:"image/png"}})]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("2.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("设置 cookie")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, make_response")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[t._v("    response = make_response(render_template('index.html'))")]),e("div",[t._v("    response."),e("font",{attrs:{color:"#FA7A00"}},[t._v("set_cookie")]),t._v("('c_key', 'c_value')  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置 cookie")])],1),e("div",[t._v("    return response")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("3.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("删除 cookie")])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# app.py")])]),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, make_response")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[t._v("    response = make_response(render_template('index.html'))")]),e("div",[t._v("    response."),e("font",{attrs:{color:"#FA7A00"}},[t._v("delete_cookie")]),t._v("('c_key')  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 删除 cookie")])],1),e("div",[t._v("    return response")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("4.")]),t._v(" "),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("设置状态码")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("写法一")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("在make_response()中传入状态码")])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, make_response")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[t._v("    response = make_response(render_template('index.html'), "),e("font",{attrs:{color:"#FA7A00"}},[t._v("400")]),t._v(")")],1),e("div",[t._v("    return response")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("写法二")])])])]),e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[e("br")])],1),e("ul",[e("ul",[e("li",[e("div",[e("span",{staticStyle:{"font-size":"12pt"}},[t._v("直接return状态码")])])])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, make_response")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[t._v("    response = make_response(render_template('index.html'))")]),e("div",[t._v("    return response, "),e("font",{attrs:{color:"#FA7A00"}},[t._v("400")])],1),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")])]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("给视图添加装饰器")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("1.")]),e("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("使用装饰器装饰 FBV")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("注意事项")]),t._v(": ")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("自己编写的装饰器一定要使用 wraps 装饰器修复技术")])])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("ul",[e("li",[e("div",[t._v("说明: 因为当函数使用了装饰器，那么该函数的信息默认就会指向装饰器中的 inner 函数，当在 Flask 中使用自己编写的装饰器的时候，路由中的 endpoint 参数的值就会等于装饰器中 inner 函数名，当多个视图函数使用了同一个装饰器的时候就会报错，因为 endpoint 参数的值不能重复（即: 视图函数名不能重复）")])])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("ul",[e("li",[e("div",[t._v("报错信息: "),e("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Flask/视图_files/Image [1].png",type:"image/png"}})])])])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[e("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[t._v("装饰器一定要写在路由装饰器的下面")])])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("import time")]),e("div",[t._v("from flask import Flask, render_template")]),e("div",[t._v("from functools import wraps")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("def "),e("font",{attrs:{color:"#FA7A00"}},[t._v("time_wrapper")]),t._v("(fn):")],1),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("@wraps(fn)")])],1),e("div",[t._v("    def inner(*args, **kwargs):")]),e("div",[t._v("        start_time = time.time()")]),e("div",[t._v("        ret = fn(*args, **kwargs)")]),e("div",[t._v("        end_time = time.time()")]),e("div",[t._v('        print("used:", end_time - start_time)')]),e("div",[t._v("        return ret")]),e("div",[e("br")]),e("div",[t._v("    return inner")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("@time_wrapper")])],1),e("div",[t._v("def index():")]),e("div",[t._v("    return render_template('index.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/login')")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("@time_wrapper")])],1),e("div",[t._v("def login():")]),e("div",[t._v("    return render_template('login.html')")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("2.")]),e("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("使用装饰器装饰 CBV")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e("br")])]),e("ul",[e("li",[e("div",[e("font",{staticStyle:{"font-size":"12pt"}},[t._v("批量添加装饰器（即: 视图类下的视图方法都会装饰上指定的某几个装饰器）")])],1)])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, views")]),e("div",[t._v("from functools import wraps")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("def wrapper(fn):")]),e("div",[t._v("    @wraps(fn)")]),e("div",[t._v("    def inner(*args, **kwargs):")]),e("div",[t._v("        print('前')")]),e("div",[t._v("        ret = fn(*args, **kwargs)")]),e("div",[t._v("        print('后')")]),e("div",[t._v("        return ret")]),e("div",[e("br")]),e("div",[t._v("    return inner")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class IndexView(views.MethodView):")]),e("div",[t._v("    methods = ['GET', 'POST']")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("decorators")]),t._v(" = [wrapper]  "),e("font",{attrs:{color:"#41AD1C"}},[t._v("# 批量添加装饰器（即: 给每一个视图方法添加装饰器）")])],1),e("div",[e("br")]),e("div",[t._v("    def get(self, *args, **kwargs):")]),e("div",[t._v("        return 'index_get'")]),e("div",[e("br")]),e("div",[t._v("    def post(self, *args, **kwargs):")]),e("div",[t._v("        return 'post_get'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("app.add_url_rule(rule='/index', endpoint=None, view_func=IndexView.as_view('index'))")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("局部添加装饰器（即: 给指定的某一个视图方法添加装饰器）")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, views")]),e("div",[t._v("from functools import wraps")]),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("def "),e("font",{attrs:{color:"#FA7A00"}},[t._v("wrapper")]),t._v("(fn):")],1),e("div",[t._v("    @wraps(fn)")]),e("div",[t._v("    def inner(*args, **kwargs):")]),e("div",[t._v("        print('前')")]),e("div",[t._v("        ret = fn(*args, **kwargs)")]),e("div",[t._v("        print('后')")]),e("div",[t._v("        return ret")]),e("div",[e("br")]),e("div",[t._v("    return inner")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("class IndexView(views.MethodView):")]),e("div",[t._v("    methods = ['GET', 'POST']")]),e("div",[e("br")]),e("div",[e("font",{attrs:{color:"#FA7A00"}},[t._v("@wrapper")])],1),e("div",[t._v("    def get(self, *args, **kwargs):")]),e("div",[t._v("        return 'index_get'")]),e("div",[e("br")]),e("div",[t._v("    def post(self, *args, **kwargs):")]),e("div",[t._v("        return 'post_get'")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("app.add_url_rule(rule='/index', endpoint=None, view_func=IndexView.as_view('index'))")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")]),e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("其他")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" mark_safe -> 不对html标签进行转义")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("Markup 相当于 Django 中的 "),e("span",{staticStyle:{"font-size":"12pt"}},[t._v("mark_safe")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),e("div",[e("br")]),e("div",[t._v("from flask import Flask, render_template, "),e("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("Markup")])],1),e("div",[e("br")]),e("div",[t._v("app = Flask(__name__)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("@app.route('/index')")]),e("div",[t._v("def index():")]),e("div",[t._v("    a = "),e("font",{attrs:{color:"#FA7A00"}},[t._v("Markup")]),t._v("('<a href=\"https://www.baidu.com\">百度</a>')")],1),e("div",[t._v("    return render_template('index.html', a=a)")]),e("div",[e("br")]),e("div",[e("br")]),e("div",[t._v("if __name__ == '__main__':")]),e("div",[t._v("    app.run()")])]),e("div",[e("br")])]),e("div",[e("br")])])])])}),[],!1,null,null,null);i.default=o.exports}}]);