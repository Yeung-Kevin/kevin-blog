(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{418:function(t,i,e){"use strict";e.r(i);var o=e(25),a=Object(o.a)({},(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",[e("span",[e("div",[e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[t._v("约定俗成: 一般用户上传的文件、图片、视频等都会存放在media文件夹下")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap"}},[e("br")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("1.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" media 多媒体文件的配置")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("在根目录下创建media文件夹")])])]),e("div",[e("br")]),e("div",[e("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Django/media 多媒体文件的配置_files/Image.png",type:"image/png"}})]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("在 settings.py 配置文件中做相应的配置")])])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{staticStyle:{"font-size":"9pt"},attrs:{color:"#41AD1C"}},[t._v("# settings.py")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("MEDIA_ROOT = os.path.join(BASE_DIR, 'media')")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[e("br")])],1),e("div",[e("font",{staticStyle:{"font-size":"9pt"}},[t._v("MEDIA_URL = '/media/'")])],1)]),e("div",[e("br")]),e("ul",[e("li",[e("div",[t._v("注意: ")])])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[t._v("当配置了 media 多媒体文件夹后，用户所上传的图片或文件都会默认保存在 media 文件夹下")])]),e("li",[e("div",[t._v("当配置了 media 多媒体文件夹后，FileField 或 IntegerField 字段类中 upload_to 参数所设置的文件夹默认会在 media 文件夹下创建")])]),e("li",[e("div",[t._v("当配置了 media 多媒体文件夹后，FileField 或 IntegerField 字段类中 upload_to 参数如果为空，那么用户所上传的文件默认会保存在 media 文件夹下")])])])]),e("div",[e("br")]),e("div",[e("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Django/media 多媒体文件的配置_files/Image [1].png",type:"image/png"}})]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# models.py")])],1),e("div",[e("br")]),e("div",[t._v("class UserInfo(AbstractUser):")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("# upload_to: 文件夹路径，如果没有会自动创建，用于保存上传文件")])],1),e("div",[t._v("    avatar = models.FileField(upload_to='avatars/', default=\"avatars/default.png\")  "),e("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# 如果配置 media 多媒体文件夹，那么 upload_to 参数所设置的文件夹默认会在 media 文件夹下创建")])],1)]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[t._v("2.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v(" 通过网址直接访问media多媒体文件夹里面文件")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[t._v("在一般情况下，media 多媒体文件不能像静态文件那样直接通过网址就可以访问了，而是需要在 urls.py 中进行配置才能通过网址进行访问")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[t._v("from django.views.static import serve")]),e("div",[t._v("from django.conf import settings")]),e("div",[e("br")]),e("div",[t._v("urlpatterns = [")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("……")])],1),e("div",[e("br")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[t._v("    # media 配置")])],1),e("div",[t._v("    url(r'^media/(?P<path>.*)$', serve, {'document_root': settings.MEDIA_ROOT}),")]),e("div",[t._v("]")])]),e("div",[e("br")])]),e("div",[e("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Django/media 多媒体文件的配置_files/Image [2].png",type:"image/png"}})]),e("div",[e("br")])])])])}),[],!1,null,null,null);i.default=a.exports}}]);