(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{373:function(o,r,i){"use strict";i.r(r);var e=i(25),d=Object(e.a)({},(function(){var o=this,r=o.$createElement,i=o._self._c||r;return i("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[i("div",[i("span",[i("div",[i("div",[i("ul",[i("li",[i("div",[o._v("表结构")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 书")])],1),i("div",[o._v("class Book(models.Model):")]),i("div",[o._v("    title = models.CharField(max_length=32)")]),i("div",[o._v("    publish_date = models.DateField(auto_now_add=True)")]),i("div",[o._v("    price = models.DecimalField(max_digits=5, decimal_places=2)")]),i("div",[o._v("    memo = models.TextField(null=True)")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建外键，关联publish")])],1),i("div",[o._v('    publisher = models.ForeignKey(to="Publisher")')]),i("div",[i("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v(" # 创建多对多关联author")])],1),i("div",[o._v('    author = models.ManyToManyField(to="Author")')]),i("div",[i("br")]),i("div",[o._v("    def __str__(self):")]),i("div",[o._v("        return self.title")]),i("div",[i("br")]),i("div",[i("br")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 出版社")])],1),i("div",[o._v("class Publisher(models.Model):")]),i("div",[o._v("    name = models.CharField(max_length=32)")]),i("div",[o._v("    city = models.CharField(max_length=32)")]),i("div",[i("br")]),i("div",[o._v("    def __str__(self):")]),i("div",[o._v("        return self.name")]),i("div",[i("br")]),i("div",[i("br")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 作者")])],1),i("div",[o._v("class Author(models.Model):")]),i("div",[o._v("    name = models.CharField(max_length=32)")]),i("div",[o._v("    age = models.IntegerField()")]),i("div",[o._v("    phone = models.CharField(max_length=11)")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建一对一关联authorDetail")])],1),i("div",[o._v('    detail = models.OneToOneField(to="AuthorDetail")')]),i("div",[i("br")]),i("div",[o._v("    def __str__(self):")]),i("div",[o._v("        return self.name")]),i("div",[i("br")]),i("div",[i("br")]),i("div",[i("font",{attrs:{color:"#41AD1C"}},[o._v("# 作者详情")])],1),i("div",[o._v("class AuthorDetail(models.Model):")]),i("div",[o._v("    addr = models.CharField(max_length=64)")]),i("div",[o._v("    email = models.EmailField()")])]),i("div",[i("br")]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v('查找所有书名里包含"西"的书')])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("book = Book.objects.filter(title__contains='西')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找出版日期是2017年的书")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("book = Book.objects.filter(publish_date__year=2017)")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找出版日期是2017年的书名")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("book = Book.objects.filter(publish_date__year=2017).values('title')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找价格大于10元的书")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("book = Book.objects.filter(price__gt=10)")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找价格大于10元的书名和价格")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("book = Book.objects.filter(price__gt=10).values('title', 'price')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找memo字段是空的书")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("book = Book.objects.filter(memo__isnull=True)")])]),i("div",[i("br")])]),i("ul",[i("li",[i("div",[o._v("查找在东莞的出版社")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("publisher = Publisher.objects.filter(city='东莞')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找名字以'东'开头的出版社")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("publisher = Publisher.objects.filter(city__startswith='东')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找作者名字里面带“小”字的作者")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author = Author.objects.filter(name__contains='小')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找年龄大于30岁的作者")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author = Author.objects.filter(age__gt=30)")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找手机号是130开头的作者")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author = Author.objects.filter(phone__startswith='130')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找手机号是130开头的作者的姓名和年龄")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author = Author.objects.filter(phone__startswith='130').values('name', 'phone')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找书名是“番茄物语”的书的出版社")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("publisher_obj = Book.objects.get(title='西游记').publisher")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找书名是“番茄物语”的书的出版社所在的城市")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("publisher_city = Book.objects.get(title='西游记').publisher.city")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找书名是“番茄物语”的书的出版社的名称")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("publisher_name = Book.objects.get(title='西游记').publisher.name")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找书名是“西游记”的书的所有作者")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("authors_list = Book.objects.get(title='西游记').author.all()")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找书名是“西游记”的书的作者的年龄和手机号码")])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("写法一")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author_list = Book.objects.get(title='西游记').author.all()")]),i("div",[i("br")]),i("div",[o._v("for author in author_list:")]),i("div",[o._v("    print(author.name, author.age, author.phone)")])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("写法二")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author_list = Book.objects.filter(title='西游记').values('author__name', 'author__age', 'author__phone')")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[o._v("查找书名是“西游记”的书的作者的年龄和手机号码和作者详情id -> "),i("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("跨多张表进行查询")])])])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("写法一")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author_list = Book.objects.get(title='西游记').author.all()")]),i("div",[i("br")]),i("div",[o._v("for author in author_list:")]),i("div",[o._v("    print(author.name, author.detail_id, author.age, author.phone)")])]),i("div",[i("br")]),i("ul",[i("ul",[i("li",[i("div",[o._v("写法二")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[o._v("author_list = Book.objects.filter(title='西游记').values('author__name', 'author__detail_id', 'author__detail__addr', 'author__detail__email')")])]),i("div",[i("br")]),i("div",[i("br")])]),i("div",[i("br")])])])])}),[],!1,null,null,null);r.default=d.exports}}]);