(window.webpackJsonp=window.webpackJsonp||[]).push([[278],{635:function(t,i,o){"use strict";o.r(i);var n=o(25),r=Object(n.a)({},(function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("div",[o("span",[o("div",[o("span",{staticStyle:{"letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[o("font",{staticStyle:{"font-size":"14pt"}},[o("span",{staticStyle:{"font-size":"14pt",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("使得线程等待，只有满足某条件时，才执行num个线程")])])],1)]),o("div",[o("span",{staticStyle:{"font-size":"14pt"}},[o("br")])]),o("div",[o("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("条件 = 递归锁 + wait 功能")])]),o("div",[o("br")]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[t._v("import threading")]),o("div",[o("br")]),o("div",[t._v("con = threading.Condition()  # 条件对象")]),o("div",[t._v("con.wait()  # 线程在这里等待着")]),o("div",[t._v("con.acquire()  # 上锁")]),o("div",[t._v("con.release()  # 解锁")]),o("div",[t._v("con.notify(5)  # 发送信号给 wait 允许5个线程执行")]),o("div",[t._v("con.notify_all() # 发送信号给 wait 允许全部线程执行")])]),o("div",[o("br")]),o("div",[o("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-family":'"Courier New"',"font-weight":"bold","line-height":"1.75"}},[t._v("1.")]),t._v(" "),o("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("手动释放线程的个数例子")])]),o("div",[o("span",{staticStyle:{"font-size":"14pt"}},[o("br")])]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[t._v("import threading")]),o("div",[o("br")]),o("div",[o("br")]),o("div",[t._v("def run(n):")]),o("div",[t._v("    con.acquire()")]),o("div",[t._v("    con.wait() "),o("font",{attrs:{color:"#E30000"}},[t._v(" # 线程在这里等待着")])],1),o("div",[t._v('    print("执行了线程: %s" % n)')]),o("div",[t._v("    con.release()")]),o("div",[o("br")]),o("div",[o("br")]),o("div",[t._v("con = threading.Condition()  "),o("font",{attrs:{color:"#41AD1C"}},[t._v("# 条件 = 递归锁 + wait 功能")])],1),o("div",[t._v("for i in range(10):")]),o("div",[t._v("    t = threading.Thread(target=run, args=(i,))")]),o("div",[t._v("    t.start()")]),o("div",[o("br")]),o("div",[t._v("while True:")]),o("div",[t._v("    inp = input('>>>')")]),o("div",[t._v("    if inp == 'q':")]),o("div",[t._v("        break")]),o("div",[t._v("    con.acquire()")]),o("div",[t._v("    if inp == 'all':")]),o("div",[t._v("        con.notify_all() "),o("font",{attrs:{color:"#E30000"}},[t._v("# 发送信号给 wait 允许全部线程执行")])],1),o("div",[t._v("    else:")]),o("div",[t._v("        con.notify(int(inp))  "),o("font",{attrs:{color:"#E30000"}},[t._v("# notify(5) -> 发送信号给 wait 允许5个线程执行")])],1),o("div",[t._v("    con.release()")])]),o("div",[o("br")])])])])}),[],!1,null,null,null);i.default=r.exports}}]);