(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{422:function(e,t,a){"use strict";a.r(t);var i=a(25),v=Object(i.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("div",[a("span",[a("div",[a("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[a("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[e._v("自定义分页基础版")])]),a("div",[a("br")]),a("div",[a("a",{attrs:{href:"/kevin-blog/Django/自定义分页_files/basic_paging.rar"}},[a("img",{attrs:{alt:"basic_paging.rar",src:"/kevin-blog/Django/自定义分页_files/821a738c87b1466afd2072f7e1831c36.png"}})])]),a("div",[a("br")]),a("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[a("div",[a("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# views.py")])]),a("div",[a("br")]),a("div",[e._v("import copy")]),a("div",[e._v("from django.shortcuts import render, redirect, HttpResponse, reverse")]),a("div",[e._v("from .models import *")]),a("div",[a("br")]),a("div",[a("br")]),a("div",[e._v("def employee_list(request):")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 从URL取参数")])],1),a("div",[e._v('    page_num = request.GET.get("page")')]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 总数据是多少")])],1),a("div",[e._v("    total_count = Employee.objects.all().count()")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 每一页显示多少条数据")])],1),a("div",[e._v("    per_page = 10")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 总共需要多少页码来展示")])],1),a("div",[e._v("    total_page, m = divmod(total_count, per_page)")]),a("div",[e._v("    if m:")]),a("div",[e._v("        total_page += 1")]),a("div",[e._v("    try:")]),a("div",[e._v("        page_num = int(page_num)")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果输入的页码数超过了最大的页码数，默认返回最后一页")])],1),a("div",[e._v("        if page_num > total_page:")]),a("div",[e._v("            page_num = total_page")]),a("div",[e._v("    except Exception as e:")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 当输入的页码不是正经数字的时候 默认返回第一页的数据")])],1),a("div",[e._v("        page_num = 1")]),a("div",[a("br")]),a("div",[e._v("    if page_num < 1:")]),a("div",[e._v("        page_num = 1")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 定义两个变量保存数据从哪儿取到哪儿")])],1),a("div",[e._v("    data_start = (page_num - 1) * per_page")]),a("div",[e._v("    data_end = page_num * per_page")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v(" # 页面上总共展示多少页码")])],1),a("div",[e._v("    max_page = 11")]),a("div",[e._v("    if total_page < max_page:")]),a("div",[e._v("        max_page = total_page")]),a("div",[a("br")]),a("div",[e._v("    half_max_page = max_page // 2")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 页面上展示的页码从哪儿开始")])],1),a("div",[e._v("    page_start = page_num - half_max_page")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 页面上展示的页码到哪儿结束")])],1),a("div",[e._v("    page_end = page_num + half_max_page")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果当前页减一半 比1还小")])],1),a("div",[e._v("    if page_start <= 1:")]),a("div",[e._v("        page_start = 1")]),a("div",[e._v("        page_end = max_page")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果 当前页 加 一半 比总页码数还大")])],1),a("div",[e._v("    if page_end >= total_page:")]),a("div",[e._v("        page_end = total_page")]),a("div",[e._v("        page_start = total_page - max_page + 1")]),a("div",[a("br")]),a("div",[e._v("    employees = Employee.objects.all()[data_start:data_end]")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 自己拼接分页的HTML代码")])],1),a("div",[e._v("    html_str_list = []")]),a("div",[a("br")]),a("div",[e._v("    request_get_data = copy.deepcopy(request.GET)  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 因为无法直接对 request.GET 的返回值 <QueryDict: {}> 进行修改所以需要拷贝一份出来")])],1),a("div",[a("br")]),a("div",[e._v("    request_get_data['page'] = 1")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加上第一页")])],1),a("div",[e._v("    html_str_list.append('<li><a href=\"/employee_list/?{}\">首页</a></li>'.format(request_get_data.urlencode()))")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 判断一下 如果是第一页，就没有上一页")])],1),a("div",[e._v("    if page_num <= 1:")]),a("div",[e._v('        html_str_list.append(\'<li class="disabled"><a href="#"><span aria-hidden="true">&laquo;</span></a></li>\')')]),a("div",[e._v("    else:")]),a("div",[e._v("        request_get_data['page'] = page_num - 1")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加一个上一页的标签")])],1),a("div",[e._v('        html_str_list.append(\'<li><a href="/employee_list/?{}"><span aria-hidden="true">&laquo;</span></a></li>\'.format(request_get_data.urlencode()))')]),a("div",[a("br")]),a("div",[e._v("    for i in range(page_start, page_end + 1):")]),a("div",[e._v("        request_get_data['page'] = i")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果是当前页就加一个active样式类")])],1),a("div",[e._v("        if i == page_num:")]),a("div",[e._v('            tmp = \'<li class="active"><a href="/employee_list/?{}">{}</a></li>\'.format(request_get_data.urlencode(), i)')]),a("div",[e._v("        else:")]),a("div",[e._v("            tmp = '<li><a href=\"/employee_list/?{}\">{}</a></li>'.format(request_get_data.urlencode(), i)")]),a("div",[a("br")]),a("div",[e._v("        html_str_list.append(tmp)")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加一个下一页的按钮")])],1),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("    # 判断，如果是最后一页，就没有下一页")])],1),a("div",[e._v("    if page_num >= total_page:")]),a("div",[e._v('        html_str_list.append(\'<li class="disabled"><a href="#"><span aria-hidden="true">&raquo;</span></a></li>\')')]),a("div",[e._v("    else:")]),a("div",[e._v("        request_get_data['page'] = page_num + 1")]),a("div",[e._v('        html_str_list.append(\'<li><a href="/employee_list/?{}"><span aria-hidden="true">&raquo;</span></a></li>\'.format(request_get_data.urlencode()))')]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加最后一页")])],1),a("div",[e._v("    request_get_data['page'] = total_page")]),a("div",[e._v("    html_str_list.append('<li><a href=\"/employee_list/?{}\">尾页</a></li>'.format(request_get_data.urlencode()))")]),a("div",[a("br")]),a("div",[e._v('    page_html = "".join(html_str_list)')]),a("div",[a("br")]),a("div",[e._v('    return render(request, \'employee_list.html\', {"employees": employees, "page_html": page_html})')])]),a("div",[a("br")]),a("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[a("div",[a("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# employee_list.html")])]),a("div",[a("br")]),a("div",[e._v("<!DOCTYPE html>")]),a("div",[e._v("<html>")]),a("div",[e._v("<head>")]),a("div",[e._v('    <meta charset="utf-8">')]),a("div",[e._v('    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">')]),a("div",[e._v("    <title>Title</title>")]),a("div",[e._v('    <meta name="description" content="">')]),a("div",[e._v('    <meta name="keywords" content="">')]),a("div",[e._v("    {% load static %}")]),a("div",[e._v("    <link rel=\"stylesheet\" href='{% static 'bootstrap/css/bootstrap.min.css' %}'>")]),a("div",[e._v("</head>")]),a("div",[e._v("<body>")]),a("div",[e._v('<div class="container">')]),a("div",[e._v('    <table class="table table-bordered">')]),a("div",[e._v("        <thead>")]),a("div",[e._v("        <tr>")]),a("div",[e._v("            <th>序号</th>")]),a("div",[e._v("            <th>作者名称</th>")]),a("div",[e._v("            <th>年龄</th>")]),a("div",[e._v("            <th>薪资</th>")]),a("div",[e._v("            <th>省份</th>")]),a("div",[e._v("        </tr>")]),a("div",[e._v("        </thead>")]),a("div",[e._v("        <tbody>")]),a("div",[e._v("        {% for employee in employees %}")]),a("div",[e._v("            <tr>")]),a("div",[e._v("                <td>"+e._s("{{ forloop.counter }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.name }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.age }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.salary }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.province }}")+"</td>")]),a("div",[e._v("            </tr>")]),a("div",[e._v("        {% endfor %}")]),a("div",[e._v("        </tbody>")]),a("div",[e._v("    </table>")]),a("div",[a("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("\x3c!-- 分液器 --\x3e")])]),a("div",[e._v('    <ul class="pagination">')]),a("div",[e._v("        "+e._s("{{ page_html|safe }}"))]),a("div",[e._v("    </ul>")]),a("div",[e._v("</div>")]),a("div",[e._v("</body>")]),a("div",[e._v("</html>")])]),a("div",[a("br")]),a("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[a("span",{staticStyle:{"font-size":"21px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[e._v("封装过后的分页")])]),a("div",[a("br")]),a("ul",[a("li",[a("div",[e._v("封装过后的好处，不同的视图函数都可以使用封装好的分页")])])]),a("div",[a("br")]),a("ul",[a("li",[a("div",[e._v("单独的封装过后的分页模块的py文件")])])]),a("div",[a("br")]),a("div",[a("a",{attrs:{href:"/kevin-blog/Django/自定义分页_files/utils.rar"}},[a("img",{attrs:{alt:"utils.rar",src:"/kevin-blog/Django/自定义分页_files/a34f84943c6ec683c68d1aee51b0cc8c.png"}})])]),a("div",[a("br")]),a("ul",[a("li",[a("div",[e._v("封装过后的分页例子")])])]),a("div",[a("br")]),a("div",[a("a",{attrs:{href:"/kevin-blog/Django/自定义分页_files/paging_project.rar"}},[a("img",{attrs:{alt:"paging_project.rar",src:"/kevin-blog/Django/自定义分页_files/7f64c0e6b30a58a4f85c4bc2de8c0c41.png"}})])]),a("div",[a("br")]),a("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# utils/mypage.py")])],1),a("div",[a("span",{staticStyle:{"font-size":"9pt",color:"rgb(51, 51, 51)","font-family":"Monaco"}},[a("br")])]),a("div",[e._v("import copy")]),a("div",[a("br")]),a("div",[a("br")]),a("div",[e._v("class Page():")]),a("div",[a("br")]),a("div",[e._v("    def __init__(self, page_num, total_count, request_get_data, url_prefix, per_page=10, max_page=11):")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v(' """')])],1),a("div",[a("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("        :param page_num: 当前页码数")])],1),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("        :param total_count: 数据总数")])],1),a("div",[a("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("        :param request_get_data: GET请求中的参数")])],1),a("div",[a("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("        :param url_prefix: a标签href的前缀")])],1),a("div",[a("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("        :param per_page: 每页显示多少条数据")])],1),a("div",[a("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("        :param max_page: 页面上最多显示几个页码")])],1),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v('        """')])],1),a("div",[e._v("        self.request_get_data = copy.deepcopy(request_get_data)  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 因为无法直接对 request.GET 的返回值 <QueryDict: {}> 进行修改所以需要拷贝一份出来")])],1),a("div",[e._v("        self.url_prefix = url_prefix")]),a("div",[e._v("        self.max_page = max_page")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v(" # 计算总页码数")])],1),a("div",[e._v("        total_page, m = divmod(total_count, per_page)")]),a("div",[e._v("        if m:")]),a("div",[e._v("            total_page += 1")]),a("div",[e._v("        self.total_page = total_page")]),a("div",[a("br")]),a("div",[e._v("        try:")]),a("div",[e._v("            page_num = int(page_num)")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果输入的页码数超过了最大的页码数，默认返回最后一页")])],1),a("div",[e._v("            if page_num > total_page:")]),a("div",[e._v("                page_num = total_page")]),a("div",[e._v("        except Exception as e:")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 当输入的页码不是正经数字的时候 默认返回第一页的数据")])],1),a("div",[e._v("            page_num = 1")]),a("div",[a("br")]),a("div",[e._v("        if page_num < 1:")]),a("div",[e._v("            page_num = 1")]),a("div",[a("br")]),a("div",[e._v("        self.page_num = page_num")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v(" # 定义两个变量保存数据从哪儿取到哪儿")])],1),a("div",[e._v("        self.data_start = (page_num - 1) * per_page")]),a("div",[e._v("        self.data_end = page_num * per_page")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 页面上总共展示多少页码")])],1),a("div",[e._v("        if total_page < self.max_page:")]),a("div",[e._v("            self.max_page = total_page")]),a("div",[a("br")]),a("div",[e._v("        half_max_page = self.max_page // 2")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 页面上展示的页码从哪儿开始")])],1),a("div",[e._v("        page_start = page_num - half_max_page")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 页面上展示的页码到哪儿结束")])],1),a("div",[e._v("        page_end = page_num + half_max_page")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果当前页减一半比1还小的情况")])],1),a("div",[e._v("        if page_start <= 1:")]),a("div",[e._v("            page_start = 1")]),a("div",[e._v("            page_end = self.max_page")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果 当前页加一半比总页码数还大的情况")])],1),a("div",[e._v("        if page_end >= total_page:")]),a("div",[e._v("            page_end = total_page")]),a("div",[e._v("            page_start = total_page - self.max_page + 1")]),a("div",[e._v("        self.page_start = page_start")]),a("div",[e._v("        self.page_end = page_end")]),a("div",[a("br")]),a("div",[e._v("    @property")]),a("div",[e._v("    def start(self):")]),a("div",[e._v("        return self.data_start")]),a("div",[a("br")]),a("div",[e._v("    @property")]),a("div",[e._v("    def end(self):")]),a("div",[e._v("        return self.data_end")]),a("div",[a("br")]),a("div",[e._v("    def page_html(self):")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v(" # 自己拼接分页的HTML代码")])],1),a("div",[e._v("        html_str_list = []")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v(" # 加上第一页")])],1),a("div",[e._v("        self.request_get_data['page'] = 1")]),a("div",[e._v("        html_str_list.append('<li><a href=\"{}?{}\">首页</a></li>'.format(self.url_prefix, self.request_get_data.urlencode()))  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# .urlencode() 将字段转化成encode编码格式的字符串（即：a=1&b=2&c=3）")])],1),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 判断一下 如果是第一页，就没有上一页")])],1),a("div",[e._v("        if self.page_num <= 1:")]),a("div",[e._v('            html_str_list.append(\'<li class="disabled"><a href="#"><span aria-hidden="true">&laquo;</span></a></li>\')')]),a("div",[e._v("        else:")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加一个上一页的标签")])],1),a("div",[e._v("            self.request_get_data['page'] = self.page_num - 1")]),a("div",[e._v('            html_str_list.append(\'<li><a href="{}?{}"><span aria-hidden="true">&laquo;</span></a></li>\'.format(self.url_prefix, self.request_get_data.urlencode()))')]),a("div",[a("br")]),a("div",[e._v("        for i in range(self.page_start, self.page_end + 1):")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果是当前页就加一个active样式类")])],1),a("div",[e._v("            self.request_get_data['page'] = i")]),a("div",[e._v("            if i == self.page_num:")]),a("div",[e._v('                tmp = \'<li class="active"><a href="{}?{}">{}</a></li>\'.format(self.url_prefix, self.request_get_data.urlencode(), i)')]),a("div",[e._v("            else:")]),a("div",[e._v("                tmp = '<li><a href=\"{}?{}\">{}</a></li>'.format(self.url_prefix, self.request_get_data.urlencode(), i)")]),a("div",[a("br")]),a("div",[e._v("            html_str_list.append(tmp)")]),a("div",[a("br")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加一个下一页的按钮")])],1),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("        # 判断，如果是最后一页，就没有下一页")])],1),a("div",[e._v("        if self.page_num >= self.total_page:")]),a("div",[e._v('            html_str_list.append(\'<li class="disabled"><a href="#"><span aria-hidden="true">&raquo;</span></a></li>\')')]),a("div",[e._v("        else:")]),a("div",[e._v("            self.request_get_data['page'] = self.page_num + 1")]),a("div",[e._v('            html_str_list.append(\'<li><a href="{}?{}"><span aria-hidden="true">&raquo;</span></a></li>\'.format(self.url_prefix, self.request_get_data.urlencode()))')]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 加最后一页")])],1),a("div",[e._v("        self.request_get_data['page'] = self.total_page")]),a("div",[e._v("        html_str_list.append('<li><a href=\"{}?{}\">尾页</a></li>'.format(self.url_prefix, self.request_get_data.urlencode()))")]),a("div",[a("br")]),a("div",[e._v('        page_html = "".join(html_str_list)')]),a("div",[e._v("        return page_html")])]),a("div",[a("br")]),a("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[a("div",[a("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# views.py")])],1),a("div",[a("br")]),a("div",[e._v("from django.shortcuts import render, redirect, HttpResponse, reverse")]),a("div",[e._v("from .models import *")]),a("div",[e._v("from utils.mypage import Page  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 导入封装好的分页模块")])],1),a("div",[a("br")]),a("div",[a("br")]),a("div",[e._v("def employee_list(request):")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# 分页的使用")])],1),a("div",[e._v("    total_count = Employee.objects.all().count()  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 获取查询到的数据的总数，.count() 方法比len(Employee.objects.all())更高效")])],1),a("div",[e._v('    page_num = request.GET.get("page")  '),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 获取当前页数")])],1),a("div",[e._v('    page_obj = Page(page_num, total_count, request_get_data=request.GET, per_page=10, url_prefix="/employee_list/", max_page=9)')]),a("div",[e._v("    ret_data = Employee.objects.all()[page_obj.start:page_obj.end]  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 获取指定页数的数据，先查询全部数据然后再进行切片")])],1),a("div",[e._v("    page_html = page_obj.page_html()  "),a("font",{attrs:{color:"#41AD1C"}},[e._v("# 获取分页的html")])],1),a("div",[a("br")]),a("div",[e._v("    return render(request, 'employee_list.html', {'employees': ret_data, 'page_html': page_html})")])]),a("div",[a("br")]),a("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("# employee_list.html")])],1),a("div",[a("br")]),a("div",[e._v("<!DOCTYPE html>")]),a("div",[e._v("<html>")]),a("div",[e._v("<head>")]),a("div",[e._v('    <meta charset="utf-8">')]),a("div",[e._v('    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">')]),a("div",[e._v("    <title>Title</title>")]),a("div",[e._v('    <meta name="description" content="">')]),a("div",[e._v('    <meta name="keywords" content="">')]),a("div",[e._v("    {% load static %}")]),a("div",[e._v("    <link rel=\"stylesheet\" href='{% static 'bootstrap/css/bootstrap.min.css' %}'>")]),a("div",[e._v("</head>")]),a("div",[e._v("<body>")]),a("div",[e._v('<div class="container">')]),a("div",[e._v('    <table class="table table-bordered">')]),a("div",[e._v("        <thead>")]),a("div",[e._v("        <tr>")]),a("div",[e._v("            <th>序号</th>")]),a("div",[e._v("            <th>作者名称</th>")]),a("div",[e._v("            <th>年龄</th>")]),a("div",[e._v("            <th>薪资</th>")]),a("div",[e._v("            <th>省份</th>")]),a("div",[e._v("        </tr>")]),a("div",[e._v("        </thead>")]),a("div",[e._v("        <tbody>")]),a("div",[e._v("        {% for employee in employees %}")]),a("div",[e._v("            <tr>")]),a("div",[e._v("                <td>"+e._s("{{ forloop.counter }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.name }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.age }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.salary }}")+"</td>")]),a("div",[e._v("                <td>"+e._s("{{ employee.province }}")+"</td>")]),a("div",[e._v("            </tr>")]),a("div",[e._v("        {% endfor %}")]),a("div",[e._v("        </tbody>")]),a("div",[e._v("    </table>")]),a("div",[a("font",{attrs:{color:"#41AD1C"}},[e._v("\x3c!-- 分液器 --\x3e")])],1),a("div",[e._v('    <ul class="pagination">')]),a("div",[e._v("        "+e._s("{{ page_html|safe }}"))]),a("div",[e._v("    </ul>")]),a("div",[e._v("</div>")]),a("div",[e._v("</body>")]),a("div",[e._v("</html>")])]),a("div",[a("br")]),a("div",[a("br")]),a("div",[a("br")])]),a("div",[a("br")])])])])}),[],!1,null,null,null);t.default=v.exports}}]);