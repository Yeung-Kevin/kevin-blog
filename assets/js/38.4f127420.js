(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{392:function(o,r,t){"use strict";t.r(r);var i=t(25),e=Object(i.a)({},(function(){var o=this,r=o.$createElement,t=o._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[t("div",[t("span",[t("div",[t("div",[t("span",{staticStyle:{"font-family":'"Helvetica Neue"'}},[t("br")])]),t("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[t("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("注册url的新方法")])]),t("div",[t("br")]),t("ul",[t("li",[t("div",[t("span",{staticStyle:{"font-size":"12pt"}},[o._v("rest-framework 提供了新的url注册方法")])])])]),t("div",[t("br")]),t("ul",[t("li",[t("div",[t("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("使用前提: 视图类必须继承 ModelViewSet（即: 必须使用视图四部曲中的终极版）")])])])]),t("div",[t("br")]),t("ul",[t("li",[t("div",[t("span",{staticStyle:{"font-size":"12pt"}},[o._v("rest-framework 的url注册方法会在原本的两条url基础上在添加多两条url")])])])]),t("div",[t("br")]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# urls.py")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[t("br")])],1),t("div",[o._v("from django.conf.urls import url, include")]),t("div",[o._v("from django.contrib import admin")]),t("div",[o._v("from app01.views import *")]),t("div",[t("br")]),t("div",[o._v("from rest_framework import "),t("font",{attrs:{color:"#FA7A00"}},[o._v("routers")])],1),t("div",[t("br")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# 实例化默认路由对象")])],1),t("div",[o._v("router = routers.DefaultRouter()")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# 注册路由:")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}}),t("font",{attrs:{color:"#FA7A00"}},[o._v("# 默认路由对象.register('url前缀', 视图类)")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("    # url前缀是一个字符串，而不是一个url正则路径")])],1),t("div",[o._v("router.register(r'book', BookViewSet)")]),t("div",[o._v("router.register(r'publish', PublishViewSet)")]),t("div",[t("br")]),t("div",[o._v("urlpatterns = [")]),t("div",[t("font",{attrs:{color:"#FA7A00"}},[o._v("url(r'', include(router.urls))")]),o._v(",  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 注册路由")])],1),t("div",[o._v("    url(r'login', LoginView.as_view()),")]),t("div",[o._v("]")])]),t("div",[t("br")]),t("ul",[t("li",[t("div",[o._v("所生成的url正则路径")])])]),t("div",[t("br")]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[o._v("^book/$ [name='book-list']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 平时我们使用的操作或查看所有数据的url")])],1),t("div",[o._v("^book\\.(?P<format>[a-z0-9]+)/?$ [name='book-list']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# rest-framework 新增的")])],1),t("div",[o._v("^book/(?P<pk>[^/.]+)/$ [name='book-detail']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 平时我们使用的操作或查看指定数据的url")])],1),t("div",[o._v("^book/(?P<pk>[^/.]+)\\.(?P<format>[a-z0-9]+)/?$ [name='book-detail']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# rest-framework 新增的")])],1),t("div",[t("br")]),t("div",[o._v("^publish/$ [name='publish-list']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 平时我们使用的操作或查看所有数据的url")])],1),t("div",[o._v("^publish\\.(?P<format>[a-z0-9]+)/?$ [name='publish-list']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# rest-framework 新增的")])],1),t("div",[o._v("^publish/(?P<pk>[^/.]+)/$ [name='publish-detail']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 平时我们使用的操作或查看指定数据的url")])],1),t("div",[o._v("^publish/(?P<pk>[^/.]+)\\.(?P<format>[a-z0-9]+)/?$ [name='publish-detail']  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# rest-framework 新增的")])],1)]),t("div",[t("br")]),t("ul",[t("li",[t("div",[o._v("所生成url路径")])])]),t("div",[t("br")]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[o._v("http://127.0.0.1:8000/book/")]),t("div",[o._v("http://127.0.0.1:8000/book.json")]),t("div",[o._v("http://127.0.0.1:8000/book/2/")]),t("div",[o._v("http://127.0.0.1:8000/book/2.json")]),t("div",[t("br")]),t("div",[o._v("http://127.0.0.1:8000/publish/")]),t("div",[o._v("http://127.0.0.1:8000/publish.json")]),t("div",[o._v("http://127.0.0.1:8000/publish/1/")]),t("div",[o._v("http://127.0.0.1:8000/publish/1.json")]),t("div",[t("br")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[t("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco"}},[o._v("# 在url正则路径中没有，但是 ")]),o._v("rest-framework 默认添加上的url路径")])],1),t("div",[t("br")]),t("div",[o._v("http://127.0.0.1:8000/book/?format=api")]),t("div",[o._v("http://127.0.0.1:8000/book/?format=json")]),t("div",[t("br")]),t("div",[o._v("http://127.0.0.1:8000/book/2/?format=api")]),t("div",[o._v("http://127.0.0.1:8000/book/2/?format=json")])]),t("div",[t("br")])]),t("div",[t("br")]),t("div",[t("br")]),t("div",[t("br")])])])])}),[],!1,null,null,null);r.default=e.exports}}]);