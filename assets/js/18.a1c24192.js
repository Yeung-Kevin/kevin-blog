(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{371:function(o,t,e){"use strict";e.r(t);var r=e(25),i=Object(r.a)({},(function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[e("div",[e("span",[e("div",[e("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[e("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("执行自定义的SQL语句")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("1.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v(" extra")])]),e("div",[e("span",{staticStyle:{"font-size":"14pt"}},[e("br")])]),e("ul",[e("li",[e("div",[o._v("有点类似于子查询")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[o._v("select 查询 -> 在 QuerySet 下的每一个对象添加对应的查询结果")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[o._v("book_list = Book.objects.all().extra(")]),e("div",[o._v("    select={")]),e("div",[o._v("        '"),e("font",{attrs:{color:"#FA7A00"}},[o._v("is_meets")]),o._v("': 'price > 60',")],1),e("div",[o._v("        '"),e("font",{attrs:{color:"#FA7A00"}},[o._v("date_archive")]),o._v("': 'date_format(publish_date, \"%%Y-%%m\")'")],1),e("div",[o._v("    }")]),e("div",[o._v(")")]),e("div",[e("br")]),e("div",[e("font",{attrs:{color:"#41AD1C"}},[o._v("'''")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[o._v("    查询结果:")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[o._v("    {'")]),e("font",{attrs:{color:"#FA7A00"}},[o._v("is_meets")]),e("font",{attrs:{color:"#41AD1C"}},[o._v("': 1, '")]),e("font",{attrs:{color:"#FA7A00"}},[o._v("date_archive")]),e("font",{attrs:{color:"#41AD1C"}},[o._v("': '2019-05', 'price': Decimal('100.00'), 'title': '西游记', 'memo': None, 'id': 1, 'publish_date': datetime.date(2019, 5, 24)}")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[o._v("    {'")]),e("font",{attrs:{color:"#FA7A00"}},[o._v("is_meets")]),e("font",{attrs:{color:"#41AD1C"}},[o._v("': 0, '")]),e("font",{attrs:{color:"#FA7A00"}},[o._v("date_archive")]),e("font",{attrs:{color:"#41AD1C"}},[o._v("': '2019-05', 'price': Decimal('50.00'), 'title': '红楼梦', 'memo': '说明', 'id': 2, 'publish_date': datetime.date(2019, 5, 27)}")])],1),e("div",[e("font",{attrs:{color:"#41AD1C"}},[o._v("'''")])],1)]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[o._v("select_params -> 在 select 查询中传递参数")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[o._v("book_list = Book.objects.all().extra(")]),e("div",[o._v("    select={")]),e("div",[o._v("        'is_meets': 'price > \"%s\"',")]),e("div",[o._v("        'date_archive': 'date_format(publish_date, \"%%Y-%%m\")'")]),e("div",[o._v("    },")]),e("div",[o._v("    select_params=[60]")]),e("div",[o._v(")")])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[o._v("where 条件查询 -> 查询出符合条件的数据")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[o._v("book_list = Book.objects.all().extra(")]),e("div",[o._v("    where=['price >= 60']")]),e("div",[o._v(")")])]),e("div",[e("br")]),e("ul",[e("ul",[e("li",[e("div",[o._v("params -> 在 where 查询中传递参数")])])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[o._v("book_list = Book.objects.all().extra(")]),e("div",[o._v("    where=['price >= \"%s\"'],")]),e("div",[o._v("    params=[60, ]")]),e("div",[o._v(")")])]),e("div",[e("br")]),e("div",[e("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("2.")]),e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}}),e("span",{staticStyle:{"font-size":"14pt"}},[e("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("connection")])])]),e("div",[e("br")]),e("ul",[e("li",[e("div",[o._v("和PyMySQL模块类似")])])]),e("div",[e("br")]),e("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[e("div",[o._v("from django.db import connection")]),e("div",[o._v("cursor = connection.cursor()  "),e("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# cursor = connections['default'].cursor()")])]),e("div",[o._v("cursor.execute('SELECT * from app01_student where id = %s', [1])")]),e("div",[o._v("ret = cursor.fetchone()")])]),e("div",[e("br")]),e("div")]),e("div",[e("br")])])])])}),[],!1,null,null,null);t.default=i.exports}}]);