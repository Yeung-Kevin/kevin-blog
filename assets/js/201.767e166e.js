(window.webpackJsonp=window.webpackJsonp||[]).push([[201],{562:function(o,i,r){"use strict";r.r(i);var e=r(25),t=Object(e.a)({},(function(){var o=this,i=o.$createElement,r=o._self._c||i;return r("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("div",[r("div",[r("div",[r("div",[r("div",[r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[o._v("Redis所有方法: ")]),o._v(" "),r("a",{staticStyle:{"font-size":"14pt"},attrs:{href:"https://www.cnblogs.com/wupeiqi/articles/5132791.html"}},[o._v("https://www.cnblogs.com/wupeiqi/articles/5132791.html")])]),r("div",[r("br")]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("Redis的安装")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("1.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Redis 的下载")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("下载网址")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("https://github.com/microsoftarchive/redis/releases")])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image.png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("2.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Redis 的安装")])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [1].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [2].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [3].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [4].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [5].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("3.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("启动 Redis ")]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("服务端软件")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("服务端软件的作用: 解析客户端发送过来的指令对内存中写入或读取缓存数据")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("找到 Redis 的安装目录然后执行 redis-server.exe 启动 Redis")])])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [6].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("4.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Redis 的客户端软件 -> redis-cli.exe")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("客户端软件的作用: 向服务端发送指令，从而对缓存数据进行操作")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("redis-cli.exe 用于设置缓存")])])])]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [7].png",type:"image/png"}})]),r("div",[r("br")]),r("div",[r("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Python/Redis 缓存_files/Image [8].png",type:"image/png"}})]),r("div",[r("br")]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("Redis的介绍")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("1.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("为什么要使用缓存")])]),r("div",[r("br")]),r("div",[o._v("在Django中，当用户请求到达视图后，视图会先从数据库提取数据放到模板中进行动态渲染，渲染后的结果就是用户看到的网页。如果用户每次请求都从数据库提取数据并渲染，将极大降低性能，不仅服务器压力大，而且客户端也无法即时获得响应。如果能将渲染后的结果放到速度更快的缓存中，每次有请求过来，先检查缓存中是否有对应的资源，如果有，直接从缓存中取出来返回响应，节省取数据和渲染的时间，不仅能大大提高系统性能，还能提高用户体验")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("2.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Redis 的介绍")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[r("span",{staticStyle:{"font-size":"12pt",color:"rgb(255, 0, 0)"}},[o._v("Redis 就是一个软件 和 Mysql 类似，都是用于存储数据")])])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v("Redis 是一个非关系型数据库（即: 以键值对的形式存储数据）")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v("Redis 所存储的都是字符串，不能储存数字（就算在开发的时候value所填写的是数字，那么 redis 模块也会将数字转换为字符串再进行存储）")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v("Redis 可以被多台机器连接，然后操作缓存中的数据（和Mysql一样可以被别的机器连接）")])])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("3.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Redis 和 MySQL 的区别")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("MySQL是一个软件，帮助开发者对一台机器的")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(250, 122, 0)"}},[o._v("硬盘")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("进行操作")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("Redis是一个软件，")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("帮助开发者对一台机器的")]),r("span",{staticStyle:{"font-size":"12pt",color:"rgb(250, 122, 0)"}},[o._v("内存")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("进行操作")])])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("4.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("使用 Redis 的好处")])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("速度快，提高效率，因为 Redis 的数据是存放在内存中的，而Mysql是存放在磁盘中的（因为使用Mysql的时候，需用进行打开读写操作，所以要比 Redis 直接从内存中获取数据要慢）")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("支持丰富的数据类型: string（字符串），list（列表），set（集合），sorted set（有序集合），hash（字典）")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("支持事务，操作都是原子性，所谓的原子性就是对数据的更改要么全部执行，要么全部不执行")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("丰富的特性：可用于缓存，消息，按key设置过期时间，过期后将会自动删除")])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("5.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("使用 Redis 的缺点")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("服务器一旦崩溃，储存在内存中的缓存数据就会没有")])])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("6.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Redis 相比 Memcached有哪些优势")])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("(Memcached的说明: Memcached 的功能和 ")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"12pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("redis 是一样的，用于缓存数据")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v(")")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("Memcached 所有的值均是简单的字符串，redis作为其替代者，支持更为丰富的数据类型")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("redis的速度比Memcached快很多")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("redis可以持久化其数据 -> 将数据保存到磁盘上")])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("7.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("redis 和 Memcached 的区别")])]),r("div",[r("font",{staticStyle:{"font-size":"12pt"}},[r("br")])],1),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("存储方式")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("Memecache 把数据全部存在内存之中，断电后会全部丢失，数据不能超过内存大小")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("Redis有部份存在硬盘上，这样能保证数据的持久性")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("数据类型")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("Memecache 只支持简单的字符串")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("Redis 支持丰富的数据类型: string（字符串），list（列表），set（集合），sorted set（有序集合），hash（字典）")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("存储空间的大小")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("Memecache 最大只有 1M")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("Redis 最大可以达到 1G")])])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("8.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("redis 的使用场景")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("通俗理解: 临时状态，且频繁修改状态，如: 购物车")])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("会话缓存（")]),o._v("Session Cache"),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("最常用的一种使用Redis的情景是会话缓存（session cache）。用Redis缓存会话比其他存储（如Memcached）的优势在于：Redis提供持久化。当维护一个不是严格要求一致性的缓存时，如果用户的购物车信息全部丢失，大部分人都会不高兴的，现在，他们还会这样吗？幸运的是，随着 Redis 这些年的改进，很容易找到怎么恰当的使用Redis来缓存会话的文档。甚至广为人知的商业平台Magento也提供Redis的插件")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("全页缓存（FPC）")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("除基本的会话token之外，Redis还提供很简便的FPC平台。回到一致性问题，即使重启了Redis实例，因为有磁盘的持久化，用户也不会看到页面加载速度的下降，这是一个极大改进，类似PHP本地FPC。再次以Magento为例，Magento提供一个插件来使用Redis作为全页缓存后端。此外，对WordPress的用户来说，Pantheon有一个非常好的插件 wp-redis，这个插件能帮助你以最快速度加载你曾浏览过的页面。")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("队列")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("Reids在内存存储引擎领域的一大优点是提供 list 和 set 操作，这使得Redis能作为一个很好的消息队列平台来使用。Redis作为队列使用的操作，就类似于本地程序语言（如Python）对 list 的 push/pop 操作")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("如果你快速的在Google中搜索“Redis queues”，你马上就能找到大量的开源项目，这些项目的目的就是利用Redis创建非常好的后端工具，以满足各种队列需求。例如，Celery有一个后台就是使用Redis作为broker，你可以从这里去查看")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("排行榜/计数器")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("Redis在内存中对数字进行递增或递减的操作实现的非常好。集合（Set）和有序集合（Sorted Set）也使得我们在执行这些操作的时候变的非常简单，Redis只是正好提供了这两种数据结构。所以，我们要从排序集合中获取到排名最靠前的10个用户–我们称之为“user_scores”，我们只需要像下面一样执行即可:")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当然，这是假定你是根据你用户的分数做递增的排序。如果你想返回用户及用户的分数，你需要这样执行:")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("ZRANGE user_scores 0 10 WITHSCORES")])]),r("li",[r("div",[o._v("Agora Games就是一个很好的例子，用Ruby实现的，它的排行榜就是使用Redis来存储数据的，你可以在这里看到")])])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("发布/订阅")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("发布/订阅的使用场景确实非常多。我已看见人们在社交网络连接中使用，还可作为基于发布/订阅的脚本触发器，甚至用Redis的发布/订阅功能来建立聊天系统！（不，这是真的，你可以去核实）")])])])]),r("div",[r("br")]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("Python 安装 Redis")])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("pip3 install redis -i https://pypi.douban.com/simple  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用豆瓣的镜像")])],1)]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("安装 redis 最好同时安装上 hiredis")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hiredis 的作用: 提升 redis 的使用性能")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("如果已经安装了hiredis模块，redis 默认会尝试使用HiredisParser，否则会使用PythonParser")])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("pip3 install hiredis -i https://pypi.douban.com/simple  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用豆瓣的镜像")])],1)]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("连接 Redis Server")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("1.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("方式一")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("redis.Redis(host='ip地址', port=端口号, password='密码')")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("如果 host 和 port 不传，默认使用本地的ip和端口")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("如果没有密码可以不用填写 password 参数")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 固定写法")])],1),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("r = redis.Redis(host='"),r("font",{attrs:{color:"#FA7A00"}},[o._v("ip地址")]),o._v("', port="),r("font",{attrs:{color:"#FA7A00"}},[o._v("端口号")]),r("font",{attrs:{color:"#464646"}},[o._v(",")]),r("font",{attrs:{color:"#FA7A00"}}),o._v("password='"),r("font",{attrs:{color:"#FA7A00"}},[o._v("密码")]),o._v("') ")],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# ")]),o._v("r = redis.Redis()  "),r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 如果 host 和 port 不传，默认使用本地的ip和端口")])],1),r("div",[r("br")]),r("div",[r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 使用 r 对象操作缓存中的数据")])],1)]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("r = redis.Redis(host='10.211.55.4', port=6379, password='123')")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" r = redis.Redis()  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 如果 host 和 port 不传，默认使用本地的ip和端口")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 使用 r 对象操作缓存中的数据")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("decode_responses 参数")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数默认值 Flase")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数 -> 是否自动进行解码，因为从缓存中获取到的值是 Bytes 类型的需要手动进行解码，当 "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("decode_responses=True 的时候，在获取缓存中的值的时候会自动进行解码")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("r = redis.Redis(host='10.211.55.4', port=6379, password='123', "),r("font",{attrs:{color:"#FA7A00"}},[o._v("decode_responses")]),o._v("=True)")],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" r = redis.Redis("),r("font",{attrs:{color:"#FA7A00"}},[o._v("decode_responses")]),o._v("=True)")],1)]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("2.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("方式二")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("连接池 -> 推荐使用")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("连接池: 避免每次建立、释放连接的开销。默认，每个Redis实例都会维护一个自己的连接池。可以直接建立一个连接池，然后作为参数Redis，这样就可以实现多个Redis实例共享一个连接池")])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v("注意: 连接池只创建一次，使用模块的单例模式方式创建连接池，避免在导入模块的时候重复创建连接池，如果每一次使用redis都创建一个连接池，那么性能就会和方式一一样")])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("固定写法")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# redis_pool.py")])],1),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建连接池")])],1),r("div",[o._v("POOL = redis.ConnectionPool(host='"),r("font",{attrs:{color:"#FA7A00"}},[o._v("ip地址")]),o._v("', port="),r("font",{attrs:{color:"#FA7A00"}},[o._v("端口号")]),o._v(", password='"),r("font",{attrs:{color:"#FA7A00"}},[o._v("密码")]),o._v("', max_connections="),r("font",{attrs:{color:"#FA7A00"}},[o._v("最大连接数")]),o._v(") "),r("font",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v(" # 注意: 连接池只创建一次，使用模块的单例模式方式创建连接池，避免在导入模块的时候重复创建连接池")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# ")]),o._v("POOL = redis.ConnectionPool()  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 如果 host 和 port 不传，默认使用本地的ip和端口")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("                                 # ")]),r("font",{attrs:{color:"#41AD1C"}},[o._v("如果没有密码可以不用填写 password 参数")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("                                 # 如果 max_connections 不传，默认使用redis连接池的最大连接数")])],1)]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx.py")])],1),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[o._v("from redis_pool import POOL")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 去连接池中获取连接")])],1),r("div",[o._v("r = redis.Redis(connection_pool=POOL)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用 r 对象操作缓存中的数据")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("实例")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# redis_pool.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建连接池")])],1),r("div",[o._v("POOL = redis.ConnectionPool(host='10.211.55.4', port=6379, password='123', max_connections=1000)  "),r("font",{attrs:{color:"#FF0000"}},[o._v("# 注意: 连接池只创建一次，使用模块的单例模式方式创建连接池，避免在导入模块的时候重复创建连接池")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" POOL = redis.ConnectionPool()  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 如果 host 和 port 不传，默认使用本地的ip和端口")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("span"),r("span"),r("span"),r("span"),r("span"),r("span"),r("span"),r("span")]),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 如果没有密码可以不用填写 password 参数")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("                                 # 如果 max_connections 不传，默认使用redis连接池的最大连接数")])],1)]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx.py")])],1),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[o._v("from redis_pool import POOL")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 去连接池中获取连接")])],1),r("div",[o._v("r = redis.Redis(connection_pool=POOL)")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用 r 对象操作缓存中的数据")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("decode_responses 参数")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数默认值 Flase")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数 -> 是否自动进行解码，因为从缓存中获取到的值是 Bytes 类型的需要手动进行解码，当 "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("decode_responses=True 的时候，在获取缓存中的值的时候会自动进行解码")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# redis_pool.py")])]),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 创建连接池")])]),r("div",[o._v("POOL = redis.ConnectionPool(host='10.211.55.4', port=6379, password='123', max_connections=1000, "),r("font",{attrs:{color:"#FA7A00"}},[o._v("decode_responses")]),o._v("=True)  "),r("span",{staticStyle:{color:"rgb(255, 0, 0)"}},[o._v("# 注意: 连接池只创建一次，使用模块的单例模式方式创建连接池，避免在导入模块的时候重复创建连接池")])],1),r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("#")]),o._v(" POOL = redis.ConnectionPool("),r("font",{attrs:{color:"#FA7A00"}},[o._v("decode_responses")]),o._v("=True)")],1)]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# xxx.py")])]),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[o._v("from redis_pool import POOL")]),r("div",[r("span",{staticStyle:{"font-size":"9pt",color:"rgb(51, 51, 51)","font-family":"Monaco"}},[r("br")])]),r("div",[o._v("r = redis.Redis(connection_pool=POOL)")])]),r("div",[r("br")]),r("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[o._v("Redis 的使用")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)","font-weight":"bold"}},[o._v("注意: 连接池一定要使用模块的单例模式方式创建，否则性能方面和上面的方式一的性能是一样的，这里只是为了方便才写在一块的")])]),r("div",[r("font",{staticStyle:{"font-size":"14pt"}},[r("br")])],1),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 日常开发的时候连接池一定要使用模块的单例模式方式创建，在这里只是为了方便笔记才写在一块的")])],1),r("div",[r("br")]),r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("1.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("String（字符串）类型的操作")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"未标题-1.png",src:"/kevin-blog/Python/Redis 缓存_files/未标题-1.png",type:"image/png",width:"426"}})]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("set(name, value, ex=None, px=None, nx=False, xx=False)")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("添加或修改缓存（包含过期时间）")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要缓存的字符串类型的值")])]),r("li",[r("div",[o._v("ex: 过期时间（秒）")])]),r("li",[r("div",[o._v("px: 过期时间（毫秒）")])]),r("li",[r("div",[o._v("nx: 如果值为 True，当 name 不存在的时候，当前set操作才会执行")])]),r("li",[r("div",[o._v("xx: 如果值为 True，当 name 存在的时候，当前set操作才会执行")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("set")]),o._v("(name='username', value='Kevin', ex=5)")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("setnx(name, value) ")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("添加"),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("缓存（不包含过期时间）")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("只有 name 不存在时，才添加 "),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("value 等于字符串类型的缓存")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("setnx")]),o._v("(name='username', value='Kevin')")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("setex(name, value, time)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("添加或修改过期时间单位为秒的缓存")]),r("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("（包含过期时间）")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要缓存的字符串类型的值")])]),r("li",[r("div",[o._v("time: 过期时间（数字秒 或 timedelta对象）")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("setex")]),o._v("(name='username', value='Kevin', time=5)")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("psetex(name, time_ms, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("添加或修改")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("过期时间单位为毫秒")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("缓存")]),r("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("（包含过期时间）")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要缓存的字符串类型的值")])]),r("li",[r("div",[o._v("time_ms: 过期时间（数字毫秒 或 timedelta对象）")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("psetex")]),o._v("(name='username', value='Kevin', time_ms=5000)")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("mset(mapping)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("批量设置"),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("缓存")]),r("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("（")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("不包含过期时间")]),r("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("）")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("mapping: 字典，如：{'k1':'v1', 'k2': 'v2'}")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("mset")]),o._v("({'k1': 'v1', 'k2': 'v2'})")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("msetnx(mapping)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("批量设置"),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("缓存")]),r("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("（")]),r("span",{staticStyle:{"font-size":"12pt"}},[o._v("不包含过期时间")]),r("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("），如果该缓存存在则不进行添加")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("mapping: 字典，如：{'k1':'v1', 'k2': 'v2'}")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("msetnx")]),o._v("({'k1': 'v3', 'k2': 'v4'})")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("get(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取缓存中的值，且 value 的类型为 String（字符串）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当 decode_responses=False/decode_responses参数没有设置 的时候获取到的值是 bytes 类型")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool()")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("username = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("get")]),o._v("('username')")],1),r("div",[r("br")]),r("div",[o._v("print(username)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# b'Kevin'")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当 decode_responses=True 的时候获取到的值是经过解码后的值（即: 字符串类型）")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool("),r("font",{attrs:{color:"#FA7A00"}},[o._v("decode_responses=True")]),o._v(")")],1),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("username = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("get")]),o._v("('username')")],1),r("div",[r("br")]),r("div",[o._v("print(username)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# Kevin")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("mget(keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("批量获取缓存中的值，且 value 的类型为 String（字符串）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r_value_list = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("mget")]),o._v("(['k1', 'k2'])")],1),r("div",[r("br")]),r("div",[o._v("print(r_value_list)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['v1', 'v2']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r_value_list = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("mget")]),o._v("('k1', 'k2')")],1),r("div",[r("br")]),r("div",[o._v("print(r_value_list) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # ['v1', 'v2']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("getset(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("设置新值并返回原来的值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("old_value = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("getset")]),o._v("(name='username', value='Yeung')")],1),r("div",[r("br")]),r("div",[o._v("print(old_value)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# Kevin")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("getrange(key, start, end)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("切片")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("key: 缓存中key的名字")])]),r("li",[r("div",[o._v("start: 切片起始值")])]),r("li",[r("div",[o._v("end: 切片结束值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("result = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("getrange")]),o._v("(key='username', start=0, end=1)")],1),r("div",[r("br")]),r("div",[o._v("print(result)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: Kevin，切片后得到的值: Ke")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("setrange(name, offset, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("修改字符串内容，从指定字符串索引开始向后替换（新值太长时，则向后添加）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数: ")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("offset: 字符串的索引，字节（一个汉字3个字节）")])]),r("li",[r("div",[o._v("value: 需要插入的值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("setrange")]),o._v("(name='username', offset=2, value='_插入的值_')")],1),r("div",[r("br")]),r("div",[o._v("print(r.get('username'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: Kevin，插值后: Ke_插入的值_")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("strlen(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回name对应缓存的值的字节长度（一个汉字3个字节）")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("english_length = r.strlen('username')")]),r("div",[o._v("print(english_length)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: Kevin，长度: 5")])],1),r("div",[r("br")]),r("div",[o._v("chinese_length = r.strlen('chinese')")]),r("div",[o._v("print(chinese_length)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: 中文，长度: 6")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("incr(name, amount)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("整数自增，当name不存在时，则创建name＝amount，否则，进行整数自增")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("需要自增的value必须是整数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数: ")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("amount: 每次自增的数量（即: 每次添加的数量），必须是整数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("incr")]),o._v("(name='age', amount=2)")],1),r("div",[r("br")]),r("div",[o._v("print(r.get('age'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: 1，自增后的值: 3")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("incrbyfloat(name, amount)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("浮点数自增，当name不存在时，则创建name＝amount，否则，进行浮点数自增")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("需要自增的value可以是整数或浮点数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("amount: 每次自增的数量（即: 每次添加的数量），可以是整数或浮点数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("incrbyfloat")]),o._v("(name='age', amount=2.5)")],1),r("div",[r("br")]),r("div",[o._v("print(r.get('age'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: 1，自增后的值: 3.5")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("decr(name, amount=1)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("整数自减，当name不存在时，则创建name＝amount，否则，进行整数自减")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("需要自减的value必须是整数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("amount: 每次自减的数量（即: 每次减少的数量），必须是整数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("decr")]),o._v("(name='age', amount=2)")],1),r("div",[r("br")]),r("div",[o._v("print(r.get('age'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: 2，自增后的值: 0")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("append(key, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在指定的缓存值后面追加内容")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数")])]),r("ul",[r("li",[r("div",[o._v("key: 缓存中key的名字")])]),r("li",[r("div",[o._v("value: 需要追加的内容")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("append")]),o._v("(key='username', value='追加的内容')")],1),r("div",[r("br")]),r("div",[o._v("print(r.get('username'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: Kevin，追加内容后的值: Kevin追加的内容")])],1)]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("2.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("List（列表）类型的操作")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"未标题-2.png",src:"/kevin-blog/Python/Redis 缓存_files/未标题-2.png",type:"image/png",width:"507"}})]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("lpush(name, *values)")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的list中添加元素，每个新的元素都添加到列表的最左边 -> 相当于创建一个列表")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("values: 要添加的元素，可以接收多个值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#41AD1C"}},[o._v("lpush")]),o._v("('books', '三国演义', '红楼梦', '西游记', '水浒传')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['水浒传', '西游记', '红楼梦', '三国演义']")])],1)]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("写法二")])])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("import redis")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("pool = redis.ConnectionPool(decode_responses=True)")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("r = redis.Redis(connection_pool=pool)")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("books = ['三国演义', '红楼梦', '西游记', '水浒传']")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lpush")]),o._v("('books', *books)")],1)],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['水浒传', '西游记', '红楼梦', '三国演义']")])],1)],1)]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("rpush(name, *values)")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的list中添加元素，每个新的元素都添加到列表的最右边 -> 相当于创建一个列表")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("values: 要添加的元素，可以接收多个值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("rpush")]),o._v("('books', '三国演义', '红楼梦', '西游记', '水浒传')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['三国演义', '红楼梦', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("写法二")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("books = ['三国演义', '红楼梦', '西游记', '水浒传']")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("rpush")]),o._v("('books', *books)")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['三国演义', '红楼梦', '西游记', '水浒传']")])],1)])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("lpushx(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的list中添加元素，只有当name已经存在时，值才会添加到列表的最左边")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 要添加的元素，只能接收一个值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lpushx")]),o._v("(name='books', value='三体')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '水浒传']，添加新元素后的值: ['三体', '三国演义', '红楼梦', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("rpushx(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的list中添加元素，只有当name已经存在时，值才会添加到列表的最右边")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 要添加的元素，只能接收一个值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("rpushx")]),o._v("(name='books', value='三体')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '水浒传']，添加新元素后的值: ['三国演义', '红楼梦', '西游记', '水浒传', '三体']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("llen(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应的list元素的个数")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("books_len = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("llen")]),o._v("('books')")],1),r("div",[r("br")]),r("div",[o._v("print(books_len)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: ['三国演义', '红楼梦', '西游记', '水浒传']，长度: 4")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("linsert(name, where, refvalue, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的列表的某一个值前面或后面插入一个新值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("如果要在某个值前后插入一个新值，且这某个值有重复，那么只会获取第一个，作为标杆值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("where: BEFORE（之前）/ AFTER（之后）")])]),r("li",[r("div",[o._v("refvalue: 标杆值（即：列表中的值，在它前后插入数据），如果有相同的标杆值，那么只会获取第一个")])]),r("li",[r("div",[o._v("value: 需要插入的数据")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("linsert")]),o._v("(name='books', where='BEFORE', refvalue='红楼梦', value='三体')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '红楼梦', '西游记', '水浒传']，添加新元素后的值: ['三国演义', '三体', '红楼梦', '红楼梦', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("lset(name, index, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的list中的指定索引位置重新赋值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("index: 索引")])]),r("li",[r("div",[o._v("value: 需要重新赋值的值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lset")]),o._v("(name='books', index=1, value='三体')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '水浒传']，添加新元素后的值: ['三国演义', '三体', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("lrem(name, count, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的list中删除指定的值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 要删除的值")])]),r("li",[r("div",[o._v("count: 要删除的数量")])]),r("ul",[r("li",[r("div",[o._v("count > 0: 从表头开始向表尾搜索，移除 count 个与value值相等的元素")])]),r("li",[r("div",[o._v("count < 0: 从表尾开始向表头搜索，移除 count的绝对值 个与value值相等的元素")])]),r("li",[r("div",[o._v("count = 0: 移除表中所有与 value 相等的值")])])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("count > 0: 从表头开始向表尾搜索，移除 count 个与value值相等的元素")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lrem")]),o._v("(name='books', count=2, value='三国演义')  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# count > 0，从表头开始向表尾搜索，移除 2 个与 '三国演义' 相等的值")])],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '三国演义', '水浒传', '三国演义']，移除相关元素后的值: ['红楼梦', '西游记', '水浒传', '三国演义']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("count < 0: 从表尾开始向表头搜索，移除 count的绝对值 个与value值相等的元素")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lrem")]),o._v("(name='books', count=-2, value='三国演义') "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # count < 0，从表尾开始向表头搜索，移除 2 个与 三国演义 相等的值")])],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '三国演义', '水浒传', '三国演义']，移除相关元素后的值: ['三国演义', '红楼梦', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("count = 0: 移除表中所有与 value 相等的值")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lrem")]),o._v("(name='books', count=0, value='三国演义')  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# count = 0，移除表中所有与 三国演义 相等的值")])],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '三国演义', '水浒传', '三国演义']，移除相关元素后的值: ['红楼梦', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("lpop(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除指定列表的左边第一个元素（即: 列表的一个元素），返回值: 被删除的元素")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("del_book = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lpop")]),o._v("('books')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '水浒传']，移除相关元素后的值: ['红楼梦', '西游记', '水浒传']")])],1),r("div",[r("font",{attrs:{color:"#000000"}},[o._v("print(")]),o._v("del_book"),r("font",{attrs:{color:"#000000"}},[o._v(") ")]),o._v(" "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 三国演义")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("rpop(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除指定列表的右边第一个元素（即: 列表的最后一个元素），返回值: 被删除的元素")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("del_book = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("rpop")]),o._v("('books')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: ['三国演义', '红楼梦', '西游记', '水浒传']，移除相关元素后的值: ['三国演义', '红楼梦', '西游记']")])],1),r("div",[o._v("print(del_book)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 水浒传")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("lindex(name, index)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的列表中根据索引获取列表中的元素")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("index: 索引")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("book = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lindex")]),o._v("(name='books', index=2)")],1),r("div",[r("br")]),r("div",[o._v("print(book)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 西游记")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("lrange(name, start, end)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("切片")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("只有通过切片才能获取到缓存列表中的所有数据")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("start: 索引的起始位置")])]),r("li",[r("div",[o._v("end: 索引的结束位置")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取所有数据")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("all_data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lrange")]),o._v("(name='books', start=0, end=-1)")],1),r("div",[r("br")]),r("div",[o._v("print(all_data)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['三国演义', '红楼梦', '西游记', '水浒传']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取指定区域的数据")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("all_data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("lrange")]),o._v("(name='books', start=1, end=2)")],1),r("div",[r("br")]),r("div",[o._v("print(all_data)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 所有的数据: ['三国演义', '红楼梦', '西游记', '水浒传']，切片后获取到的数据: ['红楼梦', '西游记']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("ltrim(name, start, end)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("移除name对应列表不在 start-end 范围内的值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("和lrange的区别: lrange不修改原列表直接返回切片的结果，ltrim 直接修改原列表")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("start: 索引的起始位置")])]),r("li",[r("div",[o._v("end: 索引的结束位置")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("all_data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("ltrim")]),o._v("(name='books', start=1, end=2)")],1),r("div",[r("br")]),r("div",[o._v("print(all_data)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# True")])],1),r("div",[o._v("print(r.lrange('books', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 所有的数据: ['三国演义', '红楼梦', '西游记', '水浒传']，移除后的数据: ['红楼梦', '西游记']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("rpoplpush(src, dst)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("从一个列表取出最右边的元素，同时将其添加至另一个列表的最左边")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("src: 要取数据的列表的name")])]),r("li",[r("div",[o._v("dst: 要添加数据的列表的name")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("rpoplpush")]),o._v("(src='library1', dst='library2')")],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('library1', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本数据: ['book1_1', 'book1_2', 'book1_3']，执行 rpoplpush 后的数据: ['book1_1', 'book1_2']")])],1),r("div",[o._v("print(r.lrange('library2', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本数据: ['book2_1', 'book2_2', 'book2_3']，执行 rpoplpush 后的数据: ['book1_3', 'book2_1', 'book2_2', 'book2_3']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("blpop(keys, timeout)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("移出并获取列表的第一个元素，如果列表没有元素就会进入阻塞直到等待超时或发现元素位置（如果没有设置 timeout 或者 timeout=0，那么当列表为空的时候就会阻塞着，直到列表有值）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值: 如果列表为空，返回 None，否则，返回一个列表，第一个元素: 本删除元素所属的name，第二元素: 被删除的值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("keys: 缓存名的集合")])]),r("li",[r("div",[o._v("timeout: 超时时间，当元素所有列表的元素获取完之后，阻塞等待列表内有数据的时间（秒）, 0 表示永远阻塞")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.rpush('list1', '一', '二', '三')")]),r("div",[o._v("r.rpush('list2', '一', '二', '三')")]),r("div",[r("br")]),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ('list1', '一')")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ('list1', '二')")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ('list1', '三')")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ('list2', '一')")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2)) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # ('list2', '二')")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ('list2', '三')")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("blpop")]),o._v("(keys=['list1', 'list2', 'list3'], timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# None -> 因为 list3 为空")])],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('list1', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# []")])],1),r("div",[o._v("print(r.lrange('list2', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# []")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("brpoplpush(src, dst, timeout=0)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("从一个列表的右侧移除一个元素并将其添加到另一个列表的左侧，如果src的列表没有元素就会进入阻塞直到等待超时或发现元素位置（如果没有设置 timeout 或者 timeout=0，那么当列表为空的时候就会阻塞着，直到列表有值）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值: src 列表为空，返回None，否者，返回 src 列表被移除的最后一个元素")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("src: 要取数据的列表的name")])]),r("li",[r("div",[o._v("dst: 要添加数据的列表的name")])]),r("li",[r("div",[o._v("当src对应的列表中没有数据时，阻塞等待其有数据的超时时间（秒），0 表示永远阻塞")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.rpush('library1', 'book1_1', 'book1_2', 'book1_3')")]),r("div",[o._v("r.rpush('library2', 'book2_1', 'book2_2', 'book2_3')")]),r("div",[r("br")]),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("brpoplpush")]),o._v("(src='library1', dst='library2', timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# book1_3")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("brpoplpush")]),o._v("(src='library1', dst='library2', timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# book1_2")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("brpoplpush")]),o._v("(src='library1', dst='library2', timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# book1_1")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("brpoplpush")]),o._v("(src='library1', dst='library2', timeout=2))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# None")])],1),r("div",[r("br")]),r("div",[o._v("print(r.lrange('library1', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# []")])],1),r("div",[o._v("print(r.lrange('library2', 0, -1))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['book1_1', 'book1_2', 'book1_3', 'book2_1', 'book2_2', 'book2_3']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("自定义增量迭代")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("由于redis类库中没有提供对列表元素的增量迭代，如果想要循环name对应的列表的所有元素，那么就需要：")])]),r("ul",[r("li",[r("div",[o._v("获取name对应的所有列表")])]),r("li",[r("div",[o._v("循环列表")])])]),r("li",[r("div",[o._v("但是，如果列表非常大，那么就有可能在第一步时就将程序的内容撑爆，所有有必要自定义一个增量迭代的功能：")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("def list_iter(name):")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v('"""')])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    自定义redis列表增量迭代")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    :param name: redis中的name，即：迭代name对应的列表")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    :return: yield 返回 列表元素")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v('    """')])],1),r("div",[o._v("    list_count = r.llen(name)")]),r("div",[o._v("    for index in range(list_count):")]),r("div",[o._v("        yield r.lindex(name, index)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 使用")])],1),r("div",[o._v("for item in list_iter('pp'):")]),r("div",[o._v("    print(item)")])]),r("div",[r("br")])]),r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[o._v("3.")]),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[o._v("Hash（字典）类型的操作")])]),r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"未标题-3.png",src:"/kevin-blog/Python/Redis 缓存_files/未标题-3.png",type:"image/png",width:"546"}})]),r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("hset(name, key, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的hash中设置一个键值对（不存在，则创建；否则，修改）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("key: name对应的hash中的key")])]),r("li",[r("div",[o._v("value: name对应的hash中的value")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hset")]),o._v("(name='info', key='username', value='Kevin')")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'username': 'Kevin'}")])],1)]),r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("hsetnx(name, key, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当name对应的hash中不存在当前key时则创建（相当于只做添加）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("key: name对应的hash中的key")])]),r("li",[r("div",[o._v("value: name对应的hash中的value")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hsetnx")]),o._v("(name='info', key='age', value='18')")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'username': 'Kevin', 'age': '18'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hmset(name, mapping)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的hash中批量设置键值对")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("mapping: 字典，如：{'k1':'v1', 'k2': 'v2'}")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hmset")]),o._v("(name='info', mapping={'username': 'Kevin', 'age': '18'})")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'age': '18', 'username': 'Kevin'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("添加嵌套 hash 的方法")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("方法一:")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("使用 json.dumps 序列化字典")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[o._v("import "),r("font",{attrs:{color:"#FA7A00"}},[o._v("json")])],1),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.hmset(name='info', mapping={")]),r("div",[o._v("    'username': 'Kevin',")]),r("div",[o._v("    'age': 18,")]),r("div",[o._v("    'address': json.dumps({")]),r("div",[o._v("        'province': '广东省',")]),r("div",[o._v("        'city': '东莞市',")]),r("div",[o._v("        'town': '南城'")]),r("div",[o._v("    })")]),r("div",[o._v("})")]),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'username': 'Kevin', 'address': '{\"province\": \"\\\\u5e7f\\\\u4e1c\\\\u7701\", \"town\": \"\\\\u5357\\\\u57ce\", \"city\": \"\\\\u4e1c\\\\u839e\\\\u5e02\"}', 'age': '18'}")])],1),r("div",[r("br")]),r("div",[o._v("json_address = r.hget('info', 'address')")]),r("div",[o._v("address = json.loads(json_address)")]),r("div",[r("br")]),r("div",[o._v("print(address) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # {'province': '广东省', 'city': '东莞市', 'town': '南城'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("方法二:")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("使用: r.set + json.dumps")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[o._v("import "),r("font",{attrs:{color:"#FA7A00"}},[o._v("json")])],1),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_dic = {")]),r("div",[o._v("    'username': 'Kevin',")]),r("div",[o._v("    'age': 18,")]),r("div",[o._v("    'address': {")]),r("div",[o._v("        'province': '广东省',")]),r("div",[o._v("        'city': '东莞市',")]),r("div",[o._v("        'town': '南城'")]),r("div",[o._v("    }")]),r("div",[o._v("}")]),r("div",[r("br")]),r("div",[o._v("r.set(name='info', value=json.dumps(info_dic))")]),r("div",[r("br")]),r("div",[o._v("print(r.get('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v('# {"username": "Kevin", "age": 18, "address": {"town": "\\u5357\\u57ce", "city": "\\u4e1c\\u839e\\u5e02", "province": "\\u5e7f\\u4e1c\\u7701"\'+\'}\'+\'}\'}}')])],1),r("div",[r("br")]),r("div",[o._v("json_info = r.get('info')")]),r("div",[o._v("info = json.loads(json_info)")]),r("div",[o._v("address = info['address']")]),r("div",[o._v("print(address)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'province': '广东省', 'city': '东莞市', 'town': '南城'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("错误示范")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("不要直接编写嵌套 hash，因为不是json结构，无法通过 json.loads 解析出来")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.hmset(name='info', mapping={")]),r("div",[o._v("    'username': 'Kevin',")]),r("div",[o._v("    'age': 18,")]),r("div",[o._v("    'address': {  "),r("font",{attrs:{color:"#FF0000"}},[o._v("# 必须是序列化后的字符串")])],1),r("div",[o._v("        'province': '广东省',")]),r("div",[o._v("        'city': '东莞市',")]),r("div",[o._v("        'town': '南城'")]),r("div",[o._v("    }")]),r("div",[o._v("})")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hget(name, key)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的hash中根据key获取value")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("key: name对应的hash中的key")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("username = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hget")]),o._v("(name='info', key='username')")],1),r("div",[r("br")]),r("div",[o._v("print(username)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# Kevin")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hmget(name, keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的hash中获取多个key所对应的value值（即: 批量获取key的value值）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("keys: key的集合，如: ['k1', 'k2', 'k3']")])]),r("li",[r("div",[o._v("*args: keys 打散后的结果，如: k1, k2, k3")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_values = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hmget")]),o._v("(name='info', keys=['username', 'age'])")],1),r("div",[r("br")]),r("div",[o._v("print(info_values)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['Kevin', '18']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_values = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hmget")]),o._v("('info', 'username', 'age')")],1),r("div",[r("br")]),r("div",[o._v("print(info_values)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['Kevin', '18']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hgetall(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应hash的所有键值对")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hgetall")]),o._v("('info')")],1),r("div",[r("br")]),r("div",[o._v("print(info)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'username': 'Kevin', 'age': '18'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hlen(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应的hash中键值对的个数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_len = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hlen")]),o._v("('info')")],1),r("div",[r("br")]),r("div",[o._v("print(info_len)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: {'username': 'Kevin', 'age': '18'}，长度: 2")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hkeys(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应的hash中所有的key的值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_keys = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hkeys")]),o._v("('info')")],1),r("div",[r("br")]),r("div",[o._v("print(info_keys)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['age', 'username']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hvals(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应的hash中所有的value的值")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_values = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hvals")]),o._v("('info')")],1),r("div",[r("br")]),r("div",[o._v("print(info_values)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['18', 'Kevin']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hexists(name, key)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("检查name对应的hash是否存在当前传入的key")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("key: 需要检测的 key 名字")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值: True/False")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("has_key = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hexists")]),o._v("(name='info', key='address')")],1),r("div",[o._v("print(has_key)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: {'age': '18', 'username': 'Kevin'}，检测结果: False")])],1),r("div",[r("br")]),r("div",[o._v("has_key = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hexists")]),o._v("(name='info', key='username')")],1),r("div",[o._v("print(has_key)  "),r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# 值: {'age': '18', 'username': 'Kevin'}，检测结果: True")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hdel(name, *keys)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将name对应的hash中指定key的键值对删除（即: 删除指定的键值对）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hdel")]),o._v("('info', 'username', 'age')")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: {'username': 'Kevin', 'age': '18', 'address': '广东'}，删除后的值: {'address': '广东'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("del_keys = ['username', 'age']")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hdel")]),o._v("('info', *del_keys)")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: {'username': 'Kevin', 'age': '18', 'address': '广东'}，删除后的值: {'address': '广东'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将name对应的hash中的键值对清空")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("info_keys = r.hkeys('info')  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 获取 info 的所有 key 值")])],1),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hdel")]),o._v("('info', *info_keys)")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info')) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # 原本的值: {'username': 'Kevin', 'age': '18', 'address': '广东'}，删除后的值: {}")])],1)]),r("div",[r("br")])]),r("ul",[r("li",[r("div",[o._v("hincrby(name, key, amount)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("整数自增name对应的hash中的指定key的值，当key不存在时，则创建key＝amount，否则，进行整数自增")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("需要自增的value必须是整数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数: ")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("key: name对应的hash中的key")])]),r("li",[r("div",[o._v("amount: 每次自增的数量（即: 每次添加的数量），必须是整数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hincrby")]),o._v("(name='info', key='age', amount=2)")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: {'username': 'Kevin', 'age': '18'}，自增后的值: {'username': 'Kevin', 'age': '20'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hincrbyfloat(name, key, amount)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("浮点数自增name对应的hash中的指定key的值，当key不存在时，则创建key＝amount，否则，进行浮点数自增")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("需要自增的value可以是整数或浮点数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数: ")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("key: name对应的hash中的key")])]),r("li",[r("div",[o._v("amount: 每次自增的数量（即: 每次添加的数量），可以是整数或浮点数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hincrbyfloat")]),o._v("(name='info', key='age', amount=2.5)")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: {'username': 'Kevin', 'age': '20'}，自增后的值: {'username': 'Kevin', 'age': '22.5'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hscan(name, cursor, match, count)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("增量式迭代获取，对于数据大的数据非常有用，hscan可以实现分片的获取数据，并非一次性将数据全部获取完，从而防止内存被撑爆")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当 hash 中的键值对数量过少的时候，hscan 是无效的")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("cursor: 游标（基于游标分批取获取数据）")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值:")])]),r("ul",[r("li",[r("div",[o._v("返回值有两个")])]),r("li",[r("div",[o._v("第一个: 游标 -> 当游标为0的时候表示数据以及获取完")])]),r("li",[r("div",[o._v("第二个: 获取到的值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("说明 hscan 的用法的写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.hmset('info', {")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#         'username%s' % i: 'Kevin', 'age%s' % i: '18',")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     })")])],1),r("div",[r("br")]),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hscan")]),o._v("('info', cursor=0, match=None, count=None)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 1408 {'age873': '18', 'age834': '18', 'username817': 'Kevin', 'age370': '18', 'age49': '18', 'age349': '18', 'age420': '18', 'username647': 'Kevin', 'username309': 'Kevin', 'age25': '18', 'username261': 'Kevin'}")])],1),r("div",[o._v("cursor2, data2 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hscan")]),o._v("('info', cursor=cursor1, match=None, count=None)")],1),r("div",[o._v("print(cursor2, data2)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 1344 {'age880': '18', 'username439': 'Kevin', 'username964': 'Kevin', 'age640': '18', 'age769': '18', 'username807': 'Kevin', 'age478': '18', 'age605': '18', 'username629': 'Kevin', 'age990': '18', 'username457': 'Kevin'}")])],1),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hscan")]),o._v("('info', cursor=cursor2, match=None, count=None)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 1472 {'username1011': 'Kevin', 'username494': 'Kevin', 'age329': '18', 'username987': 'Kevin', 'age426': '18', 'username927': 'Kevin', 'age993': '18', 'username884': 'Kevin', 'username786': 'Kevin', 'username624': 'Kevin'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("实际应用写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.hmset('info', {")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#         'username%s' % i: 'Kevin', 'age%s' % i: '18',")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     })")])],1),r("div",[r("br")]),r("div",[o._v("cursor = 1")]),r("div",[r("br")]),r("div",[o._v("while cursor:")]),r("div",[o._v("    cursor, data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hscan")]),o._v("('info', cursor=cursor, match=None, count=None)")],1),r("div",[o._v("    print(cursor, data)")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("hscan_iter(name, match, count)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("hscan_iter利用yield封装hscan创建的生成器，实现分批去redis中获取数据")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.hmset('info', {")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#         'username%s' % i: 'Kevin', 'age%s' % i: '18',")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     })")])],1),r("div",[r("br")]),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("hscan_iter")]),o._v("('info'):")],1),r("div",[o._v("    print(i)")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("4.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Set（集合）类型的操作，不允许有重复数据的列表")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"未标题-4.png",src:"/kevin-blog/Python/Redis 缓存_files/未标题-4.png",type:"image/png",width:"506"}})]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("sadd(name, values)")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在 name 对应的集合中添加元素")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("values: 要添加的元素，可以接收多个值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sadd")]),o._v("('books', '三国演义', '红楼梦', '西游记', '水浒传')")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('books'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'红楼梦', '三国演义', '西游记', '水浒传'}")])],1)]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("写法二")])])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("import redis")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("pool = redis.ConnectionPool(decode_responses=True)")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("r = redis.Redis(connection_pool=pool)")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("books = ['三国演义', '红楼梦', '西游记', '水浒传']")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sadd")]),o._v("('books', *books)")],1)],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[r("br")])],1),r("div",[r("font",{staticStyle:{"font-size":"9pt"}},[o._v("print(r.smembers('books'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'红楼梦', '三国演义', '西游记', '水浒传'}")])],1)],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("scard(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应的集合中元素个数")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("books_len = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scard")]),o._v("('books')")],1),r("div",[r("br")]),r("div",[o._v("print(books_len)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: {'红楼梦', '三国演义', '西游记', '水浒传'}，长度: 4")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sdiff(keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回多个集合之间的差集")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("keys: "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),o._v("，如: ['k1', 'k2', 'k3']")])]),r("li",[r("div",[o._v("*args: "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),o._v("打散后的结果，如: k1, k2, k3")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("diff = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sdiff")]),o._v("(['library1', 'library2'])")],1),r("div",[r("br")]),r("div",[o._v("print(diff) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # {'匆匆那年', '红楼梦'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("diff = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sdiff")]),o._v("('library1', 'library2')")],1),r("div",[r("br")]),r("div",[o._v("print(diff)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'匆匆那年', '红楼梦'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sdiffstore(dest, keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将集合之间的差集存储在指定的集合中，如果指定的集合已存在，则会将其覆盖")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("dest: 存储差集的集合名称")])]),r("li",[r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("keys:")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}}),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("，如: ['k1', 'k2', 'k3']")])])]),r("li",[r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("*args: ")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("打散后的结果，如: k1, k2, k3")])])])])])]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}}),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r.sadd('save_diff', 'testdata')")]),r("div",[o._v("r."),r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("sdiffstore")]),o._v("(dest='save_diff', keys=['library1', 'library2'])")]),r("div",[r("br")]),r("div",[o._v("print(r.smembers('save_diff'))  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# {'匆匆那年', '红楼梦'}")])])]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("br")]),r("ul",[r("ul",[r("li",[r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[o._v("写法二")])])])]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r.sadd('save_diff', 'testdata')")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sdiffstore")]),o._v("('save_diff', 'library1', 'library2')")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('save_diff'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'匆匆那年', '红楼梦'}")])],1)]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("br")]),r("ul",[r("li",[r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[o._v("sinter(keys, *args)")])])]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}}),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回多个集合之间的交集，不存在的集合 key 被视为空集，当给定集合当中有一个空集时，结果也为空集")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("keys: "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),o._v("，如: ['k1', 'k2', 'k3']")])]),r("li",[r("div",[o._v("*args: "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),o._v("打散后的结果，如: k1, k2, k3")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("inter = r."),r("span",{staticStyle:{color:"rgb(250, 122, 0)"}},[o._v("sinter")]),o._v("(['library1', 'library2'])")]),r("div",[r("br")]),r("div",[o._v("print(inter)  "),r("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# {'三国演义', '水浒传'}")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("inter = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sinter")]),o._v("('library1', 'library2')")],1),r("div",[r("br")]),r("div",[o._v("print(inter)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'三国演义', '水浒传'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sinterstore(dest, keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将集合之间的交集存储在指定的集合中，如果指定的集合已存在，则会将其覆盖")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("dest: 存储交集的集合名称")])]),r("li",[r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("keys:")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}}),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("，如: ['k1', 'k2', 'k3']")])])]),r("li",[r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("*args: ")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("打散后的结果，如: k1, k2, k3")])])])])])]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r.sadd('save_inter', 'testdata')")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sinterstore")]),o._v("(dest='save_inter', keys=['library1', 'library2'])")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('save_inter'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'水浒传', '三国演义'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r.sadd('save_inter', 'testdata')")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sinterstore")]),o._v("('save_inter', 'library1', 'library2')")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('save_inter'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'水浒传', '三国演义'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sunion(keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回多个集合之间的并集，不存在的集合 key 被视为空集，当给定集合当中有一个空集时，结果也为空集")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("keys: "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),o._v("，如: ['k1', 'k2', 'k3']")])]),r("li",[r("div",[o._v("*args: "),r("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),o._v("打散后的结果，如: k1, k2, k3")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("union = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sunion")]),o._v("(['library1', 'library2'])")],1),r("div",[r("br")]),r("div",[o._v("print(union)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'三国演义', '水浒传', '匆匆那年', '三体', '红楼梦', '西游记'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("union = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sunion")]),o._v("('library1', 'library2')")],1),r("div",[r("br")]),r("div",[o._v("print(union) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # {'三国演义', '水浒传', '匆匆那年', '三体', '红楼梦', '西游记'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sunionstore(dest, keys, *args)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将集合之间的并集存储在指定的集合中，如果指定的集合已存在，则会将其覆盖")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("dest: 存储并集的集合名称")])]),r("li",[r("div",[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("keys:")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}}),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("，如: ['k1', 'k2', 'k3']")])])]),r("li",[r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("*args: ")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("打散后的结果，如: k1, k2, k3")])])])])])]),r("div",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent",margin:"0px",padding:"0px"}},[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r.sadd('save_union', 'testdata')")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sunionstore")]),o._v("(dest='save_union', keys=['library1', 'library2'])")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('save_union'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'匆匆那年', '水浒传', '三国演义', '三体', '西游记', '红楼梦'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r.sadd('save_union', 'testdata')")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sunionstore")]),o._v("('save_union', 'library1', 'library2')")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('save_union'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'匆匆那年', '水浒传', '三国演义', '三体', '西游记', '红楼梦'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sismember(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("检查value是否是name对应的集合的成员")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要检测的值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("is_has = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sismember")]),o._v("(name='info', value='三国演义')")],1),r("div",[r("br")]),r("div",[o._v("print(is_has)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: {'三国演义', '红楼梦', '水浒传', '西游记'}，检测后的结果: True")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("smove(src, dst, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将某个成员从一个集合中移动到另外一个集合")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("src: 要取数据的集合的name")])]),r("li",[r("div",[o._v("dst: 要添加数据的集合的name")])]),r("li",[r("div",[o._v("value: 要取的数据")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('library1', '三国演义', '红楼梦', '匆匆那年', '水浒传')")]),r("div",[o._v("r.sadd('library2', '三国演义', '三体', '西游记', '水浒传')")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("smove")]),o._v("(src='library1', dst='library2', value='匆匆那年')")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('library1'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'三国演义', '红楼梦', '水浒传'}")])],1),r("div",[o._v("print(r.smembers('library2'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'三国演义', '匆匆那年', '三体', '西游记', '水浒传'}")])],1)]),r("div",[r("br")])]),r("ul",[r("li",[r("div",[o._v("spop(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除集合中的最后一个成员，并将其返回")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("del_data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("spop")]),o._v("('books')")],1),r("div",[r("br")]),r("div",[o._v("print(del_data)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 西游记")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("srandmember(name, numbers)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("从 name 对应的集合中随机获取 numbers 个元素")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("numbers: 获取集合的成员个数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.sadd('books', '三国演义', '红楼梦', '水浒传', '西游记')")]),r("div",[r("br")]),r("div",[o._v("random_book = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("srandmember")]),o._v("(name='books', number=3)")],1),r("div",[r("br")]),r("div",[o._v("print(random_book)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['红楼梦', '水浒传', '三国演义']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("srem(name, values)")])])])]),r("div",[r("font",{staticStyle:{"font-size":"12pt"}},[r("br")])],1),r("ul",[r("ul",[r("li",[r("div",[r("span",{staticStyle:{"white-space":"pre-wrap","overflow-wrap":"break-word","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[r("span",{staticStyle:{"font-size":"12pt",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("移除集合中的一个或多个成员元素，不存在的成员元素会被忽略")])])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("values")]),o._v(": 要移除的元素，可以接收多个值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("srem")]),o._v("('books', '红楼梦', '水浒传')")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('books'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: {'三国演义', '红楼梦', '水浒传', '西游记'}，删除后的值: {'三国演义', '西游记'}")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("books = ['红楼梦', '水浒传']")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("srem")]),o._v("('books', *books)")],1),r("div",[r("br")]),r("div",[o._v("print(r.smembers('books'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: {'三国演义', '红楼梦', '水浒传', '西游记'}，删除后的值: {'三国演义', '西游记'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sscan(name, cursor, match, count)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("增量式迭代获取，对于数据大的数据非常有用，sscan可以实现分片的获取数据，并非一次性将数据全部获取完，从而防止内存被撑爆")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当集合中的成员数量过少的时候，sscan 是无效的")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("cursor: 游标（基于游标分批取获取数据）")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值:")])]),r("ul",[r("li",[r("div",[o._v("返回值有两个")])]),r("li",[r("div",[o._v("第一个: 游标 -> 当游标为0的时候表示数据以及获取完")])]),r("li",[r("div",[o._v("第二个: 获取到的值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("说明 sscan 的用法的写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.sadd('set_list', '数据%s' % i)")])],1),r("div",[r("br")]),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sscan")]),o._v("('set_list', cursor=0, match=None, count=None)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 896 ['数据235', '数据1002', '数据148', '数据719', '数据418', '数据754', '数据385', '数据715', '数据849', '数据1001']")])],1),r("div",[o._v("cursor2, data2 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sscan")]),o._v("('set_list', cursor=cursor1, match=None, count=None)")],1),r("div",[o._v("print(cursor2, data2)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 928 ['数据161', '数据976', '数据554', '数据126', '数据258', '数据328', '数据112', '数据707', '数据533', '数据115']")])],1),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sscan")]),o._v("('set_list', cursor=cursor2, match=None, count=None)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 272 ['数据947', '数据721', '数据335', '数据127', '数据965', '数据79', '数据870', '数据455', '数据681', '数据307', '数据933']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("实际应用写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.sadd('set_list', '数据%s' % i)")])],1),r("div",[r("br")]),r("div",[o._v("cursor = 1")]),r("div",[r("br")]),r("div",[o._v("while cursor:")]),r("div",[o._v("    cursor, data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sscan")]),o._v("('set_list', cursor=cursor, match=None, count=None)")],1),r("div",[o._v("    print(cursor, data)")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("sscan_iter(name, match, count)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("sscan_iter利用yield封装sscan创建的生成器，实现分批去redis中获取数据")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.sadd('set_list', '数据%s' % i)")])],1),r("div",[r("br")]),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("sscan_iter")]),o._v("('set_list'):")],1),r("div",[o._v("    print(i)")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("5.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt"}},[r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("Sorted Set")])]),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("（有序集合）类型的操作")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("img",{attrs:{"data-filename":"2542_0.png",src:"/kevin-blog/Python/Redis 缓存_files/2542_0.png",type:"image/png"}})]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[o._v("有序集合: ")])]),r("ul",[r("li",[r("div",[o._v("在集合的基础上，为每元素排序；")])]),r("li",[r("div",[r("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[o._v("元素的排序需要根据另外一个值来进行比较，所以，对于有序集合，每一个元素有两个值，即：值和分数，")]),r("span",{staticStyle:{color:"rgb(227, 0, 0)","font-weight":"bold"}},[o._v("分数专门用来做排序")])])])])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zadd(name, mapping, nx, xx, ch, incr)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("在name对应的有序集合中添加元素")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("mapping: 字典，如 {'值': 分数} -> {'value': 1}")])]),r("li",[r("div",[o._v("nx: 如果值为 True，当 name 不存在的时候，当前set操作才会执行")])]),r("li",[r("div",[o._v("xx: 如果值为 True，当 name 存在的时候，当前set操作才会执行")])]),r("li",[r("div",[o._v("ch: 如果值为 True，那么返回值就是添加或修改了多少个元素的个数")])]),r("li",[r("div",[o._v("incr: 自增（+1），如果值为True，那么就会对某一个元素的分数自加1，且返回值是该元素的分数自加1的结果，并且 mapping 参数只能有一个键值对")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("一般的使用")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zadd")]),o._v("(name='s_set', mapping={'n1': 1, 'n2': 2, 'n3': 3}) "),r("font",{attrs:{color:"#FF0000"}},[o._v(" # 根据分数进行排序，且 value 就是分数，key就是有序集合的值")])],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True))  "),r("font",{staticStyle:{color:"rgb(65, 173, 28)"}},[o._v("# [('n1', 1.0), ('n2', 2.0), ('n3', 3.0)]")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("ch=True")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("add_num = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zadd")]),o._v("(name='s_set', mapping={'n1': 1, 'n2': 2, 'n3': 3, 'n4': 4, 'n5': 5}, "),r("font",{attrs:{color:"#FA7A00"}},[o._v("ch")]),o._v("=True)")],1),r("div",[r("br")]),r("div",[o._v("print(add_num)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 2")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("incr=True")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("add_num = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zadd")]),o._v("(name='s_set', mapping={'n1': 1}, "),r("font",{attrs:{color:"#FA7A00"}},[o._v("incr")]),o._v("=True)")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 原本的值: [('n1', 1.0), ('n2', 2.0), ('n3', 3.0)]，当 incr=True 并且执行2次后: [('n2', 2.0), ('n1', 3.0), ('n3', 3.0)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zcard(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应的有序集合元素的数量")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("s_set_len = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zcard")]),o._v("('s_set')")],1),r("div",[r("br")]),r("div",[o._v("print(s_set_len)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: [('n1', 1.0), ('n2', 2.0), ('n3', 3.0)]，长度: 3")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zcount(name, min, max)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取在 min-max 范围分数的个数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("min: 分数最小值")])]),r("li",[r("div",[o._v("max: 分数最大值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("fraction_len = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zcount")]),o._v("(name='s_set', min=2, max=4)")],1),r("div",[r("br")]),r("div",[o._v("print(fraction_len)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 值: [('n1', 1.0), ('n2', 2.0), ('n3', 3.0), ('n4', 4.0), ('n5', 5.0)]，长度: 3")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zincrby(name, value, amount)")])])]),r("div",[r("br")])]),r("ul",[r("ul",[r("li",[r("div",[o._v("自增name对应的有序集合的 value 对应的分数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要自增分数的value")])]),r("li",[r("div",[o._v("amount: 每次自增的数量（即: 每次添加的数量），必须是整数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zincrby")]),o._v("(name='s_set', value='n1', amount=2) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # 当前 n1 的分数为 1，自增后 n1 的分数为 3")])],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 没有自增前的值: [('n1', 1.0), ('n2', 2.0), ('n3', 3.0)]，自增后的值: [('n2', 2.0), ('n1', 3.0), ('n3', 3.0)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("r.zrange(name, start, end, desc, withscores, score_cast_func)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("切片 + 排序 + 分数的显示")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("start: 有序集合索引起始位置（非分数）")])]),r("li",[r("div",[o._v("end: 有序集合索引结束位置（非分数）")])]),r("li",[r("div",[o._v("desc: 如果值True，那么就按照分数的降序排序，否则按照分数升序排序")])]),r("li",[r("div",[o._v("withscores: 是否获取元素的分数，默认只获取元素的值")])]),r("li",[r("div",[o._v("score_cast_func: 对分数进行数据转换的函数，默认使用的函数是 float，可以修改为 int")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("基本使用")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.zadd(name='s_set', mapping={'n1': 1, 'n2': 2, 'n3': 3, 'n4': 4, 'n5': 5})")]),r("div",[r("br")]),r("div",[o._v("s_set = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zrange")]),o._v("(name='s_set', start=1, end=3, desc=True, withscores=True, score_cast_func=int)")],1),r("div",[r("br")]),r("div",[o._v("print(s_set)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [('n4', 4), ('n3', 3), ('n2', 2)]")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取有序集合的所有数据")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.zadd(name='s_set', mapping={'n1': 1, 'n2': 2, 'n3': 3, 'n4': 4, 'n5': 5})")]),r("div",[r("br")]),r("div",[o._v("s_set = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zrange")]),o._v("(name='s_set', start=0, end=-1, withscores=True, score_cast_func=int)")],1),r("div",[r("br")]),r("div",[o._v("print(s_set)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [('n1', 1), ('n2', 2), ('n3', 3), ('n4', 4), ('n5', 5)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zrank(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取某个值在name对应的有序集合中的排行（先进行从小到大的排序，然后在进行获取） -> 从 0 开始算起")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要获取排行的值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("rank = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zrank")]),o._v("(name='s_set', value='n2')")],1),r("div",[r("br")]),r("div",[o._v("print(rank)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 有序集合的值: [('n1', 1), ('n2', 2), ('n3', 3), ('n4', 4), ('n5', 5)]，n2 的排行: 1")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zrevrank(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取某个值在name对应的有序集合中的排行（先进行从大到小的排序，然后在进行获取） -> 从 0 开始算起")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 需要获取排行的值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("rank = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zrevrank")]),o._v("(name='s_set', value='n2')")],1),r("div",[r("br")]),r("div",[o._v("print(rank)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 有序集合的值: [('n1', 1), ('n2', 2), ('n3', 3), ('n4', 4), ('n5', 5)]，n2 的排行: 3")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zrangebylex(name, min, max, start, num)")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 当有序集合的所有成员都具有相同的分值时，有序集合的元素会根据成员的 值 （lexicographical ordering）来进行排序，而这个命令则可以返回给定的有序集合键 key 中， 元素的值介于 min 和 max 之间的成员")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 对集合中的每个成员进行逐个字节的对比（byte-by-byte compare）， 并按照从低到高的顺序， 返回排序后的集合成员。 如果两个字符串有一部分内容是相同的话， 那么命令会认为较长的字符串比较短的字符串要大")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 参数：")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # name，redis的name")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # min，左区间（值）。 + 表示正无限； - 表示负无限； ( 表示开区间； [ 则表示闭区间")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # min，右区间（值）")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # start，对结果进行分片处理，索引位置")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # num，对结果进行分片处理，索引后面的num个元素")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 如：")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # ZADD myzset 0 aa 0 ba 0 ca 0 da 0 ea 0 fa 0 ga")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # r.zrangebylex('myzset', \"-\", \"[ca\") 结果为：['aa', 'ba', 'ca']")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 更多：")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # 从大到小排序")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("    # zrevrangebylex(name, max, min, start=None, num=None)")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zrem(name, values)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("移除有序集中的一个或多个成员，不存在的成员将被忽略")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[o._v("values")]),o._v(": 要移除的元素，可以接收多个值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zrem")]),o._v("('s_set', 'n2', 'n3', 'n4')")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True, score_cast_func=int))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 未移除任何元素前的值: [('n1', 1), ('n2', 2), ('n3', 3), ('n4', 4), ('n5', 5)]，移除某些元素后的值: [('n1', 1), ('n5', 5)]")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r_s_set = ['n2', 'n3', 'n4']")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zrem")]),o._v("('s_set', *r_s_set)")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True, score_cast_func=int))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 未移除任何元素前的值: [('n1', 1), ('n2', 2), ('n3', 3), ('n4', 4), ('n5', 5)]，移除某些元素后的值: [('n1', 1), ('n5', 5)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zremrangebyrank(name, min, max)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除在 min-max 范围排行内的成员 -> （从大到小的排序，从0开始算起）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("min: 最小排行数")])]),r("li",[r("div",[o._v("max: 最大排行树")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.zadd(name='s_set', mapping={'n1': 1, 'n2': 2, 'n3': 3, 'n4': 4, 'n5': 5})")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zremrangebyrank")]),o._v("(name='s_set', min=1, max=3)")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True, score_cast_func=int)) "),r("font",{attrs:{color:"#41AD1C"}},[o._v(" # [('n1', 1), ('n5', 5)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zremrangebyscore(name, min, max)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除在 min-max 范围分数内的成员 -> （从大到小的排序，从1开始算起）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("min: 最小分数")])]),r("li",[r("div",[o._v("max: 最大分树")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.zadd(name='s_set', mapping={'n1': 1, 'n2': 2, 'n3': 3, 'n4': 4, 'n5': 5})")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zremrangebyscore")]),o._v("(name='s_set', min=1, max=3)")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('s_set', 0, -1, withscores=True, score_cast_func=int))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [('n4', 4), ('n5', 5)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zremrangebylex(name, min, max)")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 根据值返回删除")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zscore(name, value)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取name对应有序集合中 value 对应的分数")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("value: 要获取分数的value值")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("fraction = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zscore")]),o._v("(name='s_set', value='n3')")],1),r("div",[r("br")]),r("div",[o._v("print(fraction)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 3.0")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zinterstore(dest, keys, aggregate)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将有序集合之间的交集存储在指定的有序集合中，如果指定的有序集合已存在，则会将其覆盖，如果遇到相同值不同分数，则按照aggregate进行操作")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("dest: 指定的有序集合")])]),r("li",[r("div",[o._v("keys: "),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("，如: ['k1', 'k2', 'k3']")])])]),r("li",[r("div",[o._v("aggregate: SUM  MIN  MAX")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.zadd(name='library1', mapping={'book1_1': 1, 'book': 2, 'book1_3': 3})")]),r("div",[o._v("r.zadd(name='library2', mapping={'book2_1': 1, 'book': 2, 'book2_3': 3})")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zinterstore")]),o._v("(dest='l_boos', keys=['library1', 'library2'])")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('l_boos', 0, -1, withscores=True, score_cast_func=int))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [('book', 4)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zunionstore(dest, keys, aggregate)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将有序集合之间的并集存储在指定的有序集合中，如果指定的有序集合已存在，则会将其覆盖，如果遇到相同值不同分数，则按照aggregate进行操作")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("dest: 指定的有序集合")])]),r("li",[r("div",[o._v("keys: "),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent","font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[o._v("缓存名的集合")]),r("span",{staticStyle:{"box-sizing":"border-box","-webkit-tap-highlight-color":"transparent"}},[o._v("，如: ['k1', 'k2', 'k3']")])])]),r("li",[r("div",[o._v("aggregate: SUM  MIN  MAX")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.zadd(name='library1', mapping={'book1_1': 1, 'book': 2, 'book1_3': 3})")]),r("div",[o._v("r.zadd(name='library2', mapping={'book2_1': 1, 'book': 2, 'book2_3': 3})")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zunionstore")]),o._v("(dest='l_boos', keys=['library1', 'library2'])")],1),r("div",[r("br")]),r("div",[o._v("print(r.zrange('l_boos', 0, -1, withscores=True, score_cast_func=int))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# [('book1_1', 1), ('book2_1', 1), ('book1_3', 3), ('book2_3', 3), ('book', 4)]")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zscan(name, cursor, match, count, score_cast_func)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("增量式迭代获取，对于数据大的数据非常有用，zscan可以实现分片的获取数据，并非一次性将数据全部获取完，从而防止内存被撑爆")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当有序集合中的成员数量过少的时候，zscan 是无效的")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("cursor: 游标（基于游标分批取获取数据）")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])]),r("li",[r("div",[o._v("score_cast_func: 对分数进行数据转换的函数，默认使用的函数是 float，可以修改为 int")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值:")])]),r("ul",[r("li",[r("div",[o._v("返回值有两个")])]),r("li",[r("div",[o._v("第一个: 游标 -> 当游标为0的时候表示数据以及获取完")])]),r("li",[r("div",[o._v("第二个: 获取到的值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("说明 zscan 的用法的写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.zadd('library', {")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#         'book_%s' % i: i")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     })")])],1),r("div",[r("br")]),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zscan")]),o._v("('library', cursor=0, match=None, count=None, score_cast_func=int)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 64 [('book_1012', 1012), ('book_554', 554), ('book_532', 532), ('book_415', 415), ('book_335', 335), ('book_313', 313), ('book_162', 162), ('book_42', 42), ('book_41', 41), ('book_111', 111), ('book_121', 121)]")])],1),r("div",[o._v("cursor2, data2 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zscan")]),o._v("('library', cursor=cursor1, match=None, count=None, score_cast_func=int)")],1),r("div",[o._v("print(cursor2, data2)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 160 [('book_323', 323), ('book_236', 236), ('book_876', 876), ('book_675', 675), ('book_625', 625), ('book_549', 549), ('book_359', 359), ('book_285', 285), ('book_143', 143), ('book_814', 814), ('book_345', 345), ('book_130', 130)]")])],1),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zscan")]),o._v("('library', cursor=cursor2, match=None, count=None, score_cast_func=int)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 224 [('book_976', 976), ('book_905', 905), ('book_553', 553), ('book_284', 284), ('book_138', 138), ('book_6', 6), ('book_737', 737), ('book_445', 445), ('book_411', 411), ('book_139', 139)]")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("实际应用写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.zadd('library', {")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#         'book_%s' % i: i")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     })")])],1),r("div",[r("br")]),r("div",[o._v("cursor = 1")]),r("div",[r("br")]),r("div",[o._v("while cursor:")]),r("div",[o._v("    cursor, data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zscan")]),o._v("('library', cursor=cursor, match=None, count=None, score_cast_func=int)")],1),r("div",[o._v("    print(cursor, data)")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("zscan_iter(name, match, count, score_cast_func)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("zscan_iter利用yield封装zscan创建的生成器，实现分批去redis中获取数据")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])]),r("li",[r("div",[o._v("score_cast_func: 对分数进行数据转换的函数，默认使用的函数是 float，可以修改为 int")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.zadd('library', {")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#         'book_%s' % i: i")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     })")])],1),r("div",[r("br")]),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("zscan_iter")]),o._v("('library'):")],1),r("div",[o._v("    print(i)")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[o._v("6.")]),o._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("其他常用方法")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("delete(*names)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除一个或多个已存在的任意数据类型缓存，不存在则会被忽略")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除一个任意数据类型缓存")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("delete")]),o._v("('info')")],1)]),r("div",[r("br")])]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除多个数据类型缓存")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("写法一")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("delete")]),o._v("('info', 'str_data')")],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[o._v("写法二")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("names = ['info', 'str_data']")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("delete")]),o._v("(*names)")],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("删除全部的数据类型缓存")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("delete")]),o._v("(*r.keys())")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("flushall()")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("清空所有缓存")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("flushall")]),o._v("()")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("exists(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("检测缓存名是否存在")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值: ")])]),r("ul",[r("li",[r("div",[o._v("0 -> 不存在")])]),r("li",[r("div",[o._v("1 -> 存在")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("isHas = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("exists")]),o._v("('info')")],1),r("div",[r("br")]),r("div",[o._v("print(isHas)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 1")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("keys(pattern)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("根据 pattern 参数获取缓存名（即: 缓存key），如果 pattern 不传值，默认获取所有缓存名（即: 缓存key）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("pattern: 相当于一个简单的正则")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# * -> 获取所有缓存名")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("keys")]),o._v("(pattern='*')")],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 等价于")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("keys")]),o._v("())  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['hxllo', 'hbbbllo', 's_key3', 'hallo', 'hdddllo', 's_key2', 's_key1', 'hello']")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# -----------------------------------------------")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx?xxx -> ? 0个或1个")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("keys")]),o._v("(pattern='h?llo'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['hxllo', 'hallo', 'hello']")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("keys")]),o._v("(pattern='s_key?'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['s_key3', 's_key2', 's_key1']")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# -----------------------------------------------")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx*xxx -> * 多个")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("keys")]),o._v("(pattern='h*llo'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['hxllo', 'hbbbllo', 'hallo', 'hdddllo', 'hello']")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# -----------------------------------------------")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx[]xxx -> 区域匹配")])],1),r("div",[o._v("print(r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("keys")]),o._v("(pattern='h[ae]llo'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# ['hallo', 'hello']")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("expire(name, time)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("给某一个缓存设置或修改超时时间 -> list, hash, set, sorted set 可以通过该方法设置超时时间")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("name: 缓存名")])]),r("li",[r("div",[o._v("time: 超时时间（单位: 秒）")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.hmset('info', {'username': 'Kevin', 'age': 18})")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("expire")]),o._v("(name='info', time=10)")],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("rename(src, dst)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("重命名缓存名")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("src: 需要重命名的缓存名")])]),r("li",[r("div",[o._v("dst: 新的缓存名")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r.hmset('info', {'username': 'Kevin', 'age': 18})")]),r("div",[r("br")]),r("div",[o._v("r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("rename")]),o._v("(src='info', dst='user_info')")],1),r("div",[r("br")]),r("div",[o._v("print(r.hgetall('info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {}")])],1),r("div",[o._v("print(r.hgetall('user_info'))  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# {'age': '18', 'username': 'Kevin'}")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("move(name, db)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将redis的某个值移动到指定的db下")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("将当前数据库的 key 移动到给定的数据库 db 当中,select可以设定当前的数据库，如有需要请看select命令因为我们默认使用的数据库是db0，我们可以使用下面的命令键 2 移动到数据库 1 中去")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("r.move(2,1)")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("randomkey()")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("随机获取一个缓存名")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("redis_name = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("randomkey")]),o._v("()")],1),r("div",[r("br")]),r("div",[o._v("print(redis_name)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# user_info")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("type(name)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("获取指定缓存名所对应值的类型")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[o._v("r_type = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("type")]),o._v("('user_info')")],1),r("div",[r("br")]),r("div",[o._v("print(r_type)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# hash")])],1)]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("scan(cursor, match, count)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("增量式迭代获取缓存名，对于数据大的数据非常有用，scan可以实现分片的获取数据，并非一次性将数据全部获取完，从而防止内存被撑爆")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("当缓存中的缓存名数量过少的时候，scan 是无效的")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("cursor: 游标（基于游标分批取获取数据）")])]),r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("返回值:")])]),r("ul",[r("li",[r("div",[o._v("返回值有两个")])]),r("li",[r("div",[o._v("第一个: 游标 -> 当游标为0的时候表示数据以及获取完")])]),r("li",[r("div",[o._v("第二个: 获取到的值")])])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("说明 scan 的用法的写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.set('book_name%s' % i, 'book_%s' % i)")])],1),r("div",[r("br")]),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan")]),o._v("(cursor=0, match=None, count=None)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 640 ['book_name633', 'book_name239', 'book_name180', 'book_name177', 'book_name464', 'book_name798', 'book_name193', 'book_name110', 'book_name972', 'book_name597']")])],1),r("div",[o._v("cursor2, data2 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan")]),o._v("(cursor=cursor1, match=None, count=None)")],1),r("div",[o._v("print(cursor2, data2)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 192 ['book_name694', 'book_name623', 'book_name305', 'book_name1014', 'book_name885', 'book_name808', 'book_name434', 'book_name10', 'book_name461', 'book_name454']")])],1),r("div",[o._v("cursor1, data1 = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan")]),o._v("(cursor=cursor2, match=None, count=None)")],1),r("div",[o._v("print(cursor1, data1)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 672 ['book_name296', 'book_name322', 'book_name774', 'book_name721', 'book_name440', 'book_name674', 'book_name256', 'book_name204', 'book_name493', 'book_name18']")])],1)]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("实际应用写法")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.set('book_name%s' % i, 'book_%s' % i)")])],1),r("div",[r("br")]),r("div",[o._v("cursor = 1")]),r("div",[r("br")]),r("div",[o._v("while cursor:")]),r("div",[o._v("    cursor, data = r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan")]),o._v("(cursor=cursor, match=None, count=None)")],1),r("div",[o._v("    print(cursor, data)")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[o._v("scan_iter(match=None, count=None)")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("scan_iter利用yield封装scan创建的生成器，实现分批去redis中获取数据")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("decode_responses 参数的问题和 get(name) 方法一样（这里就不做演示了）")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[o._v("参数:")])]),r("ul",[r("li",[r("div",[o._v("match: 匹配指定key，默认None 表示所有的key，可以和keys方法一样支持模糊查询")])]),r("li",[r("div",[o._v("count: 每次分片最少获取个数，默认None表示采用redis的默认分片个数")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[o._v("import redis")]),r("div",[r("br")]),r("div",[o._v("pool = redis.ConnectionPool(decode_responses=True)")]),r("div",[o._v("r = redis.Redis(connection_pool=pool)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 写入 1024 条数据")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# for i in range(1024):")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#     r.set('book_name%s' % i, 'book_%s' % i)")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 获取所有缓存名")])],1),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("():")],1),r("div",[o._v("    print(i)")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# -----------------------------------------------")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx?xxx -> ? 0个或1个")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("(match='h?llo'):")],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 等同于")])],1),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("('h?llo'):")],1),r("div",[o._v("    print(i)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 'hxllo', 'hallo', 'hello'")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("(match='s_key?'):")],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 等同于")])],1),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("('s_key?'):")],1),r("div",[o._v("    print(i)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 's_key3', 's_key2', 's_key1'")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# -----------------------------------------------")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx*xxx -> * 多个")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("(match='h*llo'):")],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 等同于")])],1),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("('h*llo'):")],1),r("div",[o._v("    print(i)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 'hxllo', 'hbbbllo', 'hallo', 'hdddllo', 'hello'")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[o._v("# -----------------------------------------------")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# xxx[]xxx -> 区域匹配")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("#")]),o._v(" for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("(match='h[ae]llo'):")],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[o._v("# 等同于")])],1),r("div",[o._v("for i in r."),r("font",{attrs:{color:"#FA7A00"}},[o._v("scan_iter")]),o._v("('h[ae]llo'):")],1),r("div",[o._v("    print(i)  "),r("font",{attrs:{color:"#41AD1C"}},[o._v("# 'hallo', 'hello'")])],1)]),r("div",[r("br")])]),r("div",[r("br")])])])])}),[],!1,null,null,null);i.default=t.exports}}]);