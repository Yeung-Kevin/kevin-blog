(window.webpackJsonp=window.webpackJsonp||[]).push([[189],{543:function(e,o,i){"use strict";i.r(o);var t=i(25),r=Object(t.a)({},(function(){var e=this,o=e.$createElement,i=e._self._c||o;return i("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[i("div",[i("span",[i("div",[i("div",[i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("索引就相当于一个目录可以快速查找到想要的数据")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("索引的作用: ")]),i("span",{staticStyle:{"font-size":"14pt"}},[e._v("约束、")]),i("span",{staticStyle:{"font-size":"14pt"}},[e._v("加速查找")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("索引的种类")])]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("hash索引: 以表的形式存储索引 -> 单值查询非常的快，但是范围查询会很慢")])])]),i("li",[i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("btree索引: 使用红黑树结构进行索引的存储 -> 常用")])])])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("在创建索引的时候会创建额外的文件保存索引的特殊数据结构，这样就会导致查询数据会很快，但是在进行数据的增删改就会比较慢（因为在")]),i("span",{staticStyle:{"font-size":"14pt"}},[e._v("进行数据的增删改的时候")]),i("span",{staticStyle:{"font-size":"14pt"}},[e._v("它还要更新索引文件（额外文件）的特殊数据结构）")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("数据表：数据表就是数据库里的表，数据表也叫物理表")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("索引表：")]),i("span",{staticStyle:{"font-size":"14pt"}},[e._v("在创建索引时所创建的额外文件，而该文件保存的是")]),i("span",{staticStyle:{"font-size":"14pt"}},[e._v("索引的特殊数据结构")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("在索引表中查询数据会比在数据表中查询数据要快")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("创建表后且表里面有了数据再执行添加索引的SQL语句时，执行时间会比较长")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("通过索引查询数据的执行循序: 先去索引文件里面找，再去数据表里面找")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("索引散列值（重复的数据比较多），不适合使用索引 -> 例如: 性别，只有两个值可选，且在表中的性别列的数据重复性比较大")])]),i("div",[i("font",{staticStyle:{"font-size":"14pt"}},[i("br")])],1),i("div",[i("span",{staticStyle:{"-en-paragraph":"true"}},[i("span",{staticStyle:{"font-size":"14pt"}},[e._v("在不使用索引的前提查找数据，会将数据库的数据从头到尾查找一遍")])])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[e._v("1.")]),e._v(" "),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("表结构和数据")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("表的结构")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[e._v("create table userinfo (")]),i("div",[e._v("    id int(11) not null auto_increment,")]),i("div",[e._v("    username varchar(10) not null,")]),i("div",[e._v("    age int(11) not null,")]),i("div",[e._v("    email varchar(50) not null,")]),i("div",[e._v("    address varchar(5) not null,")]),i("div",[e._v("    primary key (id)")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("使用 pymysql 添加一百万条数据")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[e._v("import pymysql")]),i("div",[e._v("import random")]),i("div",[i("br")]),i("div",[e._v("conn = pymysql.connect(host='localhost', user='root', password='', database='db1', charset='utf8')")]),i("div",[e._v("cursor = conn.cursor()")]),i("div",[e._v("address_lis = ['东莞', '广州', '深圳', '茂名', '化州', '潮州', '汕尾', '汕头', '河源', '桂林']")]),i("div",[e._v("for i in range(1, 1000001):")]),i("div",[e._v("    sql = 'insert into userinfo(username,age,email,address) values(%s,%s,%s,%s)'")]),i("div",[e._v("    result = cursor.execute(sql, ['用户%s' % i, random.randint(0, 100), '用户"),i("a",{attrs:{href:"mailto:%s@qq.com"}},[e._v("%s@qq.com")]),e._v("' % i, address_lis[random.randint(0, 9)]])")]),i("div",[e._v("    print(result, i)")]),i("div",[i("a",{attrs:{href:"http://conn.commit/"}},[e._v("conn.commit")]),e._v("()")]),i("div",[e._v("cursor.close()")]),i("div",[e._v("conn.close()")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image.png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[e._v("2.")]),e._v(" "),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("普通索引（单列普通索引） -> 加速查找")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("创建表时添加普通索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# index 索引名 (字段名)")])]),i("div",[i("br")]),i("div",[e._v("create table userinfo (")]),i("div",[e._v("    id int(11) not null auto_increment primary key,")]),i("div",[e._v("    username varchar(10) not null,")]),i("div",[e._v("    age int(11) not null,")]),i("div",[e._v("    email varchar(50) not null,")]),i("div",[e._v("    address varchar(5) not null,")]),i("div",[e._v("    index index_name (username) -- 将 username 字段设置为索引")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [1].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("创建表后添加普通索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# create index 索引名 on 表名(字段名);")])]),i("div",[i("br")]),i("div",[e._v("create index index_name on userinfo(username);")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [2].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("删除普通索引")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# drop index 索引名 on 表名;")])]),i("div",[i("br")]),i("div",[e._v("drop index index_name on userinfo;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [3].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("查看该表的所有索引")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# show index from 表名;")])]),i("div",[i("br")]),i("div",[e._v("show index from userinfo;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [4].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[e._v("3.")]),e._v(" "),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("联合普通索引 ")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("-> 加速查找")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("多列组成一个索引")])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("创建表时添加普通联合索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# index 索引名称 (字段名, 字段名, ……)")])]),i("div",[i("br")]),i("div",[e._v("create table t1(")]),i("div",[e._v("    id int auto_increment primary key,")]),i("div",[e._v("    pid int,")]),i("div",[e._v("    cid int,")]),i("div",[e._v("    index index_name (pid, cid)")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [5].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("创建表后添加普通联合索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# create index 索引名 on 表名(字段名, 字段名, ……);")])]),i("div",[i("br")]),i("div",[e._v("create index index_name on t1(pid, cid);")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [6].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-weight":"bold"}},[e._v("4.")]),e._v(" "),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("唯一索引")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("（单列唯一索引）")]),e._v(" "),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("-> 加速查找 + 数据不能重复")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt","white-space":"pre-wrap"}},[e._v("唯")]),i("span",{staticStyle:{"font-size":"12pt","white-space":"pre-wrap"}},[e._v("一索引: 不允许数据重复")])])]),i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("唯一索引和主键的区别: 主键不能为空，而唯一索引能允许有一个为空")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[e._v("创建表时添加唯一索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 写法一")])]),i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# unique 唯一索引名 (字段名);")])]),i("div",[i("br")]),i("div",[e._v("create table t1(")]),i("div",[e._v("    id int auto_increment primary key,")]),i("div",[e._v("    pid int,")]),i("div",[e._v("    unique uq (pid)")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("font",{attrs:{color:"#41AD1C"}},[e._v("# 写法二")])],1),i("div",[i("font",{attrs:{color:"#41AD1C"}},[e._v("# 直接在字段后面加上 unique")])],1),i("div",[i("font",{attrs:{color:"#41AD1C"}},[i("br")])],1),i("div",[e._v("create table t1(")]),i("div",[e._v("    id int auto_increment primary key,")]),i("div",[e._v("    pid int unique")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [7].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("创建表后添加唯一索引")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# create unique index 唯一索引名 on 表名(字段名);")])]),i("div",[i("br")]),i("div",[e._v("create unique index uq on t1(pid);")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [8].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("删除普通索引")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# drop index 唯一索引名 on 表名;")])]),i("div",[i("br")]),i("div",[e._v("drop index uq on t1;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [9].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("5.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("联合唯一索引 ")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("-> 加速查找 + 数据不能重复")])]),i("div",[i("span",{staticStyle:{"font-size":"14pt"}},[i("br")])]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("多列组成一个索引")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[e._v("创建表时添加联合唯一索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# unique 唯一索引名 (字段名1, 字段名2, ……);")])]),i("div",[i("br")]),i("div",[e._v("create table t1(")]),i("div",[e._v("    id int auto_increment primary key,")]),i("div",[e._v("    pid int,")]),i("div",[e._v("    cid int,")]),i("div",[e._v("    unique uq (pid, cid)")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [10].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[e._v("创建表后添加联合唯一索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# create unique index 唯一索引名 on 表名(字段名, 字段名, ……);")])]),i("div",[i("br")]),i("div",[e._v("create unique index uq on t1(pid, cid);")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [11].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("6.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("主键索引（其实就是主键 + 自增） ")]),i("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[e._v("-> 加速查找 + 数据不能重复（不能为空）")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt","white-space":"pre-wrap"}},[e._v("主键索引: 不允许数据重复")])])]),i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("主键")]),i("span",{staticStyle:{"font-size":"12pt"}},[e._v("和")]),i("span",{staticStyle:{"font-size":"12pt"}},[e._v("唯一索引的区别: 主键不能为空，而唯一索引能允许有一个为空")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"16px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}},[e._v("创建表时添加主键索引")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 写法一")])]),i("div",[i("br")]),i("div",[e._v("create table userinfo (")]),i("div",[e._v("    id int(11) not null auto_increment primary key,")]),i("div",[e._v("    username varchar(10) not null,")]),i("div",[e._v("    age int(11) not null,")]),i("div",[e._v("    email varchar(50) not null,")]),i("div",[e._v("    address varchar(5) not null")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 写法二")])]),i("div",[i("br")]),i("div",[e._v("create table userinfo (")]),i("div",[e._v("    id int(11) not null auto_increment,")]),i("div",[e._v("    username varchar(10) not null,")]),i("div",[e._v("    age int(11) not null,")]),i("div",[e._v("    email varchar(50) not null,")]),i("div",[e._v("    address varchar(5) not null,")]),i("div",[e._v("    primary key (id)")]),i("div",[e._v(") engine=innodb default charset=utf8;")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("创建表后添加组件索引")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# alter table 表名 add primary key(字段名);")])]),i("div",[i("br")]),i("div",[e._v("alter table userinfo add primary key(id);")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("删除主键索引")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# alter table 表名 drop primary key;")])]),i("div",[i("br")]),i("div",[e._v("alter table userinfo drop primary key;")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("7.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("局部索引")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("create index/unique index 索引名称 on t1(字段名(length)) -> 将字符串类型的前 ")]),i("span",{staticStyle:{"font-size":"12pt"}},[e._v("length ")]),i("span",{staticStyle:{"font-size":"12pt"}},[e._v("个字符作为索引")])])])]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt"}},[i("br")])]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("font",{attrs:{color:"#41AD1C"}},[e._v("# 将 username 数据中的前 2 个字符作为索引")])],1),i("div",[i("br")]),i("div",[e._v("create index index_name on userinfo(username(2));")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[e._v("创建索引时如果是 blob 和 text 类型的必须指定 length 不然就会报错")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("font",{attrs:{color:"#41AD1C"}},[e._v("# 如果 address 是 text 或 blob 类型的, 那么创建索引的时候一定要指定 length")])],1),i("div",[i("br")]),i("div",[e._v("create index index_name on userinfo(address(20));")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("7.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("使用索引和不使用索引的查询速度对比")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 有索引 -> username 设置为索引的前提下")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where username='用户999999';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [12].png",type:"image/png"}})]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 没有索引")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where username='用户999999';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [13].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("8.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("覆盖索引 和 索引合并")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("覆盖索引和索引合并是名词，不是真正意义上的的索引，只有在特殊的情况下使用索引就会叫这两个名字")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("覆盖索引 -> 在索引文件中直接获取数据")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco",color:"rgb(65, 173, 28)"}},[e._v("# 在 username 作为索引的前提下，直接从索引文件中获取 username 这一列数据（因为在创建索引的时候已经把username这一列数据保存到索引文件中了，所以可以直接从索引文件中获取）")])]),i("div",[i("br")]),i("div",[e._v("select username from userinfo where username='用户999999';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [14].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [15].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("索引合并 -> 把多个单列索引合并在一起使用 -> 索引合并的速度要比联合索引的要慢 -> 索引合并和下方的联合索引注意事项用法有点类似")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 在 username 、email、address作为单列索引的前提下")])]),i("div",[i("br")]),i("div",[e._v(" select * from userinfo where username='用户999999' and email='用户"),i("a",{attrs:{href:"mailto:999999@qq.com"}},[e._v("999999@qq.com")]),e._v("' and address='茂名';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [16].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [17].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("9.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("联合普通/唯一索引的注意事项")])]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt"}},[i("br")])]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("使用联合索引代替多个单列索引（同时使用多个单列索引进行条件查询 -> 简称: 索引合并），因为联合索引的速度比较快")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("这里的注意事项和索引合并的用法有一点类似，不同之处在于联合索引遵循最左前缀规则，而索引合并可以随便搭配以设置了索引的字段名，但是联合索引的速要比索引合并的要快")])])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("联合索引会遵循一个规则: 最左前缀 -> 意思就是只有和联合索引中设置的第一个字段名搭配着使用或单独使用")]),i("span",{staticStyle:{"font-size":"12pt"}},[e._v("联合索引中设置的第一个字段名")]),i("span",{staticStyle:{"font-size":"12pt"}},[e._v("才会使用到索引（有加速）")])])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco",color:"rgb(65, 173, 28)"}},[e._v("# 如果联合索引为：")])]),i("div",[i("br")]),i("div",[e._v("create index index_name on userinfo(username, email, address);")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt","font-family":"Monaco",color:"rgb(65, 173, 28)"}},[e._v("# 如果查询的时候 username 在前面就会使用到索引，有加速")])]),i("div",[i("br")]),i("div",[e._v("select username,email from userinfo where username='用户999999' and email='用户"),i("a",{attrs:{href:"mailto:999999@qq.com"}},[e._v("999999@qq.com")]),e._v("';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [18].png",type:"image/png"}})]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 如果查询的时候只有一个 username 那么也会使用到索引，有加速")])]),i("div",[i("br")]),i("div",[e._v("select username,email from userinfo where username='用户999999';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [19].png",type:"image/png"}})]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{"font-size":"9pt",color:"rgb(65, 173, 28)"}},[e._v("# 如果查询的时候 username 不在条件中是不会使用到索引的就算 email 和 address 在联合索引中，没有加速")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"font-size":"9pt"}},[e._v("select username, age from userinfo where username='用户1000' and age=74;")])])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [20].png",type:"image/png"}})]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 如果查询的时候只有一个除了 username 以外的字段名那么也不会使用到索引就算 email 或 address 在联合索引中，没有加速")])]),i("div",[i("br")]),i("div",[e._v("select username,email from userinfo where email='用户"),i("a",{attrs:{href:"mailto:999999@qq.com"}},[e._v("999999@qq.com")]),e._v("';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [21].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("10.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("正确使用索引")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("数据库表中添加索引后确实会让查询速度变快，但前提必须是正确的使用索引来查询，如果以错误的方式使用，即使建立了索引也会不奏效")])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("即使建立索引，索引也不会生效的示范：")])])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("like '%xxx'")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# like '%xxx' -> 就算 username 已经设置为索引，但是使用 like 进行模糊查询也是会没有使用上索引（没有加速）")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where email like '%用户"),i("a",{attrs:{href:"mailto:1000000@qq.com"}},[e._v("1000000@qq.com")]),e._v("';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [22].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [23].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("函数 -> 使用某些函数也会导致索引不会生效（不加速）-> 例如: reverse()")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[e._v("select * from userinfo where reverse(username) = '0000001户用';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [24].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [25].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("or -> 一个字段设置了索引，另一个字段没有设置索引，当使用 or 进行条件查询的时候，索引就会不生效 -> 如果字段A设置了索引，字段B没有设置索引，当字段A和字段B使用 or 进行条件查询的时候也会导致索引不会生效（不加速）")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# username 设置了索引， email 没有设置索引")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where username='用户999999' or email='用户"),i("a",{attrs:{href:"mailto:999999@qq.com"}},[e._v("999999@qq.com")]),e._v("';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [26].png",type:"image/png"}})]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 特殊情况: 索引字段名 = xxx or 没有设置索引字段名 = 'xxx' and 索引字段名 = xxx -> 索引是会生效的，因为它会忽略掉没有设置索引字段名 or 的那一部分")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# username 设置了索引， email 没有设置索引， address 设置了索引")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where username='用户999999' or email='用户"),i("a",{attrs:{href:"mailto:999999@qq.com"}},[e._v("999999@qq.com")]),e._v("' and address='茂名';")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [27].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("类型不一致")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# email 为索引的前提下，如果 email 的数据类型是字符串，但是在进行条件查询的时候传入的是数字类型，那么也会导致索引不会生效（不加速），因为在查询的时候要先将传入的数字类型的数据转换为字符串类型的数据然后再进行查询")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where email=123;")])]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [28].png",type:"image/png"}})]),i("div",[i("br")]),i("div",[i("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/MySQL/索引_files/Image [29].png",type:"image/png"}})]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("!=")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# email 为索引的前提下，如果 email 使用了 != 进行条件查询也会导致索引失效（不加速）")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where email != '用户"),i("a",{attrs:{href:"mailto:1000@qq.com"}},[e._v("1000@qq.com")]),e._v("';")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 特殊情况: id 为主键的前提下，如果 id 使用了 != 进行条件的查询，主键索引是会生效的（加速）")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where id != 1000;")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("> < >= <=")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 如果索引是字符串类型的就会导致索引不会生效（不加速），因为在查询的时候要先将传入的字符串类型的数据转换为数字类型的数据然后再进行比较")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where age > '30';")])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 特别情况：主键或索引是数字类型，则索引还是会生效（加速） -> id 为主键的前提下 或 age 为索引的前提下")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where id > 30;")]),i("div",[i("br")]),i("div",[e._v("select * from userinfo where age > 30;")])]),i("div",[i("br")]),i("ul",[i("li",[i("div",[e._v("order by -> 排序")])])]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 当根据索引字段进行排序的时候，选择的映射如果不是索引字段（查询数据的字段名不是索引的字段名），则会导致索引失效（不加速）")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 当 age 为索引的前提下")])]),i("div",[i("br")]),i("div",[e._v("select email from userinfo order by age desc; "),i("font",{attrs:{color:"#41AD1C"}},[e._v("-- 索引会失效（不加速）")])],1),i("div",[i("br")]),i("div",[e._v("select age from userinfo order by age desc; "),i("font",{attrs:{color:"#41AD1C"}},[e._v("-- 索引不会失效（加速）")])],1)]),i("div",[i("br")]),i("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[i("div",[i("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[e._v("# 特殊情况: 如果对主键进行排序，主键索引还是会生效的（加速）")])]),i("div",[i("br")]),i("div",[e._v("select * from userinfo order by id;")])]),i("div",[i("br")]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("11.")]),i("span",{staticStyle:{"font-size":"medium","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal"}}),i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[e._v("全文索引")])])]),i("div",[i("span",{staticStyle:{"box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"14pt"}},[i("br")])]),i("ul",[i("li",[i("div",[i("span",{staticStyle:{"font-size":"12pt"}},[e._v("每个字段都是索引")])])])]),i("div",[i("br")])]),i("div",[i("br")])])])])}),[],!1,null,null,null);o.default=r.exports}}]);