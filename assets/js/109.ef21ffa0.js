(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{458:function(t,o,r){"use strict";r.r(o);var e=r(25),i=Object(e.a)({},(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("1.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("flash 的介绍")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("flash 是一个基于session实现的用于保存数据的集合，其特点是：")]),r("span",{staticStyle:{"font-size":"12pt","font-weight":"bold",color:"rgb(227, 0, 0)"}},[t._v("使用一次就删除")])])])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("2.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("flash 的原理")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[t._v("在session中储存一个数据，在读取完数据后通过pop将该数据移除")])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("br")]),r("div",[t._v("from flask import Flask, render_template, session")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[t._v("app.secret_key = 'session_salt'")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    session['username'] = 'Kevin'  "),r("font",{attrs:{color:"#FA7A00"}},[t._v("# 设置 session")])],1),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    username = session.get('username') "),r("font",{attrs:{color:"#FA7A00"}},[t._v(" # 获取 session")])],1),r("div",[t._v("    print(username)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# Kevin")])],1),r("div",[t._v("    session.pop('username') "),r("font",{attrs:{color:"#FA7A00"}},[t._v(" # 删除获取过数据的session")])],1),r("div",[t._v("    print(session.get('username'))  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# None")])],1),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","box-sizing":"border-box","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","white-space":"pre-wrap",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}},[t._v("3.")]),r("span",{staticStyle:{"font-size":"14pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-family":'"Courier New"',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold"}}),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("flash 的使用")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("基本使用")])])])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, render_template, "),r("font",{attrs:{color:"#FA7A00"}},[t._v("flash")]),t._v(", "),r("font",{attrs:{color:"#FA7A00"}},[t._v("get_flashed_messages")])],1),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[t._v("app."),r("font",{attrs:{color:"#FA7A00"}},[t._v("secret_key")]),t._v(" = 'session_salt'  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 一定要设置 secret_key，因为 flash 是使用 session 做数据存储的")])],1),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("flash")]),t._v("('临时数据')  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置 flash")])],1),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[t._v("    flash_data = "),r("font",{attrs:{color:"#FA7A00"}},[t._v("get_flashed_messages()")]),t._v(" "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 获取 flash")])],1),r("div",[t._v("    print(flash_data)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# ['临时数据'] -> 如果再一次访问 /index 那么结果就是 []")])],1),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")]),r("ul",[r("li",[r("div",[t._v("分类使用")])])]),r("div",[r("br")]),r("ul",[r("ul",[r("li",[r("div",[t._v("category 设置数据的分类")])])])]),r("div",[r("br")]),r("ul",[r("ul",[r("ul",[r("li",[r("div",[t._v("默认值: message （即: flash 的数据默认分类为 message）")])])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# app.py")])],1),r("div",[r("font",{attrs:{color:"#41AD1C"}},[r("br")])],1),r("div",[t._v("from flask import Flask, render_template, flash, get_flashed_messages")]),r("div",[r("br")]),r("div",[t._v("app = Flask(__name__)")]),r("div",[t._v("app.secret_key = 'session_salt'  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 一定要设置 secret_key，因为 flash 是使用 session 做数据存储的")])],1),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/login')")]),r("div",[t._v("def login():")]),r("div",[t._v("    flash('错误数据1', "),r("font",{attrs:{color:"#FA7A00"}},[t._v("category")]),t._v("='error') "),r("font",{attrs:{color:"#41AD1C"}},[t._v(" # 设置 flash -> 将该数据的分类设置为 error")])],1),r("div",[t._v("    flash('错误数据2', "),r("font",{attrs:{color:"#FA7A00"}},[t._v("category")]),t._v("='error')  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置 flash -> 将该数据的分类设置为 error")])],1),r("div",[t._v("    flash('info数据', "),r("font",{attrs:{color:"#FA7A00"}},[t._v("category")]),t._v("='info')  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置 flash -> 将该数据的分类设置为 info")])],1),r("div",[t._v("    flash('临时数据')  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置 flash（即: 默认将该数据的分类设置为 message）")])],1),r("div",[t._v("    return render_template('login.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("@app.route('/index')")]),r("div",[t._v("def index():")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("# -----------------------------------------------")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[r("br")])],1),r("div",[t._v("    flash_error_info_data = get_flashed_messages("),r("font",{attrs:{color:"#FA7A00"}},[t._v("category_filter")]),t._v("=['error', 'info']) "),r("font",{attrs:{color:"#FA7A00"}},[t._v(" # 获取分类为 error、info 的 flash 数据")])],1),r("div",[t._v("    print(flash_error_info_data)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# ['错误数据1', '错误数据2', 'info数据'] -> 如果再一次访问 /index 那么结果就是 []")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("# -----------------------------------------------")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[r("br")])],1),r("div",[t._v("    flash_error_info_data = get_flashed_messages("),r("font",{attrs:{color:"#FA7A00"}},[t._v("category_filter")]),t._v("=['message'])  "),r("font",{attrs:{color:"#FA7A00"}},[t._v("# 获取分类为 message 的 flash 数据（即: flash默认分类数据）")])],1),r("div",[t._v("    print(flash_error_info_data)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# ['临时数据'] -> 如果再一次访问 /index 那么结果就是 []")])],1),r("div",[r("br")]),r("div",[r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[t._v("# -----------------------------------------------")])],1),r("div",[r("font",{staticStyle:{color:"rgb(250, 122, 0)"}},[r("br")])],1),r("div",[t._v("    flash_data = get_flashed_messages()  "),r("font",{attrs:{color:"#FA7A00"}},[t._v("# 获取所有分类的 flash 的数据")])],1),r("div",[t._v("    print(flash_data)  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# ['错误数据1', '错误数据2', 'info数据', '临时数据'] -> 如果再一次访问 /index 那么结果就是 []")])],1),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#FA7A00"}},[t._v("# -----------------------------------------------")])],1),r("div",[r("font",{attrs:{color:"#FA7A00"}},[r("br")])],1),r("div",[t._v("    return render_template('index.html')")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    app.run()")])]),r("div",[r("br")])]),r("div",[r("br")])])])])}),[],!1,null,null,null);o.default=i.exports}}]);