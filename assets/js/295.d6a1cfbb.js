(window.webpackJsonp=window.webpackJsonp||[]).push([[295],{647:function(t,i,r){"use strict";r.r(i);var o=r(25),e=Object(o.a)({},(function(){var t=this,i=t.$createElement,r=t._self._c||i;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("div",[r("span",[r("div",[r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap",color:"rgb(227, 0, 0)","font-weight":"bold"}},[t._v("事件其实就是阻塞所有进程，")]),r("span",{staticStyle:{"font-size":"14pt",color:"rgb(227, 0, 0)","font-weight":"bold"}},[t._v("让所有的进程进入等待的状态")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[t._v("from multiprocessing import Event")]),r("div",[r("br")]),r("div",[t._v("e = Event()")]),r("div",[t._v("e.wait(5)  # 得到一个标识，表示的默认状态就是阻塞，如果传了一个数字进去就代表只阻塞5秒，如果不传一直阻塞着")]),r("div",[t._v("e.set()  # 将标识变成非阻塞状态")]),r("div",[t._v("e.clear()  # 将标识变成阻塞状态")]),r("div",[t._v("e.is_set() # 判断是否为非阻塞 返回值: True: 非阻塞 False: 阻塞")])]),r("div",[r("br")]),r("div",[r("span",{staticStyle:{"font-size":"14pt","white-space":"pre-wrap","font-family":'"Courier New"',"font-weight":"bold","line-height":"1.75"}},[t._v("1.")]),t._v(" "),r("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[t._v("红绿灯例子")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("ul",[r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("每隔3秒进行红绿灯的切换")])])]),r("li",[r("div",[r("span",{staticStyle:{"font-size":"12pt"}},[t._v("每次绿灯都会通过一定随机数量的车辆")])])])]),r("div",[r("br")]),r("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[r("div",[t._v("import random")]),r("div",[t._v("import time")]),r("div",[t._v("from multiprocessing import Process")]),r("div",[t._v("from multiprocessing import Event")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# 红绿灯切换进程")])],1),r("div",[t._v("def traffic_light(e):")]),r("div",[t._v("    while True:")]),r("div",[t._v("        if e.is_set():  "),r("font",{attrs:{color:"#E30000"}},[t._v("# 判断是否为非阻塞")])],1),r("div",[t._v("            time.sleep(3)")]),r("div",[t._v("            print('红灯亮')")]),r("div",[t._v("            e.clear() "),r("font",{attrs:{color:"#E30000"}},[t._v(" # 将标识设置为阻塞")])],1),r("div",[t._v("        else:")]),r("div",[t._v("            time.sleep(3)")]),r("div",[t._v("            print('绿灯亮')")]),r("div",[t._v("            e.set()  "),r("font",{attrs:{color:"#E30000"}},[t._v("# 将标识设置为非阻塞")])],1),r("div",[r("br")]),r("div",[r("br")]),r("div",[r("font",{attrs:{color:"#41AD1C"}},[t._v("# 汽车通过进程")])],1),r("div",[t._v("def car(i, e):")]),r("div",[t._v("    e.wait()  "),r("font",{attrs:{color:"#E30000"}},[t._v("# 设置标识状态，根据状态对所有进程进行阻塞")])],1),r("div",[t._v("    print('%s车通过' % i)")]),r("div",[r("br")]),r("div",[r("br")]),r("div",[t._v("if __name__ == '__main__':")]),r("div",[t._v("    e = Event()  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 立了一个红绿灯")])],1),r("div",[t._v("    tra = Process(target=traffic_light, args=(e,))")]),r("div",[t._v("    tra.start()  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 执行红绿灯切换进程")])],1),r("div",[r("br")]),r("div",[t._v("    for i in range(100):")]),r("div",[t._v("        if i % 6 == 0:")]),r("div",[t._v("            time.sleep(random.randint(1, 3))  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 设置延时，每次通过随机数量的车辆")])],1),r("div",[t._v("        car_pro = Process(target=car, args=(i, e))")]),r("div",[t._v("        car_pro.start()  "),r("font",{attrs:{color:"#41AD1C"}},[t._v("# 汽车通过进程")])],1)]),r("div",[r("br")])]),r("div",[r("span",{staticStyle:{"font-size":"14pt"}},[r("br")])]),r("div",[r("br")])])])])}),[],!1,null,null,null);i.default=e.exports}}]);