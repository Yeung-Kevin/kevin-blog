(window.webpackJsonp=window.webpackJsonp||[]).push([[107],{461:function(o,e,t){"use strict";t.r(e);var i=t(25),r=Object(i.a)({},(function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[t("div",[t("span",[t("div",[t("div",[t("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("1.")]),o._v(" "),t("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("设置 cookie")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("ul",[t("li",[t("div",[o._v("方式一")])])]),t("div",[t("br")]),t("ul",[t("ul",[t("li",[t("div",[o._v("创建对象 make_response 的对象，然后调用对象的 set_cookie 方法设置 cookie")])])])]),t("div",[t("br")]),t("ul",[t("ul",[t("li",[t("div",[o._v("语法:")])]),t("ul",[t("li",[t("div",[o._v("response.set_cookie('cookie名', 'cookie值') -> 创建临时cookie")])])])]),t("ul",[t("ul",[t("li",[t("div",[o._v("response.set_cookie('cookie名', 'cookie值', max_age=xxx) -> 创建有效期cookie")])])])])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[t("br")])],1),t("div",[o._v("from flask import Flask, render_template, make_response")]),t("div",[t("br")]),t("div",[o._v("app = Flask(__name__)")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("@app.route('/set_cookie')")]),t("div",[o._v("def set_cookie():")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v('""" 设置cookie """')])],1),t("div",[o._v("    temp = render_template('index.html')")]),t("div",[t("br")]),t("div",[o._v("    response = make_response(temp)  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建响应对象")])],1),t("div",[t("br")]),t("div",[o._v("    response."),t("font",{attrs:{color:"#FA7A00"}},[o._v("set_cookie")]),o._v("('t_c_key', 't_c_value') "),t("font",{attrs:{color:"#41AD1C"}},[o._v(" # 设置 cookie，默认临时cookie浏览器关闭即失效")])],1),t("div",[o._v("    response."),t("font",{attrs:{color:"#FA7A00"}},[o._v("set_cookie")]),o._v("('v_p_key', 'v_p_value', "),t("font",{attrs:{color:"#FA7A00"}},[o._v("max_age")]),o._v("=20)  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 设置 cookie，通过 max_age 控制 cookie 有效期, 单位: 秒")])],1),t("div",[t("br")]),t("div",[o._v("    return response")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("if __name__ == '__main__':")]),t("div",[o._v("    app.run()")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Flask/cookie_files/Image.png",type:"image/png"}})])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("ul",[t("li",[t("div",[t("span",{staticStyle:{"font-size":"12pt"}},[o._v("方式二 -> 很少使用")])])])]),t("div",[t("br")]),t("ul",[t("ul",[t("li",[t("div",[o._v("直接设置cookie响应头")])])])]),t("div",[t("br")]),t("ul",[t("ul",[t("li",[t("div",[o._v("除了键值对,其他部分可去浏览器检查摘抄")])])])]),t("div",[t("br")]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),t("div",[t("br")]),t("div",[o._v("from flask import Flask, render_template, make_response")]),t("div",[t("br")]),t("div",[o._v("app = Flask(__name__)")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("@app.route('/set_cookie')")]),t("div",[o._v("def set_cookie():")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v('""" 设置cookie """')])],1),t("div",[o._v("    temp = render_template('index.html')")]),t("div",[o._v("    response = make_response(temp)  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建响应对象")])],1),t("div",[t("font",{attrs:{color:"#FA7A00"}},[o._v('response.headers["Set-Cookie"]')]),o._v(" = 'v_p_key=v_p_value; Expires=Wed, 28-Aug-2019 08:48:36 GMT; Max-Age=20; Path=/'  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 直接设置cookie响应头")])],1),t("div",[o._v("    return response")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("if __name__ == '__main__':")]),t("div",[o._v("    app.run()")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("img",{attrs:{"data-filename":"Image.png",src:"/kevin-blog/Flask/cookie_files/Image [1].png",type:"image/png"}})])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("2.")]),o._v(" "),t("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("删除 cookie")])]),t("div",[t("font",{staticStyle:{"font-size":"12pt"}},[t("br")])],1),t("ul",[t("li",[t("div",[t("span",{staticStyle:{"font-size":"12pt"}},[o._v("创建对象 make_response 的对象，然后调用对象的")]),o._v(" delete_cookie "),t("span",{staticStyle:{"font-size":"12pt"}},[o._v("方法删除 cookie")])])])]),t("div",[t("br")]),t("ul",[t("li",[t("div",[o._v("语法: response.delete_cookie('cookie名')")])])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[t("br")])],1),t("div",[o._v("from flask import Flask, request, make_response")]),t("div",[t("br")]),t("div",[o._v("app = Flask(__name__)")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("@app.route('/delete_cookie')")]),t("div",[o._v("def delete_cookie():")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v('""" 删除cookie """')])],1),t("div",[o._v("    response = make_response('删除成功')  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 创建响应对象")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[t("br")])],1),t("div",[o._v("    response."),t("font",{attrs:{color:"#FA7A00"}},[o._v("delete_cookie")]),o._v("('t_c_key')  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 删除 cookie")])],1),t("div",[t("font",{attrs:{color:"#41AD1C"}},[t("br")])],1),t("div",[o._v("    return response")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("if __name__ == '__main__':")]),t("div",[o._v("    app.run()")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("3.")]),o._v(" "),t("span",{staticStyle:{"font-size":"14pt","font-weight":"bold"}},[o._v("获取 cookie")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v("# app.py")])],1),t("div",[t("br")]),t("div",[o._v("from flask import Flask, request")]),t("div",[t("br")]),t("div",[o._v("app = Flask(__name__)")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("@app.route('/get_cookie')")]),t("div",[o._v("def get_cookie():")]),t("div",[t("font",{attrs:{color:"#41AD1C"}},[o._v('""" 获取cookie """')])],1),t("div",[t("br")]),t("div",[o._v("    all_cookie = "),t("font",{attrs:{color:"#FA7A00"}},[o._v("request.cookies")]),o._v(" "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 获取所有的cookie")])],1),t("div",[o._v("    print(all_cookie)  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# {'t_c_key': 't_c_value', 'csrftoken': 'sqXJLV5sHo5s5yK2QttwrU3vcpL8SZnQ3Uxfr4xbGzMlMvEafVVxTRI2CbsyQjvv'}")])],1),t("div",[t("br")]),t("div",[o._v("    cookie = "),t("font",{attrs:{color:"#FA7A00"}},[o._v("request.cookies")]),o._v(".get('v_p_key')  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# 获取指定的cookie")])],1),t("div",[o._v("    print(cookie)  "),t("font",{attrs:{color:"#41AD1C"}},[o._v("# v_p_value 或 None")])],1),t("div",[t("br")]),t("div",[o._v("    return cookie if cookie else 'cookie已过期'")]),t("div",[t("br")]),t("div",[t("br")]),t("div",[o._v("if __name__ == '__main__':")]),t("div",[o._v("    app.run()")])]),t("div",[t("span",{staticStyle:{"font-size":"14pt"}},[t("br")])]),t("div",[t("br")])]),t("div",[t("br")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);