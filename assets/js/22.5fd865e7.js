(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{372:function(t,a,o){"use strict";o.r(a);var e=o(25),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[o("div",[o("span",[o("div",[o("h2",{staticStyle:{margin:"10px 0px 12px",padding:"0px 0px 0px 15px","font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-align":"center","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px"}},[o("span",{staticStyle:{"font-size":"21px","background-color":"#3eaf7c","border-radius":"3px","text-shadow":"rgb(34, 34, 34) 1px 1px 2px","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"white","font-family":'"Helvetica Neue", Helvetica, Verdana, Arial, sans-serif',"font-variant-caps":"normal","font-variant-ligatures":"normal","font-weight":"bold","line-height":"1.5"}},[t._v("聚合查询")])]),o("div",[o("br")]),o("ul",[o("li",[o("div",[o("span",{staticStyle:{"font-size":"12pt"}},[t._v("使用 .aggregate() 进行聚合查询")])])]),o("li",[o("div",[o("span",{staticStyle:{"font-size":"12pt"}},[t._v(".aggregate()是QuerySet 的一个终止子句，意思是说，它返回一个包含一些键值对的字典")])])]),o("li",[o("div",[o("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","background-color":"rgb(255, 255, 255)",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("键的名称是聚合值的标识符，")]),o("span",{staticStyle:{"font-size":"12pt","letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("值是计算出来的聚合值")])])]),o("li",[o("div",[o("span",{staticStyle:{"letter-spacing":"normal",orphans:"2","text-indent":"0px","text-transform":"none","white-space":"normal",widows:"2","word-spacing":"0px","-webkit-text-stroke-width":"0px","font-size":"12pt",color:"rgb(0, 0, 0)","font-variant-caps":"normal","font-variant-ligatures":"normal"}},[t._v("键的名称默认是按照字段名和聚合函数的名称拼接而成")])])])]),o("div",[o("br")]),o("ul",[o("li",[o("div",[t._v("导入聚合函数")])])]),o("div",[o("br")]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[t._v("from django.db.models import Sum, Avg, Max, Min, Count")])]),o("div",[o("br")]),o("ul",[o("li",[o("div",[o("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("语法:")]),t._v(" .aggregate(聚合函数方法名('字段名'))")])])]),o("div",[o("br")]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[t._v("from app01.models import *")]),o("div",[t._v("from django.db.models import Sum, Avg, Max, Min, Count")]),o("div",[o("br")]),o("div",[t._v("p_data = Student.objects.all().aggregate(Sum('age'), Avg('age'), Max('age'), Min('age'), Count('id'))")]),o("div",[t._v("print(p_data)  "),o("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v("# {'age__avg': 24.0, 'age__sum': 96, 'id__count': 4, 'age__min': 18, 'age__max': 30}")])])]),o("div",[o("br")]),o("ul",[o("li",[o("div",[t._v("指定键的名称")])])]),o("div",[o("br")]),o("ul",[o("ul",[o("li",[o("div",[o("span",{staticStyle:{color:"rgb(227, 0, 0)"}},[t._v("语法:")]),t._v(" .aggregate(自定义key的名称=聚合函数方法名('字段名'))")])])])]),o("div",[o("br")]),o("div",{staticStyle:{"box-sizing":"border-box",padding:"8px","font-family":'Monaco, Menlo, Consolas, "Courier New", monospace',"font-size":"12px",color:"rgb(51, 51, 51)","border-radius":"4px","background-color":"rgb(251, 250, 248)",border:"1px solid rgba(0, 0, 0, 0.15)","-en-codeblock":"true"}},[o("div",[t._v("from app01.models import *")]),o("div",[t._v("from django.db.models import Sum, Avg, Max, Min, Count")]),o("div",[o("br")]),o("div",[t._v("p_data = Student.objects.all().aggregate(a_s=Sum('age'), a_a=Avg('age'), a_max=Max('age'), a_min=Min('age'), a_c=Count('id'))")]),o("div",[t._v("print(p_data) "),o("span",{staticStyle:{color:"rgb(65, 173, 28)"}},[t._v(" # {'a_s': 96, 'a_min': 18, 'a_a': 24.0, 'a_max': 30, 'a_c': 4}")])])]),o("div",[o("br")]),o("div",[o("br")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);